var cu=Object.defineProperty;var du=(e,n,i)=>n in e?cu(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i;var rt=(e,n,i)=>(du(e,typeof n!="symbol"?n+"":n,i),i),hu=(e,n,i)=>{if(!n.has(e))throw TypeError("Cannot "+i)};var Hn=(e,n,i)=>{if(n.has(e))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(e):n.set(e,i)};var An=(e,n,i)=>(hu(e,n,"access private method"),i);import{i as vt,a as fu,b as Qr,M as pu,S as Uo,e as gu,U as Ko,g as qo,c as ei,d as Wo,f as Yo,h as qr,j as mu,k as Jo,l as vu,m as yu,t as to,n as _u,o as bu,p as Lu,q as is,r as Vt,s as ku,u as Mu,v as wu,w as Ui,x as vr,y as no,z as Qe,A as Xo,B as qn,C as Ki,D as yr,E as os,F as $e,G as ro,H as xu,I as Eu,J as Cu,K as ut,L as Ze,N as _r,O as as,P as Su,Q as Ou,R as Zo,T as Lt,V as io,W as Tn,X as ci,Y as Pu,Z as Cr,_ as di,$ as ss,a0 as Tu,a1 as Ru,a2 as Sr,a3 as br,a4 as Tt,a5 as ls,a6 as tt,a7 as hn,a8 as us,a9 as Zn,aa as Qo,ab as Bu,ac as Lr,ad as ti,ae as Iu,af as oo,ag as Du,ah as ea,ai as Au,aj as qi,ak as hi,al as Wr,am as hr,an as cs,ao as ds,ap as Nu,aq as hs,ar as zu,as as ju,at as ta,au as Fu,av as Gu,aw as $u,ax as mn,ay as Ar,az as Vu,aA as Hu,aB as Uu,aC as Ku,aD as qu,aE as Wu,aF as na,aG as ln,aH as fr,aI as Yu,aJ as Ju,aK as Yr,aL as Rn,aM as ra,aN as Jr,aO as fs,aP as Ii,aQ as Di}from"./index--76_cFkq.js";import{i as _t,c as Q,g as on,o as Mt,w as Xu,a as an,b as kt,r as he,u as M,d as Cn,e as Zu,f as Be,h as ps,s as tn,N as zn,j as Qu,p as Wt,k as nn,l as Pe,m as ec,n as ao,q as Ye,t as un,v as Et,x as fn,y as le,z as Ee,A as Oe,F as Rt,B as me,C as Ae,D as Re,E as Ce,G as fe,H as Kt,I as vn,J as ye,K as Pt,L as bt,M as xt,O as rn,T as _n,P as Bn,Q as gs,R as tc,S as ms,U as nc,V as rc,W as vs,X as ys,Y as ic,Z as Wn,_ as Wi,$ as Dt,a0 as Qn,a1 as fi,a2 as cr,a3 as Ai,a4 as Mn,a5 as oc,a6 as pr,a7 as ac,a8 as sc,a9 as lc,aa as uc,ab as _s,ac as ia,ad as cc,ae as bs,af as Ls,ag as wt,ah as dc}from"./index-KDzaQaWu.js";const gn=(e,n,{checkForDefaultPrevented:i=!0}={})=>l=>{const a=e==null?void 0:e(l);if(i===!1||!a)return n==null?void 0:n(l)},hc=()=>vt&&/firefox/i.test(window.navigator.userAgent);var fc=/\s/;function pc(e){for(var n=e.length;n--&&fc.test(e.charAt(n)););return n}var gc=/^\s+/;function mc(e){return e&&e.slice(0,pc(e)+1).replace(gc,"")}var oa=NaN,vc=/^[-+]0x[0-9a-f]+$/i,yc=/^0b[01]+$/i,_c=/^0o[0-7]+$/i,bc=parseInt;function Yi(e){if(typeof e=="number")return e;if(fu(e))return oa;if(Qr(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Qr(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=mc(e);var i=yc.test(e);return i||_c.test(e)?bc(e.slice(2),i?2:8):vc.test(e)?oa:+e}var aa=1/0,Lc=17976931348623157e292;function kc(e){if(!e)return e===0?e:0;if(e=Yi(e),e===aa||e===-aa){var n=e<0?-1:1;return n*Lc}return e===e?e:0}function Mc(e){var n=kc(e),i=n%1;return n===n?i?n-i:n:0}function wc(e){return e}function xc(e,n,i,o){for(var l=e.length,a=i+(o?1:-1);o?a--:++a<l;)if(n(e[a],a,e))return a;return-1}var Ec="__lodash_hash_undefined__";function Cc(e){return this.__data__.set(e,Ec),this}function Sc(e){return this.__data__.has(e)}function ni(e){var n=-1,i=e==null?0:e.length;for(this.__data__=new pu;++n<i;)this.add(e[n])}ni.prototype.add=ni.prototype.push=Cc;ni.prototype.has=Sc;function Oc(e,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(e[i],i,e))return!0;return!1}function Pc(e,n){return e.has(n)}var Tc=1,Rc=2;function ks(e,n,i,o,l,a){var u=i&Tc,c=e.length,d=n.length;if(c!=d&&!(u&&d>c))return!1;var f=a.get(e),v=a.get(n);if(f&&v)return f==n&&v==e;var b=-1,x=!0,P=i&Rc?new ni:void 0;for(a.set(e,n),a.set(n,e);++b<c;){var k=e[b],y=n[b];if(o)var E=u?o(y,k,b,n,e,a):o(k,y,b,e,n,a);if(E!==void 0){if(E)continue;x=!1;break}if(P){if(!Oc(n,function(m,S){if(!Pc(P,S)&&(k===m||l(k,m,i,o,a)))return P.push(S)})){x=!1;break}}else if(!(k===y||l(k,y,i,o,a))){x=!1;break}}return a.delete(e),a.delete(n),x}function Bc(e){var n=-1,i=Array(e.size);return e.forEach(function(o,l){i[++n]=[l,o]}),i}function Ic(e){var n=-1,i=Array(e.size);return e.forEach(function(o){i[++n]=o}),i}var Dc=1,Ac=2,Nc="[object Boolean]",zc="[object Date]",jc="[object Error]",Fc="[object Map]",Gc="[object Number]",$c="[object RegExp]",Vc="[object Set]",Hc="[object String]",Uc="[object Symbol]",Kc="[object ArrayBuffer]",qc="[object DataView]",sa=Uo?Uo.prototype:void 0,Ni=sa?sa.valueOf:void 0;function Wc(e,n,i,o,l,a,u){switch(i){case qc:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Kc:return!(e.byteLength!=n.byteLength||!a(new Ko(e),new Ko(n)));case Nc:case zc:case Gc:return gu(+e,+n);case jc:return e.name==n.name&&e.message==n.message;case $c:case Hc:return e==n+"";case Fc:var c=Bc;case Vc:var d=o&Dc;if(c||(c=Ic),e.size!=n.size&&!d)return!1;var f=u.get(e);if(f)return f==n;o|=Ac,u.set(e,n);var v=ks(c(e),c(n),o,l,a,u);return u.delete(e),v;case Uc:if(Ni)return Ni.call(e)==Ni.call(n)}return!1}var Yc=1,Jc=Object.prototype,Xc=Jc.hasOwnProperty;function Zc(e,n,i,o,l,a){var u=i&Yc,c=qo(e),d=c.length,f=qo(n),v=f.length;if(d!=v&&!u)return!1;for(var b=d;b--;){var x=c[b];if(!(u?x in n:Xc.call(n,x)))return!1}var P=a.get(e),k=a.get(n);if(P&&k)return P==n&&k==e;var y=!0;a.set(e,n),a.set(n,e);for(var E=u;++b<d;){x=c[b];var m=e[x],S=n[x];if(o)var A=u?o(S,m,x,n,e,a):o(m,S,x,e,n,a);if(!(A===void 0?m===S||l(m,S,i,o,a):A)){y=!1;break}E||(E=x=="constructor")}if(y&&!E){var w=e.constructor,T=n.constructor;w!=T&&"constructor"in e&&"constructor"in n&&!(typeof w=="function"&&w instanceof w&&typeof T=="function"&&T instanceof T)&&(y=!1)}return a.delete(e),a.delete(n),y}var Qc=1,la="[object Arguments]",ua="[object Array]",Nr="[object Object]",ed=Object.prototype,ca=ed.hasOwnProperty;function td(e,n,i,o,l,a){var u=ei(e),c=ei(n),d=u?ua:Wo(e),f=c?ua:Wo(n);d=d==la?Nr:d,f=f==la?Nr:f;var v=d==Nr,b=f==Nr,x=d==f;if(x&&Yo(e)){if(!Yo(n))return!1;u=!0,v=!1}if(x&&!v)return a||(a=new qr),u||mu(e)?ks(e,n,i,o,l,a):Wc(e,n,d,i,o,l,a);if(!(i&Qc)){var P=v&&ca.call(e,"__wrapped__"),k=b&&ca.call(n,"__wrapped__");if(P||k){var y=P?e.value():e,E=k?n.value():n;return a||(a=new qr),l(y,E,i,o,a)}}return x?(a||(a=new qr),Zc(e,n,i,o,l,a)):!1}function pi(e,n,i,o,l){return e===n?!0:e==null||n==null||!Jo(e)&&!Jo(n)?e!==e&&n!==n:td(e,n,i,o,pi,l)}var nd=1,rd=2;function id(e,n,i,o){var l=i.length,a=l,u=!o;if(e==null)return!a;for(e=Object(e);l--;){var c=i[l];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++l<a;){c=i[l];var d=c[0],f=e[d],v=c[1];if(u&&c[2]){if(f===void 0&&!(d in e))return!1}else{var b=new qr;if(o)var x=o(f,v,d,e,n,b);if(!(x===void 0?pi(v,f,nd|rd,o,b):x))return!1}}return!0}function Ms(e){return e===e&&!Qr(e)}function od(e){for(var n=vu(e),i=n.length;i--;){var o=n[i],l=e[o];n[i]=[o,l,Ms(l)]}return n}function ws(e,n){return function(i){return i==null?!1:i[e]===n&&(n!==void 0||e in Object(i))}}function ad(e){var n=od(e);return n.length==1&&n[0][2]?ws(n[0][0],n[0][1]):function(i){return i===e||id(i,e,n)}}function sd(e,n){return e!=null&&n in Object(e)}function ld(e,n,i){n=yu(n,e);for(var o=-1,l=n.length,a=!1;++o<l;){var u=to(n[o]);if(!(a=e!=null&&i(e,u)))break;e=e[u]}return a||++o!=l?a:(l=e==null?0:e.length,!!l&&_u(l)&&bu(u,l)&&(ei(e)||Lu(e)))}function ud(e,n){return e!=null&&ld(e,n,sd)}var cd=1,dd=2;function hd(e,n){return is(e)&&Ms(n)?ws(to(e),n):function(i){var o=Vt(i,e);return o===void 0&&o===n?ud(i,e):pi(n,o,cd|dd)}}function fd(e){return function(n){return n==null?void 0:n[e]}}function pd(e){return function(n){return ku(n,e)}}function gd(e){return is(e)?fd(to(e)):pd(e)}function md(e){return typeof e=="function"?e:e==null?wc:typeof e=="object"?ei(e)?hd(e[0],e[1]):ad(e):gd(e)}var vd=function(){return Mu.Date.now()};const zi=vd;var yd="Expected a function",_d=Math.max,bd=Math.min;function da(e,n,i){var o,l,a,u,c,d,f=0,v=!1,b=!1,x=!0;if(typeof e!="function")throw new TypeError(yd);n=Yi(n)||0,Qr(i)&&(v=!!i.leading,b="maxWait"in i,a=b?_d(Yi(i.maxWait)||0,n):a,x="trailing"in i?!!i.trailing:x);function P(B){var I=o,U=l;return o=l=void 0,f=B,u=e.apply(U,I),u}function k(B){return f=B,c=setTimeout(m,n),v?P(B):u}function y(B){var I=B-d,U=B-f,Z=n-I;return b?bd(Z,a-U):Z}function E(B){var I=B-d,U=B-f;return d===void 0||I>=n||I<0||b&&U>=a}function m(){var B=zi();if(E(B))return S(B);c=setTimeout(m,y(B))}function S(B){return c=void 0,x&&o?P(B):(o=l=void 0,u)}function A(){c!==void 0&&clearTimeout(c),f=0,o=d=l=c=void 0}function w(){return c===void 0?u:S(zi())}function T(){var B=zi(),I=E(B);if(o=arguments,l=this,d=B,I){if(c===void 0)return k(d);if(b)return clearTimeout(c),c=setTimeout(m,n),P(d)}return c===void 0&&(c=setTimeout(m,n)),u}return T.cancel=A,T.flush=w,T}var Ld=Math.max,kd=Math.min;function Md(e,n,i){var o=e==null?0:e.length;if(!o)return-1;var l=o-1;return i!==void 0&&(l=Mc(i),l=i<0?Ld(o+l,0):kd(l,o-1)),xc(e,md(n),l,!0)}function ha(e,n){return pi(e,n)}function yn(e){return e==null}function xs(e){return e===void 0}const wd=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d");let zr;const xd=e=>{var n;if(!vt)return 0;if(zr!==void 0)return zr;const i=document.createElement("div");i.className=`${e}-scrollbar__wrap`,i.style.visibility="hidden",i.style.width="100px",i.style.position="absolute",i.style.top="-9999px",document.body.appendChild(i);const o=i.offsetWidth;i.style.overflow="scroll";const l=document.createElement("div");l.style.width="100%",i.appendChild(l);const a=l.offsetWidth;return(n=i.parentNode)==null||n.removeChild(i),zr=o-a,zr};function Ed(e,n){if(!vt)return;if(!n){e.scrollTop=0;return}const i=[];let o=n.offsetParent;for(;o!==null&&e!==o&&e.contains(o);)i.push(o),o=o.offsetParent;const l=n.offsetTop+i.reduce((d,f)=>d+f.offsetTop,0),a=l+n.offsetHeight,u=e.scrollTop,c=u+e.clientHeight;l<u?e.scrollTop=l:a>c&&(e.scrollTop=a-e.clientHeight)}const Cd=(...e)=>n=>{e.forEach(i=>{_t(i)?i(n):i.value=n})},Gn={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},Sd=e=>wu[e||"default"];var Xr=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(Xr||{});const Es=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),Cs=e=>e,Od=["class","style"],Pd=/^on[A-Z]/,Td=(e={})=>{const{excludeListeners:n=!1,excludeKeys:i}=e,o=Q(()=>((i==null?void 0:i.value)||[]).concat(Od)),l=on();return l?Q(()=>{var a;return Ui(Object.entries((a=l.proxy)==null?void 0:a.$attrs).filter(([u])=>!o.value.includes(u)&&!(n&&Pd.test(u))))}):Q(()=>({}))},Rd=(e,n,i)=>{let o={offsetX:0,offsetY:0};const l=c=>{const d=c.clientX,f=c.clientY,{offsetX:v,offsetY:b}=o,x=e.value.getBoundingClientRect(),P=x.left,k=x.top,y=x.width,E=x.height,m=document.documentElement.clientWidth,S=document.documentElement.clientHeight,A=-P+v,w=-k+b,T=m-P-y+v,B=S-k-E+b,I=Z=>{const J=Math.min(Math.max(v+Z.clientX-d,A),T),oe=Math.min(Math.max(b+Z.clientY-f,w),B);o={offsetX:J,offsetY:oe},e.value&&(e.value.style.transform=`translate(${vr(J)}, ${vr(oe)})`)},U=()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",U)};document.addEventListener("mousemove",I),document.addEventListener("mouseup",U)},a=()=>{n.value&&e.value&&n.value.addEventListener("mousedown",l)},u=()=>{n.value&&e.value&&n.value.removeEventListener("mousedown",l)};Mt(()=>{Xu(()=>{i.value?a():u()})}),an(()=>{u()})};var Bd={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const Id=e=>(n,i)=>Dd(n,i,M(e)),Dd=(e,n,i)=>Vt(i,e,e).replace(/\{(\w+)\}/g,(o,l)=>{var a;return`${(a=n==null?void 0:n[l])!=null?a:`{${l}}`}`}),Ad=e=>{const n=Q(()=>M(e).name),i=Cn(e)?e:he(e);return{lang:n,locale:i,t:Id(e)}},Ss=Symbol("localeContextKey"),sr=e=>{const n=e||kt(Ss,he());return Ad(Q(()=>n.value||Bd))},Nd=(e,n={})=>{Cn(e)||no("[useLockscreen]","You need to pass a ref param to this function");const i=n.ns||Qe("popup"),o=Zu(()=>i.bm("parent","hidden"));if(!vt||Xo(document.body,o.value))return;let l=0,a=!1,u="0";const c=()=>{setTimeout(()=>{yr(document==null?void 0:document.body,o.value),a&&document&&(document.body.style.width=u)},200)};Be(e,d=>{if(!d){c();return}a=!Xo(document.body,o.value),a&&(u=document.body.style.width),l=xd(i.namespace.value);const f=document.documentElement.clientHeight<document.body.scrollHeight,v=qn(document.body,"overflowY");l>0&&(f||v==="scroll")&&a&&(document.body.style.width=`calc(100% - ${l}px)`),Ki(document.body,o.value)}),ps(()=>c())},zd=os({type:$e(Boolean),default:null}),jd=os({type:$e(Function)}),Os=e=>{const n=`update:${e}`,i=`onUpdate:${e}`,o=[n],l={[e]:zd,[i]:jd};return{useModelToggle:({indicator:u,toggleReason:c,shouldHideWhenRouteChanges:d,shouldProceed:f,onShow:v,onHide:b})=>{const x=on(),{emit:P}=x,k=x.props,y=Q(()=>_t(k[i])),E=Q(()=>k[e]===null),m=I=>{u.value!==!0&&(u.value=!0,c&&(c.value=I),_t(v)&&v(I))},S=I=>{u.value!==!1&&(u.value=!1,c&&(c.value=I),_t(b)&&b(I))},A=I=>{if(k.disabled===!0||_t(f)&&!f())return;const U=y.value&&vt;U&&P(n,!0),(E.value||!U)&&m(I)},w=I=>{if(k.disabled===!0||!vt)return;const U=y.value&&vt;U&&P(n,!1),(E.value||!U)&&S(I)},T=I=>{ro(I)&&(k.disabled&&I?y.value&&P(n,!1):u.value!==I&&(I?m():S()))},B=()=>{u.value?w():A()};return Be(()=>k[e],T),d&&x.appContext.config.globalProperties.$route!==void 0&&Be(()=>({...x.proxy.$route}),()=>{d.value&&u.value&&w()}),Mt(()=>{T(k[e])}),{hide:w,show:A,toggle:B,hasUpdateHandler:y}},useModelToggleProps:l,useModelToggleEmits:o}};Os("modelValue");var jt="top",Yt="bottom",Jt="right",Ft="left",so="auto",Or=[jt,Yt,Jt,Ft],er="start",kr="end",Fd="clippingParents",Ps="viewport",dr="popper",Gd="reference",fa=Or.reduce(function(e,n){return e.concat([n+"-"+er,n+"-"+kr])},[]),gi=[].concat(Or,[so]).reduce(function(e,n){return e.concat([n,n+"-"+er,n+"-"+kr])},[]),$d="beforeRead",Vd="read",Hd="afterRead",Ud="beforeMain",Kd="main",qd="afterMain",Wd="beforeWrite",Yd="write",Jd="afterWrite",Xd=[$d,Vd,Hd,Ud,Kd,qd,Wd,Yd,Jd];function dn(e){return e?(e.nodeName||"").toLowerCase():null}function sn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var n=e.ownerDocument;return n&&n.defaultView||window}return e}function tr(e){var n=sn(e).Element;return e instanceof n||e instanceof Element}function qt(e){var n=sn(e).HTMLElement;return e instanceof n||e instanceof HTMLElement}function lo(e){if(typeof ShadowRoot>"u")return!1;var n=sn(e).ShadowRoot;return e instanceof n||e instanceof ShadowRoot}function Zd(e){var n=e.state;Object.keys(n.elements).forEach(function(i){var o=n.styles[i]||{},l=n.attributes[i]||{},a=n.elements[i];!qt(a)||!dn(a)||(Object.assign(a.style,o),Object.keys(l).forEach(function(u){var c=l[u];c===!1?a.removeAttribute(u):a.setAttribute(u,c===!0?"":c)}))})}function Qd(e){var n=e.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow),function(){Object.keys(n.elements).forEach(function(o){var l=n.elements[o],a=n.attributes[o]||{},u=Object.keys(n.styles.hasOwnProperty(o)?n.styles[o]:i[o]),c=u.reduce(function(d,f){return d[f]="",d},{});!qt(l)||!dn(l)||(Object.assign(l.style,c),Object.keys(a).forEach(function(d){l.removeAttribute(d)}))})}}var Ts={name:"applyStyles",enabled:!0,phase:"write",fn:Zd,effect:Qd,requires:["computeStyles"]};function cn(e){return e.split("-")[0]}var jn=Math.max,ri=Math.min,nr=Math.round;function rr(e,n){n===void 0&&(n=!1);var i=e.getBoundingClientRect(),o=1,l=1;if(qt(e)&&n){var a=e.offsetHeight,u=e.offsetWidth;u>0&&(o=nr(i.width)/u||1),a>0&&(l=nr(i.height)/a||1)}return{width:i.width/o,height:i.height/l,top:i.top/l,right:i.right/o,bottom:i.bottom/l,left:i.left/o,x:i.left/o,y:i.top/l}}function uo(e){var n=rr(e),i=e.offsetWidth,o=e.offsetHeight;return Math.abs(n.width-i)<=1&&(i=n.width),Math.abs(n.height-o)<=1&&(o=n.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:o}}function Rs(e,n){var i=n.getRootNode&&n.getRootNode();if(e.contains(n))return!0;if(i&&lo(i)){var o=n;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function bn(e){return sn(e).getComputedStyle(e)}function eh(e){return["table","td","th"].indexOf(dn(e))>=0}function In(e){return((tr(e)?e.ownerDocument:e.document)||window.document).documentElement}function mi(e){return dn(e)==="html"?e:e.assignedSlot||e.parentNode||(lo(e)?e.host:null)||In(e)}function pa(e){return!qt(e)||bn(e).position==="fixed"?null:e.offsetParent}function th(e){var n=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,i=navigator.userAgent.indexOf("Trident")!==-1;if(i&&qt(e)){var o=bn(e);if(o.position==="fixed")return null}var l=mi(e);for(lo(l)&&(l=l.host);qt(l)&&["html","body"].indexOf(dn(l))<0;){var a=bn(l);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||n&&a.willChange==="filter"||n&&a.filter&&a.filter!=="none")return l;l=l.parentNode}return null}function Pr(e){for(var n=sn(e),i=pa(e);i&&eh(i)&&bn(i).position==="static";)i=pa(i);return i&&(dn(i)==="html"||dn(i)==="body"&&bn(i).position==="static")?n:i||th(e)||n}function co(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function gr(e,n,i){return jn(e,ri(n,i))}function nh(e,n,i){var o=gr(e,n,i);return o>i?i:o}function Bs(){return{top:0,right:0,bottom:0,left:0}}function Is(e){return Object.assign({},Bs(),e)}function Ds(e,n){return n.reduce(function(i,o){return i[o]=e,i},{})}var rh=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Is(typeof e!="number"?e:Ds(e,Or))};function ih(e){var n,i=e.state,o=e.name,l=e.options,a=i.elements.arrow,u=i.modifiersData.popperOffsets,c=cn(i.placement),d=co(c),f=[Ft,Jt].indexOf(c)>=0,v=f?"height":"width";if(!(!a||!u)){var b=rh(l.padding,i),x=uo(a),P=d==="y"?jt:Ft,k=d==="y"?Yt:Jt,y=i.rects.reference[v]+i.rects.reference[d]-u[d]-i.rects.popper[v],E=u[d]-i.rects.reference[d],m=Pr(a),S=m?d==="y"?m.clientHeight||0:m.clientWidth||0:0,A=y/2-E/2,w=b[P],T=S-x[v]-b[k],B=S/2-x[v]/2+A,I=gr(w,B,T),U=d;i.modifiersData[o]=(n={},n[U]=I,n.centerOffset=I-B,n)}}function oh(e){var n=e.state,i=e.options,o=i.element,l=o===void 0?"[data-popper-arrow]":o;l!=null&&(typeof l=="string"&&(l=n.elements.popper.querySelector(l),!l)||!Rs(n.elements.popper,l)||(n.elements.arrow=l))}var ah={name:"arrow",enabled:!0,phase:"main",fn:ih,effect:oh,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ir(e){return e.split("-")[1]}var sh={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lh(e){var n=e.x,i=e.y,o=window,l=o.devicePixelRatio||1;return{x:nr(n*l)/l||0,y:nr(i*l)/l||0}}function ga(e){var n,i=e.popper,o=e.popperRect,l=e.placement,a=e.variation,u=e.offsets,c=e.position,d=e.gpuAcceleration,f=e.adaptive,v=e.roundOffsets,b=e.isFixed,x=u.x,P=x===void 0?0:x,k=u.y,y=k===void 0?0:k,E=typeof v=="function"?v({x:P,y}):{x:P,y};P=E.x,y=E.y;var m=u.hasOwnProperty("x"),S=u.hasOwnProperty("y"),A=Ft,w=jt,T=window;if(f){var B=Pr(i),I="clientHeight",U="clientWidth";if(B===sn(i)&&(B=In(i),bn(B).position!=="static"&&c==="absolute"&&(I="scrollHeight",U="scrollWidth")),B=B,l===jt||(l===Ft||l===Jt)&&a===kr){w=Yt;var Z=b&&B===T&&T.visualViewport?T.visualViewport.height:B[I];y-=Z-o.height,y*=d?1:-1}if(l===Ft||(l===jt||l===Yt)&&a===kr){A=Jt;var J=b&&B===T&&T.visualViewport?T.visualViewport.width:B[U];P-=J-o.width,P*=d?1:-1}}var oe=Object.assign({position:c},f&&sh),ne=v===!0?lh({x:P,y}):{x:P,y};if(P=ne.x,y=ne.y,d){var K;return Object.assign({},oe,(K={},K[w]=S?"0":"",K[A]=m?"0":"",K.transform=(T.devicePixelRatio||1)<=1?"translate("+P+"px, "+y+"px)":"translate3d("+P+"px, "+y+"px, 0)",K))}return Object.assign({},oe,(n={},n[w]=S?y+"px":"",n[A]=m?P+"px":"",n.transform="",n))}function uh(e){var n=e.state,i=e.options,o=i.gpuAcceleration,l=o===void 0?!0:o,a=i.adaptive,u=a===void 0?!0:a,c=i.roundOffsets,d=c===void 0?!0:c,f={placement:cn(n.placement),variation:ir(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:l,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,ga(Object.assign({},f,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:u,roundOffsets:d})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,ga(Object.assign({},f,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}var As={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:uh,data:{}},jr={passive:!0};function ch(e){var n=e.state,i=e.instance,o=e.options,l=o.scroll,a=l===void 0?!0:l,u=o.resize,c=u===void 0?!0:u,d=sn(n.elements.popper),f=[].concat(n.scrollParents.reference,n.scrollParents.popper);return a&&f.forEach(function(v){v.addEventListener("scroll",i.update,jr)}),c&&d.addEventListener("resize",i.update,jr),function(){a&&f.forEach(function(v){v.removeEventListener("scroll",i.update,jr)}),c&&d.removeEventListener("resize",i.update,jr)}}var Ns={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ch,data:{}},dh={left:"right",right:"left",bottom:"top",top:"bottom"};function Zr(e){return e.replace(/left|right|bottom|top/g,function(n){return dh[n]})}var hh={start:"end",end:"start"};function ma(e){return e.replace(/start|end/g,function(n){return hh[n]})}function ho(e){var n=sn(e),i=n.pageXOffset,o=n.pageYOffset;return{scrollLeft:i,scrollTop:o}}function fo(e){return rr(In(e)).left+ho(e).scrollLeft}function fh(e){var n=sn(e),i=In(e),o=n.visualViewport,l=i.clientWidth,a=i.clientHeight,u=0,c=0;return o&&(l=o.width,a=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(u=o.offsetLeft,c=o.offsetTop)),{width:l,height:a,x:u+fo(e),y:c}}function ph(e){var n,i=In(e),o=ho(e),l=(n=e.ownerDocument)==null?void 0:n.body,a=jn(i.scrollWidth,i.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),u=jn(i.scrollHeight,i.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),c=-o.scrollLeft+fo(e),d=-o.scrollTop;return bn(l||i).direction==="rtl"&&(c+=jn(i.clientWidth,l?l.clientWidth:0)-a),{width:a,height:u,x:c,y:d}}function po(e){var n=bn(e),i=n.overflow,o=n.overflowX,l=n.overflowY;return/auto|scroll|overlay|hidden/.test(i+l+o)}function zs(e){return["html","body","#document"].indexOf(dn(e))>=0?e.ownerDocument.body:qt(e)&&po(e)?e:zs(mi(e))}function mr(e,n){var i;n===void 0&&(n=[]);var o=zs(e),l=o===((i=e.ownerDocument)==null?void 0:i.body),a=sn(o),u=l?[a].concat(a.visualViewport||[],po(o)?o:[]):o,c=n.concat(u);return l?c:c.concat(mr(mi(u)))}function Ji(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function gh(e){var n=rr(e);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function va(e,n){return n===Ps?Ji(fh(e)):tr(n)?gh(n):Ji(ph(In(e)))}function mh(e){var n=mr(mi(e)),i=["absolute","fixed"].indexOf(bn(e).position)>=0,o=i&&qt(e)?Pr(e):e;return tr(o)?n.filter(function(l){return tr(l)&&Rs(l,o)&&dn(l)!=="body"}):[]}function vh(e,n,i){var o=n==="clippingParents"?mh(e):[].concat(n),l=[].concat(o,[i]),a=l[0],u=l.reduce(function(c,d){var f=va(e,d);return c.top=jn(f.top,c.top),c.right=ri(f.right,c.right),c.bottom=ri(f.bottom,c.bottom),c.left=jn(f.left,c.left),c},va(e,a));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function js(e){var n=e.reference,i=e.element,o=e.placement,l=o?cn(o):null,a=o?ir(o):null,u=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2,d;switch(l){case jt:d={x:u,y:n.y-i.height};break;case Yt:d={x:u,y:n.y+n.height};break;case Jt:d={x:n.x+n.width,y:c};break;case Ft:d={x:n.x-i.width,y:c};break;default:d={x:n.x,y:n.y}}var f=l?co(l):null;if(f!=null){var v=f==="y"?"height":"width";switch(a){case er:d[f]=d[f]-(n[v]/2-i[v]/2);break;case kr:d[f]=d[f]+(n[v]/2-i[v]/2);break}}return d}function Mr(e,n){n===void 0&&(n={});var i=n,o=i.placement,l=o===void 0?e.placement:o,a=i.boundary,u=a===void 0?Fd:a,c=i.rootBoundary,d=c===void 0?Ps:c,f=i.elementContext,v=f===void 0?dr:f,b=i.altBoundary,x=b===void 0?!1:b,P=i.padding,k=P===void 0?0:P,y=Is(typeof k!="number"?k:Ds(k,Or)),E=v===dr?Gd:dr,m=e.rects.popper,S=e.elements[x?E:v],A=vh(tr(S)?S:S.contextElement||In(e.elements.popper),u,d),w=rr(e.elements.reference),T=js({reference:w,element:m,strategy:"absolute",placement:l}),B=Ji(Object.assign({},m,T)),I=v===dr?B:w,U={top:A.top-I.top+y.top,bottom:I.bottom-A.bottom+y.bottom,left:A.left-I.left+y.left,right:I.right-A.right+y.right},Z=e.modifiersData.offset;if(v===dr&&Z){var J=Z[l];Object.keys(U).forEach(function(oe){var ne=[Jt,Yt].indexOf(oe)>=0?1:-1,K=[jt,Yt].indexOf(oe)>=0?"y":"x";U[oe]+=J[K]*ne})}return U}function yh(e,n){n===void 0&&(n={});var i=n,o=i.placement,l=i.boundary,a=i.rootBoundary,u=i.padding,c=i.flipVariations,d=i.allowedAutoPlacements,f=d===void 0?gi:d,v=ir(o),b=v?c?fa:fa.filter(function(k){return ir(k)===v}):Or,x=b.filter(function(k){return f.indexOf(k)>=0});x.length===0&&(x=b);var P=x.reduce(function(k,y){return k[y]=Mr(e,{placement:y,boundary:l,rootBoundary:a,padding:u})[cn(y)],k},{});return Object.keys(P).sort(function(k,y){return P[k]-P[y]})}function _h(e){if(cn(e)===so)return[];var n=Zr(e);return[ma(e),n,ma(n)]}function bh(e){var n=e.state,i=e.options,o=e.name;if(!n.modifiersData[o]._skip){for(var l=i.mainAxis,a=l===void 0?!0:l,u=i.altAxis,c=u===void 0?!0:u,d=i.fallbackPlacements,f=i.padding,v=i.boundary,b=i.rootBoundary,x=i.altBoundary,P=i.flipVariations,k=P===void 0?!0:P,y=i.allowedAutoPlacements,E=n.options.placement,m=cn(E),S=m===E,A=d||(S||!k?[Zr(E)]:_h(E)),w=[E].concat(A).reduce(function(Ue,Fe){return Ue.concat(cn(Fe)===so?yh(n,{placement:Fe,boundary:v,rootBoundary:b,padding:f,flipVariations:k,allowedAutoPlacements:y}):Fe)},[]),T=n.rects.reference,B=n.rects.popper,I=new Map,U=!0,Z=w[0],J=0;J<w.length;J++){var oe=w[J],ne=cn(oe),K=ir(oe)===er,ae=[jt,Yt].indexOf(ne)>=0,ee=ae?"width":"height",de=Mr(n,{placement:oe,boundary:v,rootBoundary:b,altBoundary:x,padding:f}),V=ae?K?Jt:Ft:K?Yt:jt;T[ee]>B[ee]&&(V=Zr(V));var X=Zr(V),ue=[];if(a&&ue.push(de[ne]<=0),c&&ue.push(de[V]<=0,de[X]<=0),ue.every(function(Ue){return Ue})){Z=oe,U=!1;break}I.set(oe,ue)}if(U)for(var ke=k?3:1,Le=function(Ue){var Fe=w.find(function(Se){var we=I.get(Se);if(we)return we.slice(0,Ue).every(function(Ie){return Ie})});if(Fe)return Z=Fe,"break"},Me=ke;Me>0;Me--){var He=Le(Me);if(He==="break")break}n.placement!==Z&&(n.modifiersData[o]._skip=!0,n.placement=Z,n.reset=!0)}}var Lh={name:"flip",enabled:!0,phase:"main",fn:bh,requiresIfExists:["offset"],data:{_skip:!1}};function ya(e,n,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-n.height-i.y,right:e.right-n.width+i.x,bottom:e.bottom-n.height+i.y,left:e.left-n.width-i.x}}function _a(e){return[jt,Jt,Yt,Ft].some(function(n){return e[n]>=0})}function kh(e){var n=e.state,i=e.name,o=n.rects.reference,l=n.rects.popper,a=n.modifiersData.preventOverflow,u=Mr(n,{elementContext:"reference"}),c=Mr(n,{altBoundary:!0}),d=ya(u,o),f=ya(c,l,a),v=_a(d),b=_a(f);n.modifiersData[i]={referenceClippingOffsets:d,popperEscapeOffsets:f,isReferenceHidden:v,hasPopperEscaped:b},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":b})}var Mh={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:kh};function wh(e,n,i){var o=cn(e),l=[Ft,jt].indexOf(o)>=0?-1:1,a=typeof i=="function"?i(Object.assign({},n,{placement:e})):i,u=a[0],c=a[1];return u=u||0,c=(c||0)*l,[Ft,Jt].indexOf(o)>=0?{x:c,y:u}:{x:u,y:c}}function xh(e){var n=e.state,i=e.options,o=e.name,l=i.offset,a=l===void 0?[0,0]:l,u=gi.reduce(function(v,b){return v[b]=wh(b,n.rects,a),v},{}),c=u[n.placement],d=c.x,f=c.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=d,n.modifiersData.popperOffsets.y+=f),n.modifiersData[o]=u}var Eh={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:xh};function Ch(e){var n=e.state,i=e.name;n.modifiersData[i]=js({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}var Fs={name:"popperOffsets",enabled:!0,phase:"read",fn:Ch,data:{}};function Sh(e){return e==="x"?"y":"x"}function Oh(e){var n=e.state,i=e.options,o=e.name,l=i.mainAxis,a=l===void 0?!0:l,u=i.altAxis,c=u===void 0?!1:u,d=i.boundary,f=i.rootBoundary,v=i.altBoundary,b=i.padding,x=i.tether,P=x===void 0?!0:x,k=i.tetherOffset,y=k===void 0?0:k,E=Mr(n,{boundary:d,rootBoundary:f,padding:b,altBoundary:v}),m=cn(n.placement),S=ir(n.placement),A=!S,w=co(m),T=Sh(w),B=n.modifiersData.popperOffsets,I=n.rects.reference,U=n.rects.popper,Z=typeof y=="function"?y(Object.assign({},n.rects,{placement:n.placement})):y,J=typeof Z=="number"?{mainAxis:Z,altAxis:Z}:Object.assign({mainAxis:0,altAxis:0},Z),oe=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,ne={x:0,y:0};if(B){if(a){var K,ae=w==="y"?jt:Ft,ee=w==="y"?Yt:Jt,de=w==="y"?"height":"width",V=B[w],X=V+E[ae],ue=V-E[ee],ke=P?-U[de]/2:0,Le=S===er?I[de]:U[de],Me=S===er?-U[de]:-I[de],He=n.elements.arrow,Ue=P&&He?uo(He):{width:0,height:0},Fe=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:Bs(),Se=Fe[ae],we=Fe[ee],Ie=gr(0,I[de],Ue[de]),pt=A?I[de]/2-ke-Ie-Se-J.mainAxis:Le-Ie-Se-J.mainAxis,it=A?-I[de]/2+ke+Ie+we+J.mainAxis:Me+Ie+we+J.mainAxis,qe=n.elements.arrow&&Pr(n.elements.arrow),gt=qe?w==="y"?qe.clientTop||0:qe.clientLeft||0:0,ct=(K=oe==null?void 0:oe[w])!=null?K:0,Ge=V+pt-ct-gt,Ne=V+it-ct,We=gr(P?ri(X,Ge):X,V,P?jn(ue,Ne):ue);B[w]=We,ne[w]=We-V}if(c){var St,mt=w==="x"?jt:Ft,R=w==="x"?Yt:Jt,g=B[T],_=T==="y"?"height":"width",O=g+E[mt],j=g-E[R],F=[jt,Ft].indexOf(m)!==-1,$=(St=oe==null?void 0:oe[T])!=null?St:0,Y=F?O:g-I[_]-U[_]-$+J.altAxis,H=F?g+I[_]+U[_]-$-J.altAxis:j,re=P&&F?nh(Y,g,H):gr(P?Y:O,g,P?H:j);B[T]=re,ne[T]=re-g}n.modifiersData[o]=ne}}var Ph={name:"preventOverflow",enabled:!0,phase:"main",fn:Oh,requiresIfExists:["offset"]};function Th(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Rh(e){return e===sn(e)||!qt(e)?ho(e):Th(e)}function Bh(e){var n=e.getBoundingClientRect(),i=nr(n.width)/e.offsetWidth||1,o=nr(n.height)/e.offsetHeight||1;return i!==1||o!==1}function Ih(e,n,i){i===void 0&&(i=!1);var o=qt(n),l=qt(n)&&Bh(n),a=In(n),u=rr(e,l),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(o||!o&&!i)&&((dn(n)!=="body"||po(a))&&(c=Rh(n)),qt(n)?(d=rr(n,!0),d.x+=n.clientLeft,d.y+=n.clientTop):a&&(d.x=fo(a))),{x:u.left+c.scrollLeft-d.x,y:u.top+c.scrollTop-d.y,width:u.width,height:u.height}}function Dh(e){var n=new Map,i=new Set,o=[];e.forEach(function(a){n.set(a.name,a)});function l(a){i.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(c){if(!i.has(c)){var d=n.get(c);d&&l(d)}}),o.push(a)}return e.forEach(function(a){i.has(a.name)||l(a)}),o}function Ah(e){var n=Dh(e);return Xd.reduce(function(i,o){return i.concat(n.filter(function(l){return l.phase===o}))},[])}function Nh(e){var n;return function(){return n||(n=new Promise(function(i){Promise.resolve().then(function(){n=void 0,i(e())})})),n}}function zh(e){var n=e.reduce(function(i,o){var l=i[o.name];return i[o.name]=l?Object.assign({},l,o,{options:Object.assign({},l.options,o.options),data:Object.assign({},l.data,o.data)}):o,i},{});return Object.keys(n).map(function(i){return n[i]})}var ba={placement:"bottom",modifiers:[],strategy:"absolute"};function La(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return!n.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function go(e){e===void 0&&(e={});var n=e,i=n.defaultModifiers,o=i===void 0?[]:i,l=n.defaultOptions,a=l===void 0?ba:l;return function(u,c,d){d===void 0&&(d=a);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},ba,a),modifiersData:{},elements:{reference:u,popper:c},attributes:{},styles:{}},v=[],b=!1,x={state:f,setOptions:function(y){var E=typeof y=="function"?y(f.options):y;k(),f.options=Object.assign({},a,f.options,E),f.scrollParents={reference:tr(u)?mr(u):u.contextElement?mr(u.contextElement):[],popper:mr(c)};var m=Ah(zh([].concat(o,f.options.modifiers)));return f.orderedModifiers=m.filter(function(S){return S.enabled}),P(),x.update()},forceUpdate:function(){if(!b){var y=f.elements,E=y.reference,m=y.popper;if(La(E,m)){f.rects={reference:Ih(E,Pr(m),f.options.strategy==="fixed"),popper:uo(m)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(U){return f.modifiersData[U.name]=Object.assign({},U.data)});for(var S=0;S<f.orderedModifiers.length;S++){if(f.reset===!0){f.reset=!1,S=-1;continue}var A=f.orderedModifiers[S],w=A.fn,T=A.options,B=T===void 0?{}:T,I=A.name;typeof w=="function"&&(f=w({state:f,options:B,name:I,instance:x})||f)}}}},update:Nh(function(){return new Promise(function(y){x.forceUpdate(),y(f)})}),destroy:function(){k(),b=!0}};if(!La(u,c))return x;x.setOptions(d).then(function(y){!b&&d.onFirstUpdate&&d.onFirstUpdate(y)});function P(){f.orderedModifiers.forEach(function(y){var E=y.name,m=y.options,S=m===void 0?{}:m,A=y.effect;if(typeof A=="function"){var w=A({state:f,name:E,instance:x,options:S}),T=function(){};v.push(w||T)}})}function k(){v.forEach(function(y){return y()}),v=[]}return x}}go();var jh=[Ns,Fs,As,Ts];go({defaultModifiers:jh});var Fh=[Ns,Fs,As,Ts,Eh,Lh,Ph,ah,Mh],Gh=go({defaultModifiers:Fh});const $h=(e,n,i={})=>{const o={name:"updateState",enabled:!0,phase:"write",fn:({state:d})=>{const f=Vh(d);Object.assign(u.value,f)},requires:["computeStyles"]},l=Q(()=>{const{onFirstUpdate:d,placement:f,strategy:v,modifiers:b}=M(i);return{onFirstUpdate:d,placement:f||"bottom",strategy:v||"absolute",modifiers:[...b||[],o,{name:"applyStyles",enabled:!1}]}}),a=tn(),u=he({styles:{popper:{position:M(l).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),c=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return Be(l,d=>{const f=M(a);f&&f.setOptions(d)},{deep:!0}),Be([e,n],([d,f])=>{c(),!(!d||!f)&&(a.value=Gh(d,f,M(l)))}),an(()=>{c()}),{state:Q(()=>{var d;return{...((d=M(a))==null?void 0:d.state)||{}}}),styles:Q(()=>M(u).styles),attributes:Q(()=>M(u).attributes),update:()=>{var d;return(d=M(a))==null?void 0:d.update()},forceUpdate:()=>{var d;return(d=M(a))==null?void 0:d.forceUpdate()},instanceRef:Q(()=>M(a))}};function Vh(e){const n=Object.keys(e.elements),i=Ui(n.map(l=>[l,e.styles[l]||{}])),o=Ui(n.map(l=>[l,e.attributes[l]]));return{styles:i,attributes:o}}const Gs=e=>{if(!e)return{onClick:zn,onMousedown:zn,onMouseup:zn};let n=!1,i=!1;return{onClick:u=>{n&&i&&e(u),n=i=!1},onMousedown:u=>{n=u.target===u.currentTarget},onMouseup:u=>{i=u.target===u.currentTarget}}};function ka(){let e;const n=(o,l)=>{i(),e=window.setTimeout(o,l)},i=()=>window.clearTimeout(e);return xu(()=>i()),{registerTimeout:n,cancelTimeout:i}}let Yn=[];const Ma=e=>{const n=e;n.key===Gn.esc&&Yn.forEach(i=>i(n))},Hh=e=>{Mt(()=>{Yn.length===0&&document.addEventListener("keydown",Ma),vt&&Yn.push(e)}),an(()=>{Yn=Yn.filter(n=>n!==e),Yn.length===0&&vt&&document.removeEventListener("keydown",Ma)})};let wa;const $s=()=>{const e=Eu(),n=Cu(),i=Q(()=>`${e.value}-popper-container-${n.prefix}`),o=Q(()=>`#${i.value}`);return{id:i,selector:o}},Uh=e=>{const n=document.createElement("div");return n.id=e,document.body.appendChild(n),n},Kh=()=>{const{id:e,selector:n}=$s();return Qu(()=>{vt&&!wa&&!document.body.querySelector(n.value)&&(wa=Uh(e.value))}),{id:e,selector:n}},qh=ut({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),Wh=({showAfter:e,hideAfter:n,autoClose:i,open:o,close:l})=>{const{registerTimeout:a}=ka(),{registerTimeout:u,cancelTimeout:c}=ka();return{onOpen:v=>{a(()=>{o(v);const b=M(i);Ze(b)&&b>0&&u(()=>{l(v)},b)},M(e))},onClose:v=>{c(),a(()=>{l(v)},M(n))}}},Vs=Symbol("elForwardRef"),Yh=e=>{Wt(Vs,{setForwardRef:i=>{e.value=i}})},Jh=e=>({mounted(n){e(n)},updated(n){e(n)},unmounted(){e(null)}}),xa=he(0),Hs=2e3,Us=Symbol("zIndexContextKey"),mo=e=>{const n=e||(on()?kt(Us,void 0):void 0),i=Q(()=>{const a=M(n);return Ze(a)?a:Hs}),o=Q(()=>i.value+xa.value);return{initialZIndex:i,currentZIndex:o,nextZIndex:()=>(xa.value++,o.value)}};function Xh(e){const n=he();function i(){if(e.value==null)return;const{selectionStart:l,selectionEnd:a,value:u}=e.value;if(l==null||a==null)return;const c=u.slice(0,Math.max(0,l)),d=u.slice(Math.max(0,a));n.value={selectionStart:l,selectionEnd:a,value:u,beforeTxt:c,afterTxt:d}}function o(){if(e.value==null||n.value==null)return;const{value:l}=e.value,{beforeTxt:a,afterTxt:u,selectionStart:c}=n.value;if(a==null||u==null||c==null)return;let d=l.length;if(l.endsWith(u))d=l.length-u.length;else if(l.startsWith(a))d=a.length;else{const f=a[c-1],v=l.indexOf(f,c-1);v!==-1&&(d=v+1)}e.value.setSelectionRange(d,d)}return[i,o]}function Zh(e,{afterFocus:n,beforeBlur:i,afterBlur:o}={}){const l=on(),{emit:a}=l,u=tn(),c=he(!1),d=b=>{c.value||(c.value=!0,a("focus",b),n==null||n())},f=b=>{var x;_t(i)&&i(b)||b.relatedTarget&&((x=u.value)!=null&&x.contains(b.relatedTarget))||(c.value=!1,a("blur",b),o==null||o())},v=()=>{var b;(b=e.value)==null||b.focus()};return Be(u,b=>{b&&b.setAttribute("tabindex","-1")}),_r(u,"click",v),{wrapperRef:u,isFocused:c,handleFocus:d,handleBlur:f}}const Ks=Symbol(),ii=he();function vi(e,n=void 0){const i=on()?kt(Ks,ii):ii;return e?Q(()=>{var o,l;return(l=(o=i.value)==null?void 0:o[e])!=null?l:n}):i}function qs(e,n){const i=vi(),o=Qe(e,Q(()=>{var c;return((c=i.value)==null?void 0:c.namespace)||as})),l=sr(Q(()=>{var c;return(c=i.value)==null?void 0:c.locale})),a=mo(Q(()=>{var c;return((c=i.value)==null?void 0:c.zIndex)||Hs})),u=Q(()=>{var c;return M(n)||((c=i.value)==null?void 0:c.size)||""});return Qh(Q(()=>M(i)||{})),{ns:o,locale:l,zIndex:a,size:u}}const Qh=(e,n,i=!1)=>{var o;const l=!!on(),a=l?vi():void 0,u=(o=n==null?void 0:n.provide)!=null?o:l?Wt:void 0;if(!u)return;const c=Q(()=>{const d=M(e);return a!=null&&a.value?ef(a.value,d):d});return u(Ks,c),u(Ss,Q(()=>c.value.locale)),u(Su,Q(()=>c.value.namespace)),u(Us,Q(()=>c.value.zIndex)),u(Ou,{size:Q(()=>c.value.size||"")}),(i||!ii.value)&&(ii.value=c.value),c},ef=(e,n)=>{var i;const o=[...new Set([...Zo(e),...Zo(n)])],l={};for(const a of o)l[a]=(i=n[a])!=null?i:e[a];return l},Ea={};let Zt;const tf=`
  height:0 !important;
  visibility:hidden !important;
  ${hc()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,nf=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function rf(e){const n=window.getComputedStyle(e),i=n.getPropertyValue("box-sizing"),o=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),l=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:nf.map(u=>`${u}:${n.getPropertyValue(u)}`).join(";"),paddingSize:o,borderSize:l,boxSizing:i}}function Ca(e,n=1,i){var o;Zt||(Zt=document.createElement("textarea"),document.body.appendChild(Zt));const{paddingSize:l,borderSize:a,boxSizing:u,contextStyle:c}=rf(e);Zt.setAttribute("style",`${c};${tf}`),Zt.value=e.value||e.placeholder||"";let d=Zt.scrollHeight;const f={};u==="border-box"?d=d+a:u==="content-box"&&(d=d-l),Zt.value="";const v=Zt.scrollHeight-l;if(Ze(n)){let b=v*n;u==="border-box"&&(b=b+l+a),d=Math.max(b,d),f.minHeight=`${b}px`}if(Ze(i)){let b=v*i;u==="border-box"&&(b=b+l+a),d=Math.min(b,d)}return f.height=`${d}px`,(o=Zt.parentNode)==null||o.removeChild(Zt),Zt=void 0,f}const of=ut({id:{type:String,default:void 0},size:io,disabled:Boolean,modelValue:{type:$e([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:$e([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Tn},prefixIcon:{type:Tn},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:$e([Object,Array,String]),default:()=>Cs({})},autofocus:{type:Boolean,default:!1}}),af={[Lt]:e=>nn(e),input:e=>nn(e),change:e=>nn(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},sf=["role"],lf=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],uf=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],cf=Pe({name:"ElInput",inheritAttrs:!1}),df=Pe({...cf,props:of,emits:af,setup(e,{expose:n,emit:i}){const o=e,l=ec(),a=ao(),u=Q(()=>{const $={};return o.containerRole==="combobox"&&($["aria-haspopup"]=l["aria-haspopup"],$["aria-owns"]=l["aria-owns"],$["aria-expanded"]=l["aria-expanded"]),$}),c=Q(()=>[o.type==="textarea"?E.b():y.b(),y.m(P.value),y.is("disabled",k.value),y.is("exceed",Ue.value),{[y.b("group")]:a.prepend||a.append,[y.bm("group","append")]:a.append,[y.bm("group","prepend")]:a.prepend,[y.m("prefix")]:a.prefix||o.prefixIcon,[y.m("suffix")]:a.suffix||o.suffixIcon||o.clearable||o.showPassword,[y.bm("suffix","password-clear")]:ke.value&&Le.value},l.class]),d=Q(()=>[y.e("wrapper"),y.is("focus",J.value)]),f=Td({excludeKeys:Q(()=>Object.keys(u.value))}),{form:v,formItem:b}=ci(),{inputId:x}=Pu(o,{formItemContext:b}),P=Cr(),k=di(),y=Qe("input"),E=Qe("textarea"),m=tn(),S=tn(),A=he(!1),w=he(!1),T=he(!1),B=he(),I=tn(o.inputStyle),U=Q(()=>m.value||S.value),{wrapperRef:Z,isFocused:J,handleFocus:oe,handleBlur:ne}=Zh(U,{afterBlur(){var $;o.validateEvent&&(($=b==null?void 0:b.validate)==null||$.call(b,"blur").catch(Y=>br()))}}),K=Q(()=>{var $;return($=v==null?void 0:v.statusIcon)!=null?$:!1}),ae=Q(()=>(b==null?void 0:b.validateState)||""),ee=Q(()=>ae.value&&ss[ae.value]),de=Q(()=>T.value?Tu:Ru),V=Q(()=>[l.style,o.inputStyle]),X=Q(()=>[o.inputStyle,I.value,{resize:o.resize}]),ue=Q(()=>yn(o.modelValue)?"":String(o.modelValue)),ke=Q(()=>o.clearable&&!k.value&&!o.readonly&&!!ue.value&&(J.value||A.value)),Le=Q(()=>o.showPassword&&!k.value&&!o.readonly&&!!ue.value&&(!!ue.value||J.value)),Me=Q(()=>o.showWordLimit&&!!f.value.maxlength&&(o.type==="text"||o.type==="textarea")&&!k.value&&!o.readonly&&!o.showPassword),He=Q(()=>ue.value.length),Ue=Q(()=>!!Me.value&&He.value>Number(f.value.maxlength)),Fe=Q(()=>!!a.suffix||!!o.suffixIcon||ke.value||o.showPassword||Me.value||!!ae.value&&K.value),[Se,we]=Xh(m);Sr(S,$=>{if(it(),!Me.value||o.resize!=="both")return;const Y=$[0],{width:H}=Y.contentRect;B.value={right:`calc(100% - ${H+15+6}px)`}});const Ie=()=>{const{type:$,autosize:Y}=o;if(!(!vt||$!=="textarea"||!S.value))if(Y){const H=rn(Y)?Y.minRows:void 0,re=rn(Y)?Y.maxRows:void 0,pe=Ca(S.value,H,re);I.value={overflowY:"hidden",...pe},Ye(()=>{S.value.offsetHeight,I.value=pe})}else I.value={minHeight:Ca(S.value).minHeight}},it=($=>{let Y=!1;return()=>{var H;if(Y||!o.autosize)return;((H=S.value)==null?void 0:H.offsetParent)===null||($(),Y=!0)}})(Ie),qe=()=>{const $=U.value,Y=o.formatter?o.formatter(ue.value):ue.value;!$||$.value===Y||($.value=Y)},gt=async $=>{Se();let{value:Y}=$.target;if(o.formatter&&(Y=o.parser?o.parser(Y):Y),!w.value){if(Y===ue.value){qe();return}i(Lt,Y),i("input",Y),await Ye(),qe(),we()}},ct=$=>{i("change",$.target.value)},Ge=$=>{i("compositionstart",$),w.value=!0},Ne=$=>{var Y;i("compositionupdate",$);const H=(Y=$.target)==null?void 0:Y.value,re=H[H.length-1]||"";w.value=!Es(re)},We=$=>{i("compositionend",$),w.value&&(w.value=!1,gt($))},St=()=>{T.value=!T.value,mt()},mt=async()=>{var $;await Ye(),($=U.value)==null||$.focus()},R=()=>{var $;return($=U.value)==null?void 0:$.blur()},g=$=>{A.value=!1,i("mouseleave",$)},_=$=>{A.value=!0,i("mouseenter",$)},O=$=>{i("keydown",$)},j=()=>{var $;($=U.value)==null||$.select()},F=()=>{i(Lt,""),i("change",""),i("clear"),i("input","")};return Be(()=>o.modelValue,()=>{var $;Ye(()=>Ie()),o.validateEvent&&(($=b==null?void 0:b.validate)==null||$.call(b,"change").catch(Y=>br()))}),Be(ue,()=>qe()),Be(()=>o.type,async()=>{await Ye(),qe(),Ie()}),Mt(()=>{!o.formatter&&o.parser,qe(),Ye(Ie)}),n({input:m,textarea:S,ref:U,textareaStyle:X,autosize:un(o,"autosize"),focus:mt,blur:R,select:j,clear:F,resizeTextarea:Ie}),($,Y)=>Et((le(),Ee("div",vn(M(u),{class:M(c),style:M(V),role:$.containerRole,onMouseenter:_,onMouseleave:g}),[Oe(" input "),$.type!=="textarea"?(le(),Ee(Rt,{key:0},[Oe(" prepend slot "),$.$slots.prepend?(le(),Ee("div",{key:0,class:me(M(y).be("group","prepend"))},[Ae($.$slots,"prepend")],2)):Oe("v-if",!0),Re("div",{ref_key:"wrapperRef",ref:Z,class:me(M(d))},[Oe(" prefix slot "),$.$slots.prefix||$.prefixIcon?(le(),Ee("span",{key:0,class:me(M(y).e("prefix"))},[Re("span",{class:me(M(y).e("prefix-inner"))},[Ae($.$slots,"prefix"),$.prefixIcon?(le(),Ce(M(Tt),{key:0,class:me(M(y).e("icon"))},{default:fe(()=>[(le(),Ce(Kt($.prefixIcon)))]),_:1},8,["class"])):Oe("v-if",!0)],2)],2)):Oe("v-if",!0),Re("input",vn({id:M(x),ref_key:"input",ref:m,class:M(y).e("inner")},M(f),{type:$.showPassword?T.value?"text":"password":$.type,disabled:M(k),formatter:$.formatter,parser:$.parser,readonly:$.readonly,autocomplete:$.autocomplete,tabindex:$.tabindex,"aria-label":$.label,placeholder:$.placeholder,style:$.inputStyle,form:o.form,autofocus:o.autofocus,onCompositionstart:Ge,onCompositionupdate:Ne,onCompositionend:We,onInput:gt,onFocus:Y[0]||(Y[0]=(...H)=>M(oe)&&M(oe)(...H)),onBlur:Y[1]||(Y[1]=(...H)=>M(ne)&&M(ne)(...H)),onChange:ct,onKeydown:O}),null,16,lf),Oe(" suffix slot "),M(Fe)?(le(),Ee("span",{key:1,class:me(M(y).e("suffix"))},[Re("span",{class:me(M(y).e("suffix-inner"))},[!M(ke)||!M(Le)||!M(Me)?(le(),Ee(Rt,{key:0},[Ae($.$slots,"suffix"),$.suffixIcon?(le(),Ce(M(Tt),{key:0,class:me(M(y).e("icon"))},{default:fe(()=>[(le(),Ce(Kt($.suffixIcon)))]),_:1},8,["class"])):Oe("v-if",!0)],64)):Oe("v-if",!0),M(ke)?(le(),Ce(M(Tt),{key:1,class:me([M(y).e("icon"),M(y).e("clear")]),onMousedown:Pt(M(zn),["prevent"]),onClick:F},{default:fe(()=>[ye(M(ls))]),_:1},8,["class","onMousedown"])):Oe("v-if",!0),M(Le)?(le(),Ce(M(Tt),{key:2,class:me([M(y).e("icon"),M(y).e("password")]),onClick:St},{default:fe(()=>[(le(),Ce(Kt(M(de))))]),_:1},8,["class"])):Oe("v-if",!0),M(Me)?(le(),Ee("span",{key:3,class:me(M(y).e("count"))},[Re("span",{class:me(M(y).e("count-inner"))},bt(M(He))+" / "+bt(M(f).maxlength),3)],2)):Oe("v-if",!0),M(ae)&&M(ee)&&M(K)?(le(),Ce(M(Tt),{key:4,class:me([M(y).e("icon"),M(y).e("validateIcon"),M(y).is("loading",M(ae)==="validating")])},{default:fe(()=>[(le(),Ce(Kt(M(ee))))]),_:1},8,["class"])):Oe("v-if",!0)],2)],2)):Oe("v-if",!0)],2),Oe(" append slot "),$.$slots.append?(le(),Ee("div",{key:1,class:me(M(y).be("group","append"))},[Ae($.$slots,"append")],2)):Oe("v-if",!0)],64)):(le(),Ee(Rt,{key:1},[Oe(" textarea "),Re("textarea",vn({id:M(x),ref_key:"textarea",ref:S,class:M(E).e("inner")},M(f),{tabindex:$.tabindex,disabled:M(k),readonly:$.readonly,autocomplete:$.autocomplete,style:M(X),"aria-label":$.label,placeholder:$.placeholder,form:o.form,autofocus:o.autofocus,onCompositionstart:Ge,onCompositionupdate:Ne,onCompositionend:We,onInput:gt,onFocus:Y[2]||(Y[2]=(...H)=>M(oe)&&M(oe)(...H)),onBlur:Y[3]||(Y[3]=(...H)=>M(ne)&&M(ne)(...H)),onChange:ct,onKeydown:O}),null,16,uf),M(Me)?(le(),Ee("span",{key:0,style:xt(B.value),class:me(M(y).e("count"))},bt(M(He))+" / "+bt(M(f).maxlength),7)):Oe("v-if",!0)],64))],16,sf)),[[fn,$.type!=="hidden"]])}});var hf=tt(df,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const yi=hn(hf),Xn=4,ff={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},pf=({move:e,size:n,bar:i})=>({[i.size]:n,transform:`translate${i.axis}(${e}%)`}),Ws=Symbol("scrollbarContextKey"),gf=ut({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),mf="Thumb",vf=Pe({__name:"thumb",props:gf,setup(e){const n=e,i=kt(Ws),o=Qe("scrollbar");i||no(mf,"can not inject scrollbar context");const l=he(),a=he(),u=he({}),c=he(!1);let d=!1,f=!1,v=vt?document.onselectstart:null;const b=Q(()=>ff[n.vertical?"vertical":"horizontal"]),x=Q(()=>pf({size:n.size,move:n.move,bar:b.value})),P=Q(()=>l.value[b.value.offset]**2/i.wrapElement[b.value.scrollSize]/n.ratio/a.value[b.value.offset]),k=B=>{var I;if(B.stopPropagation(),B.ctrlKey||[1,2].includes(B.button))return;(I=window.getSelection())==null||I.removeAllRanges(),E(B);const U=B.currentTarget;U&&(u.value[b.value.axis]=U[b.value.offset]-(B[b.value.client]-U.getBoundingClientRect()[b.value.direction]))},y=B=>{if(!a.value||!l.value||!i.wrapElement)return;const I=Math.abs(B.target.getBoundingClientRect()[b.value.direction]-B[b.value.client]),U=a.value[b.value.offset]/2,Z=(I-U)*100*P.value/l.value[b.value.offset];i.wrapElement[b.value.scroll]=Z*i.wrapElement[b.value.scrollSize]/100},E=B=>{B.stopImmediatePropagation(),d=!0,document.addEventListener("mousemove",m),document.addEventListener("mouseup",S),v=document.onselectstart,document.onselectstart=()=>!1},m=B=>{if(!l.value||!a.value||d===!1)return;const I=u.value[b.value.axis];if(!I)return;const U=(l.value.getBoundingClientRect()[b.value.direction]-B[b.value.client])*-1,Z=a.value[b.value.offset]-I,J=(U-Z)*100*P.value/l.value[b.value.offset];i.wrapElement[b.value.scroll]=J*i.wrapElement[b.value.scrollSize]/100},S=()=>{d=!1,u.value[b.value.axis]=0,document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",S),T(),f&&(c.value=!1)},A=()=>{f=!1,c.value=!!n.size},w=()=>{f=!0,c.value=d};an(()=>{T(),document.removeEventListener("mouseup",S)});const T=()=>{document.onselectstart!==v&&(document.onselectstart=v)};return _r(un(i,"scrollbarElement"),"mousemove",A),_r(un(i,"scrollbarElement"),"mouseleave",w),(B,I)=>(le(),Ce(_n,{name:M(o).b("fade"),persisted:""},{default:fe(()=>[Et(Re("div",{ref_key:"instance",ref:l,class:me([M(o).e("bar"),M(o).is(M(b).key)]),onMousedown:y},[Re("div",{ref_key:"thumb",ref:a,class:me(M(o).e("thumb")),style:xt(M(x)),onMousedown:k},null,38)],34),[[fn,B.always||c.value]])]),_:1},8,["name"]))}});var Sa=tt(vf,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const yf=ut({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),_f=Pe({__name:"bar",props:yf,setup(e,{expose:n}){const i=e,o=he(0),l=he(0);return n({handleScroll:u=>{if(u){const c=u.offsetHeight-Xn,d=u.offsetWidth-Xn;l.value=u.scrollTop*100/c*i.ratioY,o.value=u.scrollLeft*100/d*i.ratioX}}}),(u,c)=>(le(),Ee(Rt,null,[ye(Sa,{move:o.value,ratio:u.ratioX,size:u.width,always:u.always},null,8,["move","ratio","size","always"]),ye(Sa,{move:l.value,ratio:u.ratioY,size:u.height,vertical:"",always:u.always},null,8,["move","ratio","size","always"])],64))}});var bf=tt(_f,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const Lf=ut({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:$e([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),kf={scroll:({scrollTop:e,scrollLeft:n})=>[e,n].every(Ze)},Mf="ElScrollbar",wf=Pe({name:Mf}),xf=Pe({...wf,props:Lf,emits:kf,setup(e,{expose:n,emit:i}){const o=e,l=Qe("scrollbar");let a,u;const c=he(),d=he(),f=he(),v=he("0"),b=he("0"),x=he(),P=he(1),k=he(1),y=Q(()=>{const I={};return o.height&&(I.height=vr(o.height)),o.maxHeight&&(I.maxHeight=vr(o.maxHeight)),[o.wrapStyle,I]}),E=Q(()=>[o.wrapClass,l.e("wrap"),{[l.em("wrap","hidden-default")]:!o.native}]),m=Q(()=>[l.e("view"),o.viewClass]),S=()=>{var I;d.value&&((I=x.value)==null||I.handleScroll(d.value),i("scroll",{scrollTop:d.value.scrollTop,scrollLeft:d.value.scrollLeft}))};function A(I,U){rn(I)?d.value.scrollTo(I):Ze(I)&&Ze(U)&&d.value.scrollTo(I,U)}const w=I=>{Ze(I)&&(d.value.scrollTop=I)},T=I=>{Ze(I)&&(d.value.scrollLeft=I)},B=()=>{if(!d.value)return;const I=d.value.offsetHeight-Xn,U=d.value.offsetWidth-Xn,Z=I**2/d.value.scrollHeight,J=U**2/d.value.scrollWidth,oe=Math.max(Z,o.minSize),ne=Math.max(J,o.minSize);P.value=Z/(I-Z)/(oe/(I-oe)),k.value=J/(U-J)/(ne/(U-ne)),b.value=oe+Xn<I?`${oe}px`:"",v.value=ne+Xn<U?`${ne}px`:""};return Be(()=>o.noresize,I=>{I?(a==null||a(),u==null||u()):({stop:a}=Sr(f,B),u=_r("resize",B))},{immediate:!0}),Be(()=>[o.maxHeight,o.height],()=>{o.native||Ye(()=>{var I;B(),d.value&&((I=x.value)==null||I.handleScroll(d.value))})}),Wt(Ws,Bn({scrollbarElement:c,wrapElement:d})),Mt(()=>{o.native||Ye(()=>{B()})}),gs(()=>B()),n({wrapRef:d,update:B,scrollTo:A,setScrollTop:w,setScrollLeft:T,handleScroll:S}),(I,U)=>(le(),Ee("div",{ref_key:"scrollbarRef",ref:c,class:me(M(l).b())},[Re("div",{ref_key:"wrapRef",ref:d,class:me(M(E)),style:xt(M(y)),onScroll:S},[(le(),Ce(Kt(I.tag),{id:I.id,ref_key:"resizeRef",ref:f,class:me(M(m)),style:xt(I.viewStyle),role:I.role,"aria-label":I.ariaLabel,"aria-orientation":I.ariaOrientation},{default:fe(()=>[Ae(I.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),I.native?Oe("v-if",!0):(le(),Ce(bf,{key:0,ref_key:"barRef",ref:x,height:b.value,width:v.value,always:I.always,"ratio-x":k.value,"ratio-y":P.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var Ef=tt(xf,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const Cf=hn(Ef),vo=Symbol("popper"),Ys=Symbol("popperContent"),Sf=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],Js=ut({role:{type:String,values:Sf,default:"tooltip"}}),Of=Pe({name:"ElPopper",inheritAttrs:!1}),Pf=Pe({...Of,props:Js,setup(e,{expose:n}){const i=e,o=he(),l=he(),a=he(),u=he(),c=Q(()=>i.role),d={triggerRef:o,popperInstanceRef:l,contentRef:a,referenceRef:u,role:c};return n(d),Wt(vo,d),(f,v)=>Ae(f.$slots,"default")}});var Tf=tt(Pf,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const Xs=ut({arrowOffset:{type:Number,default:5}}),Rf=Pe({name:"ElPopperArrow",inheritAttrs:!1}),Bf=Pe({...Rf,props:Xs,setup(e,{expose:n}){const i=e,o=Qe("popper"),{arrowOffset:l,arrowRef:a,arrowStyle:u}=kt(Ys,void 0);return Be(()=>i.arrowOffset,c=>{l.value=c}),an(()=>{a.value=void 0}),n({arrowRef:a}),(c,d)=>(le(),Ee("span",{ref_key:"arrowRef",ref:a,class:me(M(o).e("arrow")),style:xt(M(u)),"data-popper-arrow":""},null,6))}});var If=tt(Bf,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const Df="ElOnlyChild",Af=Pe({name:Df,setup(e,{slots:n,attrs:i}){var o;const l=kt(Vs),a=Jh((o=l==null?void 0:l.setForwardRef)!=null?o:zn);return()=>{var u;const c=(u=n.default)==null?void 0:u.call(n,i);if(!c||c.length>1)return null;const d=Zs(c);return d?Et(tc(d,i),[[a]]):null}}});function Zs(e){if(!e)return null;const n=e;for(const i of n){if(rn(i))switch(i.type){case nc:continue;case ms:case"svg":return Oa(i);case Rt:return Zs(i.children);default:return i}return Oa(i)}return null}function Oa(e){const n=Qe("only-child");return ye("span",{class:n.e("content")},[e])}const Qs=ut({virtualRef:{type:$e(Object)},virtualTriggering:Boolean,onMouseenter:{type:$e(Function)},onMouseleave:{type:$e(Function)},onClick:{type:$e(Function)},onKeydown:{type:$e(Function)},onFocus:{type:$e(Function)},onBlur:{type:$e(Function)},onContextmenu:{type:$e(Function)},id:String,open:Boolean}),Nf=Pe({name:"ElPopperTrigger",inheritAttrs:!1}),zf=Pe({...Nf,props:Qs,setup(e,{expose:n}){const i=e,{role:o,triggerRef:l}=kt(vo,void 0);Yh(l);const a=Q(()=>c.value?i.id:void 0),u=Q(()=>{if(o&&o.value==="tooltip")return i.open&&i.id?i.id:void 0}),c=Q(()=>{if(o&&o.value!=="tooltip")return o.value}),d=Q(()=>c.value?`${i.open}`:void 0);let f;return Mt(()=>{Be(()=>i.virtualRef,v=>{v&&(l.value=us(v))},{immediate:!0}),Be(l,(v,b)=>{f==null||f(),f=void 0,Zn(v)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(x=>{var P;const k=i[x];k&&(v.addEventListener(x.slice(2).toLowerCase(),k),(P=b==null?void 0:b.removeEventListener)==null||P.call(b,x.slice(2).toLowerCase(),k))}),f=Be([a,u,c,d],x=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((P,k)=>{yn(x[k])?v.removeAttribute(P):v.setAttribute(P,x[k])})},{immediate:!0})),Zn(b)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(x=>b.removeAttribute(x))},{immediate:!0})}),an(()=>{f==null||f(),f=void 0}),n({triggerRef:l}),(v,b)=>v.virtualTriggering?Oe("v-if",!0):(le(),Ce(M(Af),vn({key:0},v.$attrs,{"aria-controls":M(a),"aria-describedby":M(u),"aria-expanded":M(d),"aria-haspopup":M(c)}),{default:fe(()=>[Ae(v.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var jf=tt(zf,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const ji="focus-trap.focus-after-trapped",Fi="focus-trap.focus-after-released",Ff="focus-trap.focusout-prevented",Pa={cancelable:!0,bubbles:!1},Gf={cancelable:!0,bubbles:!1},Ta="focusAfterTrapped",Ra="focusAfterReleased",el=Symbol("elFocusTrap"),yo=he(),_i=he(0),_o=he(0);let Fr=0;const tl=e=>{const n=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const l=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||l?NodeFilter.FILTER_SKIP:o.tabIndex>=0||o===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)n.push(i.currentNode);return n},Ba=(e,n)=>{for(const i of e)if(!$f(i,n))return i},$f=(e,n)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},Vf=e=>{const n=tl(e),i=Ba(n,e),o=Ba(n.reverse(),e);return[i,o]},Hf=e=>e instanceof HTMLInputElement&&"select"in e,xn=(e,n)=>{if(e&&e.focus){const i=document.activeElement;e.focus({preventScroll:!0}),_o.value=window.performance.now(),e!==i&&Hf(e)&&n&&e.select()}};function Ia(e,n){const i=[...e],o=e.indexOf(n);return o!==-1&&i.splice(o,1),i}const Uf=()=>{let e=[];return{push:o=>{const l=e[0];l&&o!==l&&l.pause(),e=Ia(e,o),e.unshift(o)},remove:o=>{var l,a;e=Ia(e,o),(a=(l=e[0])==null?void 0:l.resume)==null||a.call(l)}}},Kf=(e,n=!1)=>{const i=document.activeElement;for(const o of e)if(xn(o,n),document.activeElement!==i)return},Da=Uf(),qf=()=>_i.value>_o.value,Gr=()=>{yo.value="pointer",_i.value=window.performance.now()},Aa=()=>{yo.value="keyboard",_i.value=window.performance.now()},Wf=()=>(Mt(()=>{Fr===0&&(document.addEventListener("mousedown",Gr),document.addEventListener("touchstart",Gr),document.addEventListener("keydown",Aa)),Fr++}),an(()=>{Fr--,Fr<=0&&(document.removeEventListener("mousedown",Gr),document.removeEventListener("touchstart",Gr),document.removeEventListener("keydown",Aa))}),{focusReason:yo,lastUserFocusTimestamp:_i,lastAutomatedFocusTimestamp:_o}),$r=e=>new CustomEvent(Ff,{...Gf,detail:e}),Yf=Pe({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Ta,Ra,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:n}){const i=he();let o,l;const{focusReason:a}=Wf();Hh(k=>{e.trapped&&!u.paused&&n("release-requested",k)});const u={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},c=k=>{if(!e.loop&&!e.trapped||u.paused)return;const{key:y,altKey:E,ctrlKey:m,metaKey:S,currentTarget:A,shiftKey:w}=k,{loop:T}=e,B=y===Gn.tab&&!E&&!m&&!S,I=document.activeElement;if(B&&I){const U=A,[Z,J]=Vf(U);if(Z&&J){if(!w&&I===J){const ne=$r({focusReason:a.value});n("focusout-prevented",ne),ne.defaultPrevented||(k.preventDefault(),T&&xn(Z,!0))}else if(w&&[Z,U].includes(I)){const ne=$r({focusReason:a.value});n("focusout-prevented",ne),ne.defaultPrevented||(k.preventDefault(),T&&xn(J,!0))}}else if(I===U){const ne=$r({focusReason:a.value});n("focusout-prevented",ne),ne.defaultPrevented||k.preventDefault()}}};Wt(el,{focusTrapRef:i,onKeydown:c}),Be(()=>e.focusTrapEl,k=>{k&&(i.value=k)},{immediate:!0}),Be([i],([k],[y])=>{k&&(k.addEventListener("keydown",c),k.addEventListener("focusin",v),k.addEventListener("focusout",b)),y&&(y.removeEventListener("keydown",c),y.removeEventListener("focusin",v),y.removeEventListener("focusout",b))});const d=k=>{n(Ta,k)},f=k=>n(Ra,k),v=k=>{const y=M(i);if(!y)return;const E=k.target,m=k.relatedTarget,S=E&&y.contains(E);e.trapped||m&&y.contains(m)||(o=m),S&&n("focusin",k),!u.paused&&e.trapped&&(S?l=E:xn(l,!0))},b=k=>{const y=M(i);if(!(u.paused||!y))if(e.trapped){const E=k.relatedTarget;!yn(E)&&!y.contains(E)&&setTimeout(()=>{if(!u.paused&&e.trapped){const m=$r({focusReason:a.value});n("focusout-prevented",m),m.defaultPrevented||xn(l,!0)}},0)}else{const E=k.target;E&&y.contains(E)||n("focusout",k)}};async function x(){await Ye();const k=M(i);if(k){Da.push(u);const y=k.contains(document.activeElement)?o:document.activeElement;if(o=y,!k.contains(y)){const m=new Event(ji,Pa);k.addEventListener(ji,d),k.dispatchEvent(m),m.defaultPrevented||Ye(()=>{let S=e.focusStartEl;nn(S)||(xn(S),document.activeElement!==S&&(S="first")),S==="first"&&Kf(tl(k),!0),(document.activeElement===y||S==="container")&&xn(k)})}}}function P(){const k=M(i);if(k){k.removeEventListener(ji,d);const y=new CustomEvent(Fi,{...Pa,detail:{focusReason:a.value}});k.addEventListener(Fi,f),k.dispatchEvent(y),!y.defaultPrevented&&(a.value=="keyboard"||!qf()||k.contains(document.activeElement))&&xn(o??document.body),k.removeEventListener(Fi,f),Da.remove(u)}}return Mt(()=>{e.trapped&&x(),Be(()=>e.trapped,k=>{k?x():P()})}),an(()=>{e.trapped&&P()}),{onKeydown:c}}});function Jf(e,n,i,o,l,a){return Ae(e.$slots,"default",{handleKeydown:e.onKeydown})}var nl=tt(Yf,[["render",Jf],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const Xf=["fixed","absolute"],Zf=ut({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:$e(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:gi,default:"bottom"},popperOptions:{type:$e(Object),default:()=>({})},strategy:{type:String,values:Xf,default:"absolute"}}),rl=ut({...Zf,id:String,style:{type:$e([String,Array,Object])},className:{type:$e([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:$e([String,Array,Object])},popperStyle:{type:$e([String,Array,Object])},referenceEl:{type:$e(Object)},triggerTargetEl:{type:$e(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),Qf={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},ep=(e,n=[])=>{const{placement:i,strategy:o,popperOptions:l}=e,a={placement:i,strategy:o,...l,modifiers:[...np(e),...n]};return rp(a,l==null?void 0:l.modifiers),a},tp=e=>{if(vt)return us(e)};function np(e){const{offset:n,gpuAcceleration:i,fallbackPlacements:o}=e;return[{name:"offset",options:{offset:[0,n??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:o}},{name:"computeStyles",options:{gpuAcceleration:i}}]}function rp(e,n){n&&(e.modifiers=[...e.modifiers,...n??[]])}const ip=0,op=e=>{const{popperInstanceRef:n,contentRef:i,triggerRef:o,role:l}=kt(vo,void 0),a=he(),u=he(),c=Q(()=>({name:"eventListeners",enabled:!!e.visible})),d=Q(()=>{var m;const S=M(a),A=(m=M(u))!=null?m:ip;return{name:"arrow",enabled:!xs(S),options:{element:S,padding:A}}}),f=Q(()=>({onFirstUpdate:()=>{k()},...ep(e,[M(d),M(c)])})),v=Q(()=>tp(e.referenceEl)||M(o)),{attributes:b,state:x,styles:P,update:k,forceUpdate:y,instanceRef:E}=$h(v,i,f);return Be(E,m=>n.value=m),Mt(()=>{Be(()=>{var m;return(m=M(v))==null?void 0:m.getBoundingClientRect()},()=>{k()})}),{attributes:b,arrowRef:a,contentRef:i,instanceRef:E,state:x,styles:P,role:l,forceUpdate:y,update:k}},ap=(e,{attributes:n,styles:i,role:o})=>{const{nextZIndex:l}=mo(),a=Qe("popper"),u=Q(()=>M(n).popper),c=he(Ze(e.zIndex)?e.zIndex:l()),d=Q(()=>[a.b(),a.is("pure",e.pure),a.is(e.effect),e.popperClass]),f=Q(()=>[{zIndex:M(c)},M(i).popper,e.popperStyle||{}]),v=Q(()=>o.value==="dialog"?"false":void 0),b=Q(()=>M(i).arrow||{});return{ariaModal:v,arrowStyle:b,contentAttrs:u,contentClass:d,contentStyle:f,contentZIndex:c,updateZIndex:()=>{c.value=Ze(e.zIndex)?e.zIndex:l()}}},sp=(e,n)=>{const i=he(!1),o=he();return{focusStartRef:o,trapped:i,onFocusAfterReleased:f=>{var v;((v=f.detail)==null?void 0:v.focusReason)!=="pointer"&&(o.value="first",n("blur"))},onFocusAfterTrapped:()=>{n("focus")},onFocusInTrap:f=>{e.visible&&!i.value&&(f.target&&(o.value=f.target),i.value=!0)},onFocusoutPrevented:f=>{e.trapping||(f.detail.focusReason==="pointer"&&f.preventDefault(),i.value=!1)},onReleaseRequested:()=>{i.value=!1,n("close")}}},lp=Pe({name:"ElPopperContent"}),up=Pe({...lp,props:rl,emits:Qf,setup(e,{expose:n,emit:i}){const o=e,{focusStartRef:l,trapped:a,onFocusAfterReleased:u,onFocusAfterTrapped:c,onFocusInTrap:d,onFocusoutPrevented:f,onReleaseRequested:v}=sp(o,i),{attributes:b,arrowRef:x,contentRef:P,styles:k,instanceRef:y,role:E,update:m}=op(o),{ariaModal:S,arrowStyle:A,contentAttrs:w,contentClass:T,contentStyle:B,updateZIndex:I}=ap(o,{styles:k,attributes:b,role:E}),U=kt(Qo,void 0),Z=he();Wt(Ys,{arrowStyle:A,arrowRef:x,arrowOffset:Z}),U&&(U.addInputId||U.removeInputId)&&Wt(Qo,{...U,addInputId:zn,removeInputId:zn});let J;const oe=(K=!0)=>{m(),K&&I()},ne=()=>{oe(!1),o.visible&&o.focusOnShow?a.value=!0:o.visible===!1&&(a.value=!1)};return Mt(()=>{Be(()=>o.triggerTargetEl,(K,ae)=>{J==null||J(),J=void 0;const ee=M(K||P.value),de=M(ae||P.value);Zn(ee)&&(J=Be([E,()=>o.ariaLabel,S,()=>o.id],V=>{["role","aria-label","aria-modal","id"].forEach((X,ue)=>{yn(V[ue])?ee.removeAttribute(X):ee.setAttribute(X,V[ue])})},{immediate:!0})),de!==ee&&Zn(de)&&["role","aria-label","aria-modal","id"].forEach(V=>{de.removeAttribute(V)})},{immediate:!0}),Be(()=>o.visible,ne,{immediate:!0})}),an(()=>{J==null||J(),J=void 0}),n({popperContentRef:P,popperInstanceRef:y,updatePopper:oe,contentStyle:B}),(K,ae)=>(le(),Ee("div",vn({ref_key:"contentRef",ref:P},M(w),{style:M(B),class:M(T),tabindex:"-1",onMouseenter:ae[0]||(ae[0]=ee=>K.$emit("mouseenter",ee)),onMouseleave:ae[1]||(ae[1]=ee=>K.$emit("mouseleave",ee))}),[ye(M(nl),{trapped:M(a),"trap-on-focus-in":!0,"focus-trap-el":M(P),"focus-start-el":M(l),onFocusAfterTrapped:M(c),onFocusAfterReleased:M(u),onFocusin:M(d),onFocusoutPrevented:M(f),onReleaseRequested:M(v)},{default:fe(()=>[Ae(K.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var cp=tt(up,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const dp=hn(Tf),bo=Symbol("elTooltip"),Lo=ut({...qh,...rl,appendTo:{type:$e([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:$e(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),il=ut({...Qs,disabled:Boolean,trigger:{type:$e([String,Array]),default:"hover"},triggerKeys:{type:$e(Array),default:()=>[Gn.enter,Gn.space]}}),{useModelToggleProps:hp,useModelToggleEmits:fp,useModelToggle:pp}=Os("visible"),gp=ut({...Js,...hp,...Lo,...il,...Xs,showArrow:{type:Boolean,default:!0}}),mp=[...fp,"before-show","before-hide","show","hide","open","close"],vp=(e,n)=>rc(e)?e.includes(n):e===n,Un=(e,n,i)=>o=>{vp(M(e),n)&&i(o)},yp=Pe({name:"ElTooltipTrigger"}),_p=Pe({...yp,props:il,setup(e,{expose:n}){const i=e,o=Qe("tooltip"),{controlled:l,id:a,open:u,onOpen:c,onClose:d,onToggle:f}=kt(bo,void 0),v=he(null),b=()=>{if(M(l)||i.disabled)return!0},x=un(i,"trigger"),P=gn(b,Un(x,"hover",c)),k=gn(b,Un(x,"hover",d)),y=gn(b,Un(x,"click",w=>{w.button===0&&f(w)})),E=gn(b,Un(x,"focus",c)),m=gn(b,Un(x,"focus",d)),S=gn(b,Un(x,"contextmenu",w=>{w.preventDefault(),f(w)})),A=gn(b,w=>{const{code:T}=w;i.triggerKeys.includes(T)&&(w.preventDefault(),f(w))});return n({triggerRef:v}),(w,T)=>(le(),Ce(M(jf),{id:M(a),"virtual-ref":w.virtualRef,open:M(u),"virtual-triggering":w.virtualTriggering,class:me(M(o).e("trigger")),onBlur:M(m),onClick:M(y),onContextmenu:M(S),onFocus:M(E),onMouseenter:M(P),onMouseleave:M(k),onKeydown:M(A)},{default:fe(()=>[Ae(w.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var bp=tt(_p,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const Lp=Pe({name:"ElTooltipContent",inheritAttrs:!1}),kp=Pe({...Lp,props:Lo,setup(e,{expose:n}){const i=e,{selector:o}=$s(),l=Qe("tooltip"),a=he(null),u=he(!1),{controlled:c,id:d,open:f,trigger:v,onClose:b,onOpen:x,onShow:P,onHide:k,onBeforeShow:y,onBeforeHide:E}=kt(bo,void 0),m=Q(()=>i.transition||`${l.namespace.value}-fade-in-linear`),S=Q(()=>i.persistent);an(()=>{u.value=!0});const A=Q(()=>M(S)?!0:M(f)),w=Q(()=>i.disabled?!1:M(f)),T=Q(()=>i.appendTo||o.value),B=Q(()=>{var V;return(V=i.style)!=null?V:{}}),I=Q(()=>!M(f)),U=()=>{k()},Z=()=>{if(M(c))return!0},J=gn(Z,()=>{i.enterable&&M(v)==="hover"&&x()}),oe=gn(Z,()=>{M(v)==="hover"&&b()}),ne=()=>{var V,X;(X=(V=a.value)==null?void 0:V.updatePopper)==null||X.call(V),y==null||y()},K=()=>{E==null||E()},ae=()=>{P(),de=Bu(Q(()=>{var V;return(V=a.value)==null?void 0:V.popperContentRef}),()=>{if(M(c))return;M(v)!=="hover"&&b()})},ee=()=>{i.virtualTriggering||b()};let de;return Be(()=>M(f),V=>{V||de==null||de()},{flush:"post"}),Be(()=>i.content,()=>{var V,X;(X=(V=a.value)==null?void 0:V.updatePopper)==null||X.call(V)}),n({contentRef:a}),(V,X)=>(le(),Ce(vs,{disabled:!V.teleported,to:M(T)},[ye(_n,{name:M(m),onAfterLeave:U,onBeforeEnter:ne,onAfterEnter:ae,onBeforeLeave:K},{default:fe(()=>[M(A)?Et((le(),Ce(M(cp),vn({key:0,id:M(d),ref_key:"contentRef",ref:a},V.$attrs,{"aria-label":V.ariaLabel,"aria-hidden":M(I),"boundaries-padding":V.boundariesPadding,"fallback-placements":V.fallbackPlacements,"gpu-acceleration":V.gpuAcceleration,offset:V.offset,placement:V.placement,"popper-options":V.popperOptions,strategy:V.strategy,effect:V.effect,enterable:V.enterable,pure:V.pure,"popper-class":V.popperClass,"popper-style":[V.popperStyle,M(B)],"reference-el":V.referenceEl,"trigger-target-el":V.triggerTargetEl,visible:M(w),"z-index":V.zIndex,onMouseenter:M(J),onMouseleave:M(oe),onBlur:ee,onClose:M(b)}),{default:fe(()=>[u.value?Oe("v-if",!0):Ae(V.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[fn,M(w)]]):Oe("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var Mp=tt(kp,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const wp=["innerHTML"],xp={key:1},Ep=Pe({name:"ElTooltip"}),Cp=Pe({...Ep,props:gp,emits:mp,setup(e,{expose:n,emit:i}){const o=e;Kh();const l=Lr(),a=he(),u=he(),c=()=>{var m;const S=M(a);S&&((m=S.popperInstanceRef)==null||m.update())},d=he(!1),f=he(),{show:v,hide:b,hasUpdateHandler:x}=pp({indicator:d,toggleReason:f}),{onOpen:P,onClose:k}=Wh({showAfter:un(o,"showAfter"),hideAfter:un(o,"hideAfter"),autoClose:un(o,"autoClose"),open:v,close:b}),y=Q(()=>ro(o.visible)&&!x.value);Wt(bo,{controlled:y,id:l,open:ys(d),trigger:un(o,"trigger"),onOpen:m=>{P(m)},onClose:m=>{k(m)},onToggle:m=>{M(d)?k(m):P(m)},onShow:()=>{i("show",f.value)},onHide:()=>{i("hide",f.value)},onBeforeShow:()=>{i("before-show",f.value)},onBeforeHide:()=>{i("before-hide",f.value)},updatePopper:c}),Be(()=>o.disabled,m=>{m&&d.value&&(d.value=!1)});const E=m=>{var S,A;const w=(A=(S=u.value)==null?void 0:S.contentRef)==null?void 0:A.popperContentRef,T=(m==null?void 0:m.relatedTarget)||document.activeElement;return w&&w.contains(T)};return ic(()=>d.value&&b()),n({popperRef:a,contentRef:u,isFocusInsideContent:E,updatePopper:c,onOpen:P,onClose:k,hide:b}),(m,S)=>(le(),Ce(M(dp),{ref_key:"popperRef",ref:a,role:m.role},{default:fe(()=>[ye(bp,{disabled:m.disabled,trigger:m.trigger,"trigger-keys":m.triggerKeys,"virtual-ref":m.virtualRef,"virtual-triggering":m.virtualTriggering},{default:fe(()=>[m.$slots.default?Ae(m.$slots,"default",{key:0}):Oe("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ye(Mp,{ref_key:"contentRef",ref:u,"aria-label":m.ariaLabel,"boundaries-padding":m.boundariesPadding,content:m.content,disabled:m.disabled,effect:m.effect,enterable:m.enterable,"fallback-placements":m.fallbackPlacements,"hide-after":m.hideAfter,"gpu-acceleration":m.gpuAcceleration,offset:m.offset,persistent:m.persistent,"popper-class":m.popperClass,"popper-style":m.popperStyle,placement:m.placement,"popper-options":m.popperOptions,pure:m.pure,"raw-content":m.rawContent,"reference-el":m.referenceEl,"trigger-target-el":m.triggerTargetEl,"show-after":m.showAfter,strategy:m.strategy,teleported:m.teleported,transition:m.transition,"virtual-triggering":m.virtualTriggering,"z-index":m.zIndex,"append-to":m.appendTo},{default:fe(()=>[Ae(m.$slots,"content",{},()=>[m.rawContent?(le(),Ee("span",{key:0,innerHTML:m.content},null,8,wp)):(le(),Ee("span",xp,bt(m.content),1))]),m.showArrow?(le(),Ce(M(If),{key:0,"arrow-offset":m.arrowOffset},null,8,["arrow-offset"])):Oe("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Sp=tt(Cp,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const Op=hn(Sp),Pp=ut({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),Tp=["textContent"],Rp=Pe({name:"ElBadge"}),Bp=Pe({...Rp,props:Pp,setup(e,{expose:n}){const i=e,o=Qe("badge"),l=Q(()=>i.isDot?"":Ze(i.value)&&Ze(i.max)?i.max<i.value?`${i.max}+`:`${i.value}`:`${i.value}`);return n({content:l}),(a,u)=>(le(),Ee("div",{class:me(M(o).b())},[Ae(a.$slots,"default"),ye(_n,{name:`${M(o).namespace.value}-zoom-in-center`,persisted:""},{default:fe(()=>[Et(Re("sup",{class:me([M(o).e("content"),M(o).em("content",a.type),M(o).is("fixed",!!a.$slots.default),M(o).is("dot",a.isDot)]),textContent:bt(M(l))},null,10,Tp),[[fn,!a.hidden&&(M(l)||a.isDot)]])]),_:1},8,["name"])],2))}});var Ip=tt(Bp,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const Dp=hn(Ip),ol=Symbol("buttonGroupContextKey"),Ap=(e,n)=>{ti({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},Q(()=>e.type==="text"));const i=kt(ol,void 0),o=vi("button"),{form:l}=ci(),a=Cr(Q(()=>i==null?void 0:i.size)),u=di(),c=he(),d=ao(),f=Q(()=>e.type||(i==null?void 0:i.type)||""),v=Q(()=>{var k,y,E;return(E=(y=e.autoInsertSpace)!=null?y:(k=o.value)==null?void 0:k.autoInsertSpace)!=null?E:!1}),b=Q(()=>e.tag==="button"?{ariaDisabled:u.value||e.loading,disabled:u.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),x=Q(()=>{var k;const y=(k=d.default)==null?void 0:k.call(d);if(v.value&&(y==null?void 0:y.length)===1){const E=y[0];if((E==null?void 0:E.type)===ms){const m=E.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(m.trim())}}return!1});return{_disabled:u,_size:a,_type:f,_ref:c,_props:b,shouldAddSpace:x,handleClick:k=>{e.nativeType==="reset"&&(l==null||l.resetFields()),n("click",k)}}},Np=["default","primary","success","warning","info","danger","text",""],zp=["button","submit","reset"],Xi=ut({size:io,disabled:Boolean,type:{type:String,values:Np,default:""},icon:{type:Tn},nativeType:{type:String,values:zp,default:"button"},loading:Boolean,loadingIcon:{type:Tn,default:()=>Iu},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:$e([String,Object]),default:"button"}}),jp={click:e=>e instanceof MouseEvent};function Ct(e,n){Fp(e)&&(e="100%");var i=Gp(e);return e=n===360?e:Math.min(n,Math.max(0,parseFloat(e))),i&&(e=parseInt(String(e*n),10)/100),Math.abs(e-n)<1e-6?1:(n===360?e=(e<0?e%n+n:e%n)/parseFloat(String(n)):e=e%n/parseFloat(String(n)),e)}function Vr(e){return Math.min(1,Math.max(0,e))}function Fp(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function Gp(e){return typeof e=="string"&&e.indexOf("%")!==-1}function al(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Hr(e){return e<=1?"".concat(Number(e)*100,"%"):e}function Nn(e){return e.length===1?"0"+e:String(e)}function $p(e,n,i){return{r:Ct(e,255)*255,g:Ct(n,255)*255,b:Ct(i,255)*255}}function Na(e,n,i){e=Ct(e,255),n=Ct(n,255),i=Ct(i,255);var o=Math.max(e,n,i),l=Math.min(e,n,i),a=0,u=0,c=(o+l)/2;if(o===l)u=0,a=0;else{var d=o-l;switch(u=c>.5?d/(2-o-l):d/(o+l),o){case e:a=(n-i)/d+(n<i?6:0);break;case n:a=(i-e)/d+2;break;case i:a=(e-n)/d+4;break}a/=6}return{h:a,s:u,l:c}}function Gi(e,n,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(n-e)*(6*i):i<1/2?n:i<2/3?e+(n-e)*(2/3-i)*6:e}function Vp(e,n,i){var o,l,a;if(e=Ct(e,360),n=Ct(n,100),i=Ct(i,100),n===0)l=i,a=i,o=i;else{var u=i<.5?i*(1+n):i+n-i*n,c=2*i-u;o=Gi(c,u,e+1/3),l=Gi(c,u,e),a=Gi(c,u,e-1/3)}return{r:o*255,g:l*255,b:a*255}}function za(e,n,i){e=Ct(e,255),n=Ct(n,255),i=Ct(i,255);var o=Math.max(e,n,i),l=Math.min(e,n,i),a=0,u=o,c=o-l,d=o===0?0:c/o;if(o===l)a=0;else{switch(o){case e:a=(n-i)/c+(n<i?6:0);break;case n:a=(i-e)/c+2;break;case i:a=(e-n)/c+4;break}a/=6}return{h:a,s:d,v:u}}function Hp(e,n,i){e=Ct(e,360)*6,n=Ct(n,100),i=Ct(i,100);var o=Math.floor(e),l=e-o,a=i*(1-n),u=i*(1-l*n),c=i*(1-(1-l)*n),d=o%6,f=[i,u,a,a,c,i][d],v=[c,i,i,u,a,a][d],b=[a,a,c,i,i,u][d];return{r:f*255,g:v*255,b:b*255}}function ja(e,n,i,o){var l=[Nn(Math.round(e).toString(16)),Nn(Math.round(n).toString(16)),Nn(Math.round(i).toString(16))];return o&&l[0].startsWith(l[0].charAt(1))&&l[1].startsWith(l[1].charAt(1))&&l[2].startsWith(l[2].charAt(1))?l[0].charAt(0)+l[1].charAt(0)+l[2].charAt(0):l.join("")}function Up(e,n,i,o,l){var a=[Nn(Math.round(e).toString(16)),Nn(Math.round(n).toString(16)),Nn(Math.round(i).toString(16)),Nn(Kp(o))];return l&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function Kp(e){return Math.round(parseFloat(e)*255).toString(16)}function Fa(e){return $t(e)/255}function $t(e){return parseInt(e,16)}function qp(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var Zi={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Wp(e){var n={r:0,g:0,b:0},i=1,o=null,l=null,a=null,u=!1,c=!1;return typeof e=="string"&&(e=Xp(e)),typeof e=="object"&&(pn(e.r)&&pn(e.g)&&pn(e.b)?(n=$p(e.r,e.g,e.b),u=!0,c=String(e.r).substr(-1)==="%"?"prgb":"rgb"):pn(e.h)&&pn(e.s)&&pn(e.v)?(o=Hr(e.s),l=Hr(e.v),n=Hp(e.h,o,l),u=!0,c="hsv"):pn(e.h)&&pn(e.s)&&pn(e.l)&&(o=Hr(e.s),a=Hr(e.l),n=Vp(e.h,o,a),u=!0,c="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(i=e.a)),i=al(i),{ok:u,format:e.format||c,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:i}}var Yp="[-\\+]?\\d+%?",Jp="[-\\+]?\\d*\\.\\d+%?",Sn="(?:".concat(Jp,")|(?:").concat(Yp,")"),$i="[\\s|\\(]+(".concat(Sn,")[,|\\s]+(").concat(Sn,")[,|\\s]+(").concat(Sn,")\\s*\\)?"),Vi="[\\s|\\(]+(".concat(Sn,")[,|\\s]+(").concat(Sn,")[,|\\s]+(").concat(Sn,")[,|\\s]+(").concat(Sn,")\\s*\\)?"),Qt={CSS_UNIT:new RegExp(Sn),rgb:new RegExp("rgb"+$i),rgba:new RegExp("rgba"+Vi),hsl:new RegExp("hsl"+$i),hsla:new RegExp("hsla"+Vi),hsv:new RegExp("hsv"+$i),hsva:new RegExp("hsva"+Vi),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Xp(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var n=!1;if(Zi[e])e=Zi[e],n=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i=Qt.rgb.exec(e);return i?{r:i[1],g:i[2],b:i[3]}:(i=Qt.rgba.exec(e),i?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=Qt.hsl.exec(e),i?{h:i[1],s:i[2],l:i[3]}:(i=Qt.hsla.exec(e),i?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=Qt.hsv.exec(e),i?{h:i[1],s:i[2],v:i[3]}:(i=Qt.hsva.exec(e),i?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=Qt.hex8.exec(e),i?{r:$t(i[1]),g:$t(i[2]),b:$t(i[3]),a:Fa(i[4]),format:n?"name":"hex8"}:(i=Qt.hex6.exec(e),i?{r:$t(i[1]),g:$t(i[2]),b:$t(i[3]),format:n?"name":"hex"}:(i=Qt.hex4.exec(e),i?{r:$t(i[1]+i[1]),g:$t(i[2]+i[2]),b:$t(i[3]+i[3]),a:Fa(i[4]+i[4]),format:n?"name":"hex8"}:(i=Qt.hex3.exec(e),i?{r:$t(i[1]+i[1]),g:$t(i[2]+i[2]),b:$t(i[3]+i[3]),format:n?"name":"hex"}:!1)))))))))}function pn(e){return!!Qt.CSS_UNIT.exec(String(e))}var Zp=function(){function e(n,i){n===void 0&&(n=""),i===void 0&&(i={});var o;if(n instanceof e)return n;typeof n=="number"&&(n=qp(n)),this.originalInput=n;var l=Wp(n);this.originalInput=n,this.r=l.r,this.g=l.g,this.b=l.b,this.a=l.a,this.roundA=Math.round(100*this.a)/100,this.format=(o=i.format)!==null&&o!==void 0?o:l.format,this.gradientType=i.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=l.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},e.prototype.getLuminance=function(){var n=this.toRgb(),i,o,l,a=n.r/255,u=n.g/255,c=n.b/255;return a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),u<=.03928?o=u/12.92:o=Math.pow((u+.055)/1.055,2.4),c<=.03928?l=c/12.92:l=Math.pow((c+.055)/1.055,2.4),.2126*i+.7152*o+.0722*l},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(n){return this.a=al(n),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var n=this.toHsl().s;return n===0},e.prototype.toHsv=function(){var n=za(this.r,this.g,this.b);return{h:n.h*360,s:n.s,v:n.v,a:this.a}},e.prototype.toHsvString=function(){var n=za(this.r,this.g,this.b),i=Math.round(n.h*360),o=Math.round(n.s*100),l=Math.round(n.v*100);return this.a===1?"hsv(".concat(i,", ").concat(o,"%, ").concat(l,"%)"):"hsva(".concat(i,", ").concat(o,"%, ").concat(l,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var n=Na(this.r,this.g,this.b);return{h:n.h*360,s:n.s,l:n.l,a:this.a}},e.prototype.toHslString=function(){var n=Na(this.r,this.g,this.b),i=Math.round(n.h*360),o=Math.round(n.s*100),l=Math.round(n.l*100);return this.a===1?"hsl(".concat(i,", ").concat(o,"%, ").concat(l,"%)"):"hsla(".concat(i,", ").concat(o,"%, ").concat(l,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(n){return n===void 0&&(n=!1),ja(this.r,this.g,this.b,n)},e.prototype.toHexString=function(n){return n===void 0&&(n=!1),"#"+this.toHex(n)},e.prototype.toHex8=function(n){return n===void 0&&(n=!1),Up(this.r,this.g,this.b,this.a,n)},e.prototype.toHex8String=function(n){return n===void 0&&(n=!1),"#"+this.toHex8(n)},e.prototype.toHexShortString=function(n){return n===void 0&&(n=!1),this.a===1?this.toHexString(n):this.toHex8String(n)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var n=Math.round(this.r),i=Math.round(this.g),o=Math.round(this.b);return this.a===1?"rgb(".concat(n,", ").concat(i,", ").concat(o,")"):"rgba(".concat(n,", ").concat(i,", ").concat(o,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var n=function(i){return"".concat(Math.round(Ct(i,255)*100),"%")};return{r:n(this.r),g:n(this.g),b:n(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var n=function(i){return Math.round(Ct(i,255)*100)};return this.a===1?"rgb(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%)"):"rgba(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var n="#"+ja(this.r,this.g,this.b,!1),i=0,o=Object.entries(Zi);i<o.length;i++){var l=o[i],a=l[0],u=l[1];if(n===u)return a}return!1},e.prototype.toString=function(n){var i=!!n;n=n??this.format;var o=!1,l=this.a<1&&this.a>=0,a=!i&&l&&(n.startsWith("hex")||n==="name");return a?n==="name"&&this.a===0?this.toName():this.toRgbString():(n==="rgb"&&(o=this.toRgbString()),n==="prgb"&&(o=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(o=this.toHexString()),n==="hex3"&&(o=this.toHexString(!0)),n==="hex4"&&(o=this.toHex8String(!0)),n==="hex8"&&(o=this.toHex8String()),n==="name"&&(o=this.toName()),n==="hsl"&&(o=this.toHslString()),n==="hsv"&&(o=this.toHsvString()),o||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(n){n===void 0&&(n=10);var i=this.toHsl();return i.l+=n/100,i.l=Vr(i.l),new e(i)},e.prototype.brighten=function(n){n===void 0&&(n=10);var i=this.toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(n/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(n/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(n/100)))),new e(i)},e.prototype.darken=function(n){n===void 0&&(n=10);var i=this.toHsl();return i.l-=n/100,i.l=Vr(i.l),new e(i)},e.prototype.tint=function(n){return n===void 0&&(n=10),this.mix("white",n)},e.prototype.shade=function(n){return n===void 0&&(n=10),this.mix("black",n)},e.prototype.desaturate=function(n){n===void 0&&(n=10);var i=this.toHsl();return i.s-=n/100,i.s=Vr(i.s),new e(i)},e.prototype.saturate=function(n){n===void 0&&(n=10);var i=this.toHsl();return i.s+=n/100,i.s=Vr(i.s),new e(i)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(n){var i=this.toHsl(),o=(i.h+n)%360;return i.h=o<0?360+o:o,new e(i)},e.prototype.mix=function(n,i){i===void 0&&(i=50);var o=this.toRgb(),l=new e(n).toRgb(),a=i/100,u={r:(l.r-o.r)*a+o.r,g:(l.g-o.g)*a+o.g,b:(l.b-o.b)*a+o.b,a:(l.a-o.a)*a+o.a};return new e(u)},e.prototype.analogous=function(n,i){n===void 0&&(n=6),i===void 0&&(i=30);var o=this.toHsl(),l=360/i,a=[this];for(o.h=(o.h-(l*n>>1)+720)%360;--n;)o.h=(o.h+l)%360,a.push(new e(o));return a},e.prototype.complement=function(){var n=this.toHsl();return n.h=(n.h+180)%360,new e(n)},e.prototype.monochromatic=function(n){n===void 0&&(n=6);for(var i=this.toHsv(),o=i.h,l=i.s,a=i.v,u=[],c=1/n;n--;)u.push(new e({h:o,s:l,v:a})),a=(a+c)%1;return u},e.prototype.splitcomplement=function(){var n=this.toHsl(),i=n.h;return[this,new e({h:(i+72)%360,s:n.s,l:n.l}),new e({h:(i+216)%360,s:n.s,l:n.l})]},e.prototype.onBackground=function(n){var i=this.toRgb(),o=new e(n).toRgb(),l=i.a+o.a*(1-i.a);return new e({r:(i.r*i.a+o.r*o.a*(1-i.a))/l,g:(i.g*i.a+o.g*o.a*(1-i.a))/l,b:(i.b*i.a+o.b*o.a*(1-i.a))/l,a:l})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(n){for(var i=this.toHsl(),o=i.h,l=[this],a=360/n,u=1;u<n;u++)l.push(new e({h:(o+u*a)%360,s:i.s,l:i.l}));return l},e.prototype.equals=function(n){return this.toRgbString()===new e(n).toRgbString()},e}();function wn(e,n=20){return e.mix("#141414",n).toString()}function Qp(e){const n=di(),i=Qe("button");return Q(()=>{let o={};const l=e.color;if(l){const a=new Zp(l),u=e.dark?a.tint(20).toString():wn(a,20);if(e.plain)o=i.cssVarBlock({"bg-color":e.dark?wn(a,90):a.tint(90).toString(),"text-color":l,"border-color":e.dark?wn(a,50):a.tint(50).toString(),"hover-text-color":`var(${i.cssVarName("color-white")})`,"hover-bg-color":l,"hover-border-color":l,"active-bg-color":u,"active-text-color":`var(${i.cssVarName("color-white")})`,"active-border-color":u}),n.value&&(o[i.cssVarBlockName("disabled-bg-color")]=e.dark?wn(a,90):a.tint(90).toString(),o[i.cssVarBlockName("disabled-text-color")]=e.dark?wn(a,50):a.tint(50).toString(),o[i.cssVarBlockName("disabled-border-color")]=e.dark?wn(a,80):a.tint(80).toString());else{const c=e.dark?wn(a,30):a.tint(30).toString(),d=a.isDark()?`var(${i.cssVarName("color-white")})`:`var(${i.cssVarName("color-black")})`;if(o=i.cssVarBlock({"bg-color":l,"text-color":d,"border-color":l,"hover-bg-color":c,"hover-text-color":d,"hover-border-color":c,"active-bg-color":u,"active-border-color":u}),n.value){const f=e.dark?wn(a,50):a.tint(50).toString();o[i.cssVarBlockName("disabled-bg-color")]=f,o[i.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${i.cssVarName("color-white")})`,o[i.cssVarBlockName("disabled-border-color")]=f}}}return o})}const eg=Pe({name:"ElButton"}),tg=Pe({...eg,props:Xi,emits:jp,setup(e,{expose:n,emit:i}){const o=e,l=Qp(o),a=Qe("button"),{_ref:u,_size:c,_type:d,_disabled:f,_props:v,shouldAddSpace:b,handleClick:x}=Ap(o,i);return n({ref:u,size:c,type:d,disabled:f,shouldAddSpace:b}),(P,k)=>(le(),Ce(Kt(P.tag),vn({ref_key:"_ref",ref:u},M(v),{class:[M(a).b(),M(a).m(M(d)),M(a).m(M(c)),M(a).is("disabled",M(f)),M(a).is("loading",P.loading),M(a).is("plain",P.plain),M(a).is("round",P.round),M(a).is("circle",P.circle),M(a).is("text",P.text),M(a).is("link",P.link),M(a).is("has-bg",P.bg)],style:M(l),onClick:M(x)}),{default:fe(()=>[P.loading?(le(),Ee(Rt,{key:0},[P.$slots.loading?Ae(P.$slots,"loading",{key:0}):(le(),Ce(M(Tt),{key:1,class:me(M(a).is("loading"))},{default:fe(()=>[(le(),Ce(Kt(P.loadingIcon)))]),_:1},8,["class"]))],64)):P.icon||P.$slots.icon?(le(),Ce(M(Tt),{key:1},{default:fe(()=>[P.icon?(le(),Ce(Kt(P.icon),{key:0})):Ae(P.$slots,"icon",{key:1})]),_:3})):Oe("v-if",!0),P.$slots.default?(le(),Ee("span",{key:2,class:me({[M(a).em("text","expand")]:M(b)})},[Ae(P.$slots,"default")],2)):Oe("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var ng=tt(tg,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const rg={size:Xi.size,type:Xi.type},ig=Pe({name:"ElButtonGroup"}),og=Pe({...ig,props:rg,setup(e){const n=e;Wt(ol,Bn({size:un(n,"size"),type:un(n,"type")}));const i=Qe("button");return(o,l)=>(le(),Ee("div",{class:me(`${M(i).b("group")}`)},[Ae(o.$slots,"default")],2))}});var sl=tt(og,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const ll=hn(ng,{ButtonGroup:sl});oo(sl);const En=new Map;let Ga;vt&&(document.addEventListener("mousedown",e=>Ga=e),document.addEventListener("mouseup",e=>{for(const n of En.values())for(const{documentHandler:i}of n)i(e,Ga)}));function $a(e,n){let i=[];return Array.isArray(n.arg)?i=n.arg:Zn(n.arg)&&i.push(n.arg),function(o,l){const a=n.instance.popperRef,u=o.target,c=l==null?void 0:l.target,d=!n||!n.instance,f=!u||!c,v=e.contains(u)||e.contains(c),b=e===u,x=i.length&&i.some(k=>k==null?void 0:k.contains(u))||i.length&&i.includes(c),P=a&&(a.contains(u)||a.contains(c));d||f||v||b||x||P||n.value(o,l)}}const ag={beforeMount(e,n){En.has(e)||En.set(e,[]),En.get(e).push({documentHandler:$a(e,n),bindingFn:n.value})},updated(e,n){En.has(e)||En.set(e,[]);const i=En.get(e),o=i.findIndex(a=>a.bindingFn===n.oldValue),l={documentHandler:$a(e,n),bindingFn:n.value};o>=0?i.splice(o,1,l):i.push(l)},unmounted(e){En.delete(e)}},sg=100,lg=600,Va={beforeMount(e,n){const i=n.value,{interval:o=sg,delay:l=lg}=_t(i)?{}:i;let a,u;const c=()=>_t(i)?i():i.handler(),d=()=>{u&&(clearTimeout(u),u=void 0),a&&(clearInterval(a),a=void 0)};e.addEventListener("mousedown",f=>{f.button===0&&(d(),c(),document.addEventListener("mouseup",()=>d(),{once:!0}),u=setTimeout(()=>{a=setInterval(()=>{c()},o)},l))})}},ul=ut({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:Du,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),ug={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},cg=Pe({name:"ElTag"}),dg=Pe({...cg,props:ul,emits:ug,setup(e,{emit:n}){const i=e,o=Cr(),l=Qe("tag"),a=Q(()=>{const{type:d,hit:f,effect:v,closable:b,round:x}=i;return[l.b(),l.is("closable",b),l.m(d),l.m(o.value),l.m(v),l.is("hit",f),l.is("round",x)]}),u=d=>{n("close",d)},c=d=>{n("click",d)};return(d,f)=>d.disableTransitions?(le(),Ee("span",{key:0,class:me(M(a)),style:xt({backgroundColor:d.color}),onClick:c},[Re("span",{class:me(M(l).e("content"))},[Ae(d.$slots,"default")],2),d.closable?(le(),Ce(M(Tt),{key:0,class:me(M(l).e("close")),onClick:Pt(u,["stop"])},{default:fe(()=>[ye(M(ea))]),_:1},8,["class","onClick"])):Oe("v-if",!0)],6)):(le(),Ce(_n,{key:1,name:`${M(l).namespace.value}-zoom-in-center`,appear:""},{default:fe(()=>[Re("span",{class:me(M(a)),style:xt({backgroundColor:d.color}),onClick:c},[Re("span",{class:me(M(l).e("content"))},[Ae(d.$slots,"default")],2),d.closable?(le(),Ce(M(Tt),{key:0,class:me(M(l).e("close")),onClick:Pt(u,["stop"])},{default:fe(()=>[ye(M(ea))]),_:1},8,["class","onClick"])):Oe("v-if",!0)],6)]),_:3},8,["name"]))}});var hg=tt(dg,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const fg=hn(hg),pg=ut({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:$e([String,Array,Object])},zIndex:{type:$e([String,Number])}}),gg={click:e=>e instanceof MouseEvent},mg="overlay";var vg=Pe({name:"ElOverlay",props:pg,emits:gg,setup(e,{slots:n,emit:i}){const o=Qe(mg),l=d=>{i("click",d)},{onClick:a,onMousedown:u,onMouseup:c}=Gs(e.customMaskEvent?void 0:l);return()=>e.mask?ye("div",{class:[o.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:u,onMouseup:c},[Ae(n,"default")],Xr.STYLE|Xr.CLASS|Xr.PROPS,["onClick","onMouseup","onMousedown"]):Wn("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Ae(n,"default")])}});const yg=vg,cl=Symbol("dialogInjectionKey"),dl=ut({center:Boolean,alignCenter:Boolean,closeIcon:{type:Tn},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),_g={close:()=>!0},bg=["aria-level"],Lg=["aria-label"],kg=["id"],Mg=Pe({name:"ElDialogContent"}),wg=Pe({...Mg,props:dl,emits:_g,setup(e){const n=e,{t:i}=sr(),{Close:o}=Au,{dialogRef:l,headerRef:a,bodyId:u,ns:c,style:d}=kt(cl),{focusTrapRef:f}=kt(el),v=Q(()=>[c.b(),c.is("fullscreen",n.fullscreen),c.is("draggable",n.draggable),c.is("align-center",n.alignCenter),{[c.m("center")]:n.center},n.customClass]),b=Cd(f,l),x=Q(()=>n.draggable);return Rd(l,a,x),(P,k)=>(le(),Ee("div",{ref:M(b),class:me(M(v)),style:xt(M(d)),tabindex:"-1"},[Re("header",{ref_key:"headerRef",ref:a,class:me(M(c).e("header"))},[Ae(P.$slots,"header",{},()=>[Re("span",{role:"heading","aria-level":P.ariaLevel,class:me(M(c).e("title"))},bt(P.title),11,bg)]),P.showClose?(le(),Ee("button",{key:0,"aria-label":M(i)("el.dialog.close"),class:me(M(c).e("headerbtn")),type:"button",onClick:k[0]||(k[0]=y=>P.$emit("close"))},[ye(M(Tt),{class:me(M(c).e("close"))},{default:fe(()=>[(le(),Ce(Kt(P.closeIcon||M(o))))]),_:1},8,["class"])],10,Lg)):Oe("v-if",!0)],2),Re("div",{id:M(u),class:me(M(c).e("body"))},[Ae(P.$slots,"default")],10,kg),P.$slots.footer?(le(),Ee("footer",{key:0,class:me(M(c).e("footer"))},[Ae(P.$slots,"footer")],2)):Oe("v-if",!0)],6))}});var xg=tt(wg,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Eg=ut({...dl,appendToBody:Boolean,appendTo:{type:$e(String),default:"body"},beforeClose:{type:$e(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),Cg={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Lt]:e=>ro(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Sg=(e,n)=>{var i;const l=on().emit,{nextZIndex:a}=mo();let u="";const c=Lr(),d=Lr(),f=he(!1),v=he(!1),b=he(!1),x=he((i=e.zIndex)!=null?i:a());let P,k;const y=vi("namespace",as),E=Q(()=>{const ee={},de=`--${y.value}-dialog`;return e.fullscreen||(e.top&&(ee[`${de}-margin-top`]=e.top),e.width&&(ee[`${de}-width`]=vr(e.width))),ee}),m=Q(()=>e.alignCenter?{display:"flex"}:{});function S(){l("opened")}function A(){l("closed"),l(Lt,!1),e.destroyOnClose&&(b.value=!1)}function w(){l("close")}function T(){k==null||k(),P==null||P(),e.openDelay&&e.openDelay>0?{stop:P}=qi(()=>Z(),e.openDelay):Z()}function B(){P==null||P(),k==null||k(),e.closeDelay&&e.closeDelay>0?{stop:k}=qi(()=>J(),e.closeDelay):J()}function I(){function ee(de){de||(v.value=!0,f.value=!1)}e.beforeClose?e.beforeClose(ee):B()}function U(){e.closeOnClickModal&&I()}function Z(){vt&&(f.value=!0)}function J(){f.value=!1}function oe(){l("openAutoFocus")}function ne(){l("closeAutoFocus")}function K(ee){var de;((de=ee.detail)==null?void 0:de.focusReason)==="pointer"&&ee.preventDefault()}e.lockScroll&&Nd(f);function ae(){e.closeOnPressEscape&&I()}return Be(()=>e.modelValue,ee=>{ee?(v.value=!1,T(),b.value=!0,x.value=xs(e.zIndex)?a():x.value++,Ye(()=>{l("open"),n.value&&(n.value.scrollTop=0)})):f.value&&B()}),Be(()=>e.fullscreen,ee=>{n.value&&(ee?(u=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=u)}),Mt(()=>{e.modelValue&&(f.value=!0,b.value=!0,T())}),{afterEnter:S,afterLeave:A,beforeLeave:w,handleClose:I,onModalClick:U,close:B,doClose:J,onOpenAutoFocus:oe,onCloseAutoFocus:ne,onCloseRequested:ae,onFocusoutPrevented:K,titleId:c,bodyId:d,closed:v,style:E,overlayDialogStyle:m,rendered:b,visible:f,zIndex:x}},Og=["aria-label","aria-labelledby","aria-describedby"],Pg=Pe({name:"ElDialog",inheritAttrs:!1}),Tg=Pe({...Pg,props:Eg,emits:Cg,setup(e,{expose:n}){const i=e,o=ao();ti({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},Q(()=>!!o.title)),ti({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},Q(()=>!!i.customClass));const l=Qe("dialog"),a=he(),u=he(),c=he(),{visible:d,titleId:f,bodyId:v,style:b,overlayDialogStyle:x,rendered:P,zIndex:k,afterEnter:y,afterLeave:E,beforeLeave:m,handleClose:S,onModalClick:A,onOpenAutoFocus:w,onCloseAutoFocus:T,onCloseRequested:B,onFocusoutPrevented:I}=Sg(i,a);Wt(cl,{dialogRef:a,headerRef:u,bodyId:v,ns:l,rendered:P,style:b});const U=Gs(A),Z=Q(()=>i.draggable&&!i.fullscreen);return n({visible:d,dialogContentRef:c}),(J,oe)=>(le(),Ce(vs,{to:J.appendTo,disabled:J.appendTo!=="body"?!1:!J.appendToBody},[ye(_n,{name:"dialog-fade",onAfterEnter:M(y),onAfterLeave:M(E),onBeforeLeave:M(m),persisted:""},{default:fe(()=>[Et(ye(M(yg),{"custom-mask-event":"",mask:J.modal,"overlay-class":J.modalClass,"z-index":M(k)},{default:fe(()=>[Re("div",{role:"dialog","aria-modal":"true","aria-label":J.title||void 0,"aria-labelledby":J.title?void 0:M(f),"aria-describedby":M(v),class:me(`${M(l).namespace.value}-overlay-dialog`),style:xt(M(x)),onClick:oe[0]||(oe[0]=(...ne)=>M(U).onClick&&M(U).onClick(...ne)),onMousedown:oe[1]||(oe[1]=(...ne)=>M(U).onMousedown&&M(U).onMousedown(...ne)),onMouseup:oe[2]||(oe[2]=(...ne)=>M(U).onMouseup&&M(U).onMouseup(...ne))},[ye(M(nl),{loop:"",trapped:M(d),"focus-start-el":"container",onFocusAfterTrapped:M(w),onFocusAfterReleased:M(T),onFocusoutPrevented:M(I),onReleaseRequested:M(B)},{default:fe(()=>[M(P)?(le(),Ce(xg,vn({key:0,ref_key:"dialogContentRef",ref:c},J.$attrs,{"custom-class":J.customClass,center:J.center,"align-center":J.alignCenter,"close-icon":J.closeIcon,draggable:M(Z),fullscreen:J.fullscreen,"show-close":J.showClose,title:J.title,"aria-level":J.headerAriaLevel,onClose:M(S)}),Wi({header:fe(()=>[J.$slots.title?Ae(J.$slots,"title",{key:1}):Ae(J.$slots,"header",{key:0,close:M(S),titleId:M(f),titleClass:M(l).e("title")})]),default:fe(()=>[Ae(J.$slots,"default")]),_:2},[J.$slots.footer?{name:"footer",fn:fe(()=>[Ae(J.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):Oe("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Og)]),_:3},8,["mask","overlay-class","z-index"]),[[fn,M(d)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var Rg=tt(Tg,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const hl=hn(Rg),Bg=ut({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:io,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||Ze(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),Ig={[hi]:(e,n)=>n!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[Wr]:e=>Ze(e)||yn(e),[Lt]:e=>Ze(e)||yn(e)},Dg=["aria-label","onKeydown"],Ag=["aria-label","onKeydown"],Ng=Pe({name:"ElInputNumber"}),zg=Pe({...Ng,props:Bg,emits:Ig,setup(e,{expose:n,emit:i}){const o=e,{t:l}=sr(),a=Qe("input-number"),u=he(),c=Bn({currentValue:o.modelValue,userInput:null}),{formItem:d}=ci(),f=Q(()=>Ze(o.modelValue)&&o.modelValue<=o.min),v=Q(()=>Ze(o.modelValue)&&o.modelValue>=o.max),b=Q(()=>{const K=m(o.step);return hr(o.precision)?Math.max(m(o.modelValue),K):(K>o.precision,o.precision)}),x=Q(()=>o.controls&&o.controlsPosition==="right"),P=Cr(),k=di(),y=Q(()=>{if(c.userInput!==null)return c.userInput;let K=c.currentValue;if(yn(K))return"";if(Ze(K)){if(Number.isNaN(K))return"";hr(o.precision)||(K=K.toFixed(o.precision))}return K}),E=(K,ae)=>{if(hr(ae)&&(ae=b.value),ae===0)return Math.round(K);let ee=String(K);const de=ee.indexOf(".");if(de===-1||!ee.replace(".","").split("")[de+ae])return K;const ue=ee.length;return ee.charAt(ue-1)==="5"&&(ee=`${ee.slice(0,Math.max(0,ue-1))}6`),Number.parseFloat(Number(ee).toFixed(ae))},m=K=>{if(yn(K))return 0;const ae=K.toString(),ee=ae.indexOf(".");let de=0;return ee!==-1&&(de=ae.length-ee-1),de},S=(K,ae=1)=>Ze(K)?E(K+o.step*ae):c.currentValue,A=()=>{if(o.readonly||k.value||v.value)return;const K=Number(y.value)||0,ae=S(K);B(ae),i(Wr,c.currentValue)},w=()=>{if(o.readonly||k.value||f.value)return;const K=Number(y.value)||0,ae=S(K,-1);B(ae),i(Wr,c.currentValue)},T=(K,ae)=>{const{max:ee,min:de,step:V,precision:X,stepStrictly:ue,valueOnClear:ke}=o;ee<de&&no("InputNumber","min should not be greater than max.");let Le=Number(K);if(yn(K)||Number.isNaN(Le))return null;if(K===""){if(ke===null)return null;Le=nn(ke)?{min:de,max:ee}[ke]:ke}return ue&&(Le=E(Math.round(Le/V)*V,X)),hr(X)||(Le=E(Le,X)),(Le>ee||Le<de)&&(Le=Le>ee?ee:de,ae&&i(Lt,Le)),Le},B=(K,ae=!0)=>{var ee;const de=c.currentValue,V=T(K);if(!ae){i(Lt,V);return}de!==V&&(c.userInput=null,i(Lt,V),i(hi,V,de),o.validateEvent&&((ee=d==null?void 0:d.validate)==null||ee.call(d,"change").catch(X=>br())),c.currentValue=V)},I=K=>{c.userInput=K;const ae=K===""?null:Number(K);i(Wr,ae),B(ae,!1)},U=K=>{const ae=K!==""?Number(K):"";(Ze(ae)&&!Number.isNaN(ae)||K==="")&&B(ae),c.userInput=null},Z=()=>{var K,ae;(ae=(K=u.value)==null?void 0:K.focus)==null||ae.call(K)},J=()=>{var K,ae;(ae=(K=u.value)==null?void 0:K.blur)==null||ae.call(K)},oe=K=>{i("focus",K)},ne=K=>{var ae;i("blur",K),o.validateEvent&&((ae=d==null?void 0:d.validate)==null||ae.call(d,"blur").catch(ee=>br()))};return Be(()=>o.modelValue,K=>{const ae=T(c.userInput),ee=T(K,!0);!Ze(ae)&&(!ae||ae!==ee)&&(c.currentValue=ee,c.userInput=null)},{immediate:!0}),Mt(()=>{var K;const{min:ae,max:ee,modelValue:de}=o,V=(K=u.value)==null?void 0:K.input;if(V.setAttribute("role","spinbutton"),Number.isFinite(ee)?V.setAttribute("aria-valuemax",String(ee)):V.removeAttribute("aria-valuemax"),Number.isFinite(ae)?V.setAttribute("aria-valuemin",String(ae)):V.removeAttribute("aria-valuemin"),V.setAttribute("aria-valuenow",c.currentValue||c.currentValue===0?String(c.currentValue):""),V.setAttribute("aria-disabled",String(k.value)),!Ze(de)&&de!=null){let X=Number(de);Number.isNaN(X)&&(X=null),i(Lt,X)}}),gs(()=>{var K,ae;const ee=(K=u.value)==null?void 0:K.input;ee==null||ee.setAttribute("aria-valuenow",`${(ae=c.currentValue)!=null?ae:""}`)}),n({focus:Z,blur:J}),(K,ae)=>(le(),Ee("div",{class:me([M(a).b(),M(a).m(M(P)),M(a).is("disabled",M(k)),M(a).is("without-controls",!K.controls),M(a).is("controls-right",M(x))]),onDragstart:ae[1]||(ae[1]=Pt(()=>{},["prevent"]))},[K.controls?Et((le(),Ee("span",{key:0,role:"button","aria-label":M(l)("el.inputNumber.decrease"),class:me([M(a).e("decrease"),M(a).is("disabled",M(f))]),onKeydown:Dt(w,["enter"])},[ye(M(Tt),null,{default:fe(()=>[M(x)?(le(),Ce(M(cs),{key:0})):(le(),Ce(M(ds),{key:1}))]),_:1})],42,Dg)),[[M(Va),w]]):Oe("v-if",!0),K.controls?Et((le(),Ee("span",{key:1,role:"button","aria-label":M(l)("el.inputNumber.increase"),class:me([M(a).e("increase"),M(a).is("disabled",M(v))]),onKeydown:Dt(A,["enter"])},[ye(M(Tt),null,{default:fe(()=>[M(x)?(le(),Ce(M(Nu),{key:0})):(le(),Ce(M(hs),{key:1}))]),_:1})],42,Ag)),[[M(Va),A]]):Oe("v-if",!0),ye(M(yi),{id:K.id,ref_key:"input",ref:u,type:"number",step:K.step,"model-value":M(y),placeholder:K.placeholder,readonly:K.readonly,disabled:M(k),size:M(P),max:K.max,min:K.min,name:K.name,label:K.label,"validate-event":!1,onWheel:ae[0]||(ae[0]=Pt(()=>{},["prevent"])),onKeydown:[Dt(Pt(A,["prevent"]),["up"]),Dt(Pt(w,["prevent"]),["down"])],onBlur:ne,onFocus:oe,onInput:I,onChange:U},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var jg=tt(zg,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const Fg=hn(jg),fl=Symbol("ElSelectGroup"),bi=Symbol("ElSelect");function Gg(e,n){const i=kt(bi),o=kt(fl,{disabled:!1}),l=Q(()=>rn(e.value)),a=Q(()=>i.props.multiple?b(i.props.modelValue,e.value):x(e.value,i.props.modelValue)),u=Q(()=>{if(i.props.multiple){const y=i.props.modelValue||[];return!a.value&&y.length>=i.props.multipleLimit&&i.props.multipleLimit>0}else return!1}),c=Q(()=>e.label||(l.value?"":e.value)),d=Q(()=>e.value||e.label||""),f=Q(()=>e.disabled||n.groupDisabled||u.value),v=on(),b=(y=[],E)=>{if(l.value){const m=i.props.valueKey;return y&&y.some(S=>Qn(Vt(S,m))===Vt(E,m))}else return y&&y.includes(E)},x=(y,E)=>{if(l.value){const{valueKey:m}=i.props;return Vt(y,m)===Vt(E,m)}else return y===E},P=()=>{!e.disabled&&!o.disabled&&(i.hoverIndex=i.optionsArray.indexOf(v.proxy))};Be(()=>c.value,()=>{!e.created&&!i.props.remote&&i.setSelected()}),Be(()=>e.value,(y,E)=>{const{remote:m,valueKey:S}=i.props;if(Object.is(y,E)||(i.onOptionDestroy(E,v.proxy),i.onOptionCreate(v.proxy)),!e.created&&!m){if(S&&rn(y)&&rn(E)&&y[S]===E[S])return;i.setSelected()}}),Be(()=>o.disabled,()=>{n.groupDisabled=o.disabled},{immediate:!0});const{queryChange:k}=Qn(i);return Be(k,y=>{const{query:E}=M(y),m=new RegExp(wd(E),"i");n.visible=m.test(c.value)||e.created,n.visible||i.filteredOptionsCount--},{immediate:!0}),{select:i,currentLabel:c,currentValue:d,itemSelected:a,isDisabled:f,hoverItem:P}}const $g=Pe({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const n=Qe("select"),i=Lr(),o=Q(()=>[n.be("dropdown","item"),n.is("disabled",M(c)),{selected:M(u),hover:M(b)}]),l=Bn({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:a,itemSelected:u,isDisabled:c,select:d,hoverItem:f}=Gg(e,l),{visible:v,hover:b}=fi(l),x=on().proxy;d.onOptionCreate(x),an(()=>{const k=x.value,{selected:y}=d,m=(d.props.multiple?y:[y]).some(S=>S.value===x.value);Ye(()=>{d.cachedOptions.get(k)===x&&!m&&d.cachedOptions.delete(k)}),d.onOptionDestroy(k,x)});function P(){e.disabled!==!0&&l.groupDisabled!==!0&&d.handleOptionSelect(x)}return{ns:n,id:i,containerKls:o,currentLabel:a,itemSelected:u,isDisabled:c,select:d,hoverItem:f,visible:v,hover:b,selectOptionClick:P,states:l}}}),Vg=["id","aria-disabled","aria-selected"];function Hg(e,n,i,o,l,a){return Et((le(),Ee("li",{id:e.id,class:me(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMouseenter:n[0]||(n[0]=(...u)=>e.hoverItem&&e.hoverItem(...u)),onClick:n[1]||(n[1]=Pt((...u)=>e.selectOptionClick&&e.selectOptionClick(...u),["stop"]))},[Ae(e.$slots,"default",{},()=>[Re("span",null,bt(e.currentLabel),1)])],42,Vg)),[[fn,e.visible]])}var ko=tt($g,[["render",Hg],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const Ug=Pe({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=kt(bi),n=Qe("select"),i=Q(()=>e.props.popperClass),o=Q(()=>e.props.multiple),l=Q(()=>e.props.fitInputWidth),a=he("");function u(){var c;a.value=`${(c=e.selectWrapper)==null?void 0:c.offsetWidth}px`}return Mt(()=>{u(),Sr(e.selectWrapper,u)}),{ns:n,minWidth:a,popperClass:i,isMultiple:o,isFitInputWidth:l}}});function Kg(e,n,i,o,l,a){return le(),Ee("div",{class:me([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:xt({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(le(),Ee("div",{key:0,class:me(e.ns.be("dropdown","header"))},[Ae(e.$slots,"header")],2)):Oe("v-if",!0),Ae(e.$slots,"default"),e.$slots.footer?(le(),Ee("div",{key:1,class:me(e.ns.be("dropdown","footer"))},[Ae(e.$slots,"footer")],2)):Oe("v-if",!0)],6)}var qg=tt(Ug,[["render",Kg],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function Wg(e){const{t:n}=sr();return Bn({options:new Map,cachedOptions:new Map,disabledOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:n("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1,focused:!1})}const Yg=(e,n,i)=>{const{t:o}=sr(),l=Qe("select");ti({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},Q(()=>e.suffixTransition===!1));const a=he(null),u=he(null),c=he(null),d=he(null),f=he(null),v=he(null),b=he(null),x=he(null),P=he(),k=tn({query:""}),y=tn(""),E=he([]);let m=0;const{form:S,formItem:A}=ci(),w=Q(()=>!e.filterable||e.multiple||!n.visible),T=Q(()=>e.disabled||(S==null?void 0:S.disabled)),B=Q(()=>{const q=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!T.value&&n.inputHovering&&q}),I=Q(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),U=Q(()=>l.is("reverse",I.value&&n.visible&&e.suffixTransition)),Z=Q(()=>(S==null?void 0:S.statusIcon)&&(A==null?void 0:A.validateState)&&ss[A==null?void 0:A.validateState]),J=Q(()=>e.remote?300:0),oe=Q(()=>e.loading?e.loadingText||o("el.select.loading"):e.remote&&n.query===""&&n.options.size===0?!1:e.filterable&&n.query&&n.options.size>0&&n.filteredOptionsCount===0?e.noMatchText||o("el.select.noMatch"):n.options.size===0?e.noDataText||o("el.select.noData"):null),ne=Q(()=>{const q=Array.from(n.options.values()),se=[];return E.value.forEach(ge=>{const xe=q.findIndex(et=>et.currentLabel===ge);xe>-1&&se.push(q[xe])}),se.length>=q.length?se:q}),K=Q(()=>Array.from(n.cachedOptions.values())),ae=Q(()=>{const q=ne.value.filter(se=>!se.created).some(se=>se.currentLabel===n.query);return e.filterable&&e.allowCreate&&n.query!==""&&!q}),ee=Cr(),de=Q(()=>["small"].includes(ee.value)?"small":"default"),V=Q({get(){return n.visible&&oe.value!==!1},set(q){n.visible=q}});Be([()=>T.value,()=>ee.value,()=>S==null?void 0:S.size],()=>{Ye(()=>{X()})}),Be(()=>e.placeholder,q=>{n.cachedPlaceHolder=n.currentPlaceholder=q,e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(n.currentPlaceholder="")}),Be(()=>e.modelValue,(q,se)=>{e.multiple&&(X(),q&&q.length>0||u.value&&n.query!==""?n.currentPlaceholder="":n.currentPlaceholder=n.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(n.query="",ue(n.query))),Me(),e.filterable&&!e.multiple&&(n.inputLength=20),!ha(q,se)&&e.validateEvent&&(A==null||A.validate("change").catch(ge=>br()))},{flush:"post",deep:!0}),Be(()=>n.visible,q=>{var se,ge,xe,et,st;q?((ge=(se=d.value)==null?void 0:se.updatePopper)==null||ge.call(se),e.filterable&&(n.filteredOptionsCount=n.optionsCount,n.query=e.remote?"":n.selectedLabel,(et=(xe=c.value)==null?void 0:xe.focus)==null||et.call(xe),e.multiple?(st=u.value)==null||st.focus():n.selectedLabel&&(n.currentPlaceholder=`${n.selectedLabel}`,n.selectedLabel=""),ue(n.query),!e.multiple&&!e.remote&&(k.value.query="",cr(k),cr(y)))):(e.filterable&&(_t(e.filterMethod)&&e.filterMethod(""),_t(e.remoteMethod)&&e.remoteMethod("")),n.query="",n.previousQuery=null,n.selectedLabel="",n.inputLength=20,n.menuVisibleOnFocus=!1,Ue(),Ye(()=>{u.value&&u.value.value===""&&n.selected.length===0&&(n.currentPlaceholder=n.cachedPlaceHolder)}),e.multiple||(n.selected&&(e.filterable&&e.allowCreate&&n.createdSelected&&n.createdLabel?n.selectedLabel=n.createdLabel:n.selectedLabel=n.selected.currentLabel,e.filterable&&(n.query=n.selectedLabel)),e.filterable&&(n.currentPlaceholder=n.cachedPlaceHolder))),i.emit("visible-change",q)}),Be(()=>n.options.entries(),()=>{var q,se,ge;if(!vt)return;(se=(q=d.value)==null?void 0:q.updatePopper)==null||se.call(q),e.multiple&&X();const xe=((ge=b.value)==null?void 0:ge.querySelectorAll("input"))||[];(!e.filterable&&!e.defaultFirstOption&&!hr(e.modelValue)||!Array.from(xe).includes(document.activeElement))&&Me(),e.defaultFirstOption&&(e.filterable||e.remote)&&n.filteredOptionsCount&&Le()},{flush:"post"}),Be(()=>n.hoverIndex,q=>{Ze(q)&&q>-1?P.value=ne.value[q]||{}:P.value={},ne.value.forEach(se=>{se.hover=P.value===se})});const X=()=>{Ye(()=>{var q,se;if(!a.value)return;const ge=a.value.$el.querySelector("input");m=m||(ge.clientHeight>0?ge.clientHeight+2:0);const xe=v.value,et=getComputedStyle(ge).getPropertyValue(l.cssVarName("input-height")),st=Number.parseFloat(et)||Sd(ee.value||(S==null?void 0:S.size)),Ot=ee.value||st===m||m<=0?st:m;!(ge.offsetParent===null)&&(ge.style.height=`${(n.selected.length===0?Ot:Math.max(xe?xe.clientHeight+(xe.clientHeight>Ot?6:0):0,Ot))-2}px`),n.visible&&oe.value!==!1&&((se=(q=d.value)==null?void 0:q.updatePopper)==null||se.call(q))})},ue=async q=>{if(!(n.previousQuery===q||n.isOnComposition)){if(n.previousQuery===null&&(_t(e.filterMethod)||_t(e.remoteMethod))){n.previousQuery=q;return}n.previousQuery=q,Ye(()=>{var se,ge;n.visible&&((ge=(se=d.value)==null?void 0:se.updatePopper)==null||ge.call(se))}),n.hoverIndex=-1,e.multiple&&e.filterable&&Ye(()=>{if(!T.value){const se=u.value.value.length*15+20;n.inputLength=e.collapseTags?Math.min(50,se):se,ke()}X()}),e.remote&&_t(e.remoteMethod)?(n.hoverIndex=-1,e.remoteMethod(q)):_t(e.filterMethod)?(e.filterMethod(q),cr(y)):(n.filteredOptionsCount=n.optionsCount,k.value.query=q,cr(k),cr(y)),e.defaultFirstOption&&(e.filterable||e.remote)&&n.filteredOptionsCount&&(await Ye(),Le())}},ke=()=>{n.currentPlaceholder!==""&&(n.currentPlaceholder=u.value.value?"":n.cachedPlaceHolder)},Le=()=>{const q=ne.value.filter(xe=>xe.visible&&!xe.disabled&&!xe.states.groupDisabled),se=q.find(xe=>xe.created),ge=q[0];n.hoverIndex=We(ne.value,se||ge)},Me=()=>{var q;if(e.multiple)n.selectedLabel="";else{const ge=He(e.modelValue);(q=ge.props)!=null&&q.created?(n.createdLabel=ge.props.value,n.createdSelected=!0):n.createdSelected=!1,n.selectedLabel=ge.currentLabel,n.selected=ge,e.filterable&&(n.query=n.selectedLabel);return}const se=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(ge=>{se.push(He(ge))}),n.selected=se,Ye(()=>{X()})},He=q=>{let se;const ge=Ai(q).toLowerCase()==="object",xe=Ai(q).toLowerCase()==="null",et=Ai(q).toLowerCase()==="undefined";for(let At=n.cachedOptions.size-1;At>=0;At--){const Bt=K.value[At];if(ge?Vt(Bt.value,e.valueKey)===Vt(q,e.valueKey):Bt.value===q){se={value:q,currentLabel:Bt.currentLabel,isDisabled:Bt.isDisabled};break}}if(se)return se;const st=ge?q.label:!xe&&!et?q:"",Ot={value:q,currentLabel:st};return e.multiple&&(Ot.hitState=!1),Ot},Ue=()=>{setTimeout(()=>{const q=e.valueKey;e.multiple?n.selected.length>0?n.hoverIndex=Math.min.apply(null,n.selected.map(se=>ne.value.findIndex(ge=>Vt(ge,q)===Vt(se,q)))):n.hoverIndex=-1:n.hoverIndex=ne.value.findIndex(se=>Ve(se)===Ve(n.selected))},300)},Fe=()=>{var q,se;Se(),(se=(q=d.value)==null?void 0:q.updatePopper)==null||se.call(q),e.multiple&&X()},Se=()=>{var q;n.inputWidth=(q=a.value)==null?void 0:q.$el.offsetWidth},we=()=>{e.filterable&&n.query!==n.selectedLabel&&(n.query=n.selectedLabel,ue(n.query))},Ie=da(()=>{we()},J.value),pt=da(q=>{ue(q.target.value)},J.value),it=q=>{ha(e.modelValue,q)||i.emit(hi,q)},qe=q=>Md(q,se=>!n.disabledOptions.has(se)),gt=q=>{if(q.code!==Gn.delete){if(q.target.value.length<=0&&!O()){const se=e.modelValue.slice(),ge=qe(se);if(ge<0)return;se.splice(ge,1),i.emit(Lt,se),it(se)}q.target.value.length===1&&e.modelValue.length===0&&(n.currentPlaceholder=n.cachedPlaceHolder)}},ct=(q,se)=>{const ge=n.selected.indexOf(se);if(ge>-1&&!T.value){const xe=e.modelValue.slice();xe.splice(ge,1),i.emit(Lt,xe),it(xe),i.emit("remove-tag",se.value)}q.stopPropagation(),Y()},Ge=q=>{q.stopPropagation();const se=e.multiple?[]:"";if(!nn(se))for(const ge of n.selected)ge.isDisabled&&se.push(ge.value);i.emit(Lt,se),it(se),n.hoverIndex=-1,n.visible=!1,i.emit("clear"),Y()},Ne=q=>{var se;if(e.multiple){const ge=(e.modelValue||[]).slice(),xe=We(ge,q.value);xe>-1?ge.splice(xe,1):(e.multipleLimit<=0||ge.length<e.multipleLimit)&&ge.push(q.value),i.emit(Lt,ge),it(ge),q.created&&(n.query="",ue(""),n.inputLength=20),e.filterable&&((se=u.value)==null||se.focus())}else i.emit(Lt,q.value),it(q.value),n.visible=!1;St(),!n.visible&&Ye(()=>{mt(q)})},We=(q=[],se)=>{if(!rn(se))return q.indexOf(se);const ge=e.valueKey;let xe=-1;return q.some((et,st)=>Qn(Vt(et,ge))===Vt(se,ge)?(xe=st,!0):!1),xe},St=()=>{const q=u.value||a.value;q&&(q==null||q.focus())},mt=q=>{var se,ge,xe,et,st;const Ot=Array.isArray(q)?q[0]:q;let At=null;if(Ot!=null&&Ot.value){const Bt=ne.value.filter(Ht=>Ht.value===Ot.value);Bt.length>0&&(At=Bt[0].$el)}if(d.value&&At){const Bt=(et=(xe=(ge=(se=d.value)==null?void 0:se.popperRef)==null?void 0:ge.contentRef)==null?void 0:xe.querySelector)==null?void 0:et.call(xe,`.${l.be("dropdown","wrap")}`);Bt&&Ed(Bt,At)}(st=x.value)==null||st.handleScroll()},R=q=>{n.optionsCount++,n.filteredOptionsCount++,n.options.set(q.value,q),n.cachedOptions.set(q.value,q),q.disabled&&n.disabledOptions.set(q.value,q)},g=(q,se)=>{n.options.get(q)===se&&(n.optionsCount--,n.filteredOptionsCount--,n.options.delete(q))},_=q=>{q.code!==Gn.backspace&&O(!1),n.inputLength=u.value.value.length*15+20,X()},O=q=>{if(!Array.isArray(n.selected))return;const se=qe(n.selected.map(xe=>xe.value)),ge=n.selected[se];if(ge)return q===!0||q===!1?(ge.hitState=q,q):(ge.hitState=!ge.hitState,ge.hitState)},j=q=>{const se=q.target.value;if(q.type==="compositionend")n.isOnComposition=!1,Ye(()=>ue(se));else{const ge=se[se.length-1]||"";n.isOnComposition=!Es(ge)}},F=()=>{Ye(()=>mt(n.selected))},$=q=>{n.focused||((e.automaticDropdown||e.filterable)&&(e.filterable&&!n.visible&&(n.menuVisibleOnFocus=!0),n.visible=!0),n.focused=!0,i.emit("focus",q))},Y=()=>{var q,se;n.visible?(q=u.value||a.value)==null||q.focus():(se=a.value)==null||se.focus()},H=()=>{var q,se,ge;n.visible=!1,(q=a.value)==null||q.blur(),(ge=(se=c.value)==null?void 0:se.blur)==null||ge.call(se)},re=q=>{var se,ge,xe;(se=d.value)!=null&&se.isFocusInsideContent(q)||(ge=f.value)!=null&&ge.isFocusInsideContent(q)||(xe=b.value)!=null&&xe.contains(q.relatedTarget)||(n.visible&&_e(),n.focused=!1,i.emit("blur",q))},pe=q=>{Ge(q)},_e=()=>{n.visible=!1},be=q=>{n.visible&&(q.preventDefault(),q.stopPropagation(),n.visible=!1)},ze=q=>{q&&!n.mouseEnter||T.value||(n.menuVisibleOnFocus?n.menuVisibleOnFocus=!1:(!d.value||!d.value.isFocusInsideContent())&&(n.visible=!n.visible),Y())},je=()=>{n.visible?ne.value[n.hoverIndex]&&Ne(ne.value[n.hoverIndex]):ze()},Ve=q=>rn(q.value)?Vt(q.value,e.valueKey):q.value,nt=Q(()=>ne.value.filter(q=>q.visible).every(q=>q.disabled)),ot=Q(()=>e.multiple?n.selected.slice(0,e.maxCollapseTags):[]),dt=Q(()=>e.multiple?n.selected.slice(e.maxCollapseTags):[]),ht=q=>{if(!n.visible){n.visible=!0;return}if(!(n.options.size===0||n.filteredOptionsCount===0)&&!n.isOnComposition&&!nt.value){q==="next"?(n.hoverIndex++,n.hoverIndex===n.options.size&&(n.hoverIndex=0)):q==="prev"&&(n.hoverIndex--,n.hoverIndex<0&&(n.hoverIndex=n.options.size-1));const se=ne.value[n.hoverIndex];(se.disabled===!0||se.states.groupDisabled===!0||!se.visible)&&ht(q),Ye(()=>mt(P.value))}},at=()=>{n.mouseEnter=!0},Gt=()=>{n.mouseEnter=!1},ft=(q,se)=>{var ge,xe;ct(q,se),(xe=(ge=f.value)==null?void 0:ge.updatePopper)==null||xe.call(ge)},Je=Q(()=>({maxWidth:`${M(n.inputWidth)-32-(Z.value?22:0)}px`,width:"100%"}));return{optionList:E,optionsArray:ne,hoverOption:P,selectSize:ee,handleResize:Fe,debouncedOnInputChange:Ie,debouncedQueryChange:pt,deletePrevTag:gt,deleteTag:ct,deleteSelected:Ge,handleOptionSelect:Ne,scrollToOption:mt,readonly:w,resetInputHeight:X,showClose:B,iconComponent:I,iconReverse:U,showNewOption:ae,collapseTagSize:de,setSelected:Me,managePlaceholder:ke,selectDisabled:T,emptyText:oe,toggleLastOptionHitState:O,resetInputState:_,handleComposition:j,onOptionCreate:R,onOptionDestroy:g,handleMenuEnter:F,handleFocus:$,focus:Y,blur:H,handleBlur:re,handleClearClick:pe,handleClose:_e,handleKeydownEscape:be,toggleMenu:ze,selectOption:je,getValueKey:Ve,navigateOptions:ht,handleDeleteTooltipTag:ft,dropMenuVisible:V,queryChange:k,groupQueryChange:y,showTagList:ot,collapseTagList:dt,selectTagsStyle:Je,reference:a,input:u,iOSInput:c,tooltipRef:d,tagTooltipRef:f,tags:v,selectWrapper:b,scrollbar:x,handleMouseEnter:at,handleMouseLeave:Gt}};var Jg=Pe({name:"ElOptions",emits:["update-options"],setup(e,{slots:n,emit:i}){let o=[];function l(a,u){if(a.length!==u.length)return!1;for(const[c]of a.entries())if(a[c]!=u[c])return!1;return!0}return()=>{var a,u;const c=(a=n.default)==null?void 0:a.call(n),d=[];function f(v){Array.isArray(v)&&v.forEach(b=>{var x,P,k,y;const E=(x=(b==null?void 0:b.type)||{})==null?void 0:x.name;E==="ElOptionGroup"?f(!nn(b.children)&&!Array.isArray(b.children)&&_t((P=b.children)==null?void 0:P.default)?(k=b.children)==null?void 0:k.default():b.children):E==="ElOption"?d.push((y=b.props)==null?void 0:y.label):Array.isArray(b.children)&&f(b.children)})}return c.length&&f((u=c[0])==null?void 0:u.children),l(d,o)||(o=d,i("update-options",d)),c}}});const Ha="ElSelect",Xg=Pe({name:Ha,componentName:Ha,components:{ElInput:yi,ElSelectMenu:qg,ElOption:ko,ElOptions:Jg,ElTag:fg,ElScrollbar:Cf,ElTooltip:Op,ElIcon:Tt},directives:{ClickOutside:ag},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:zu},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Lo.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Tn,default:ls},fitInputWidth:Boolean,suffixIcon:{type:Tn,default:cs},tagType:{...ul.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:gi,default:"bottom-start"},ariaLabel:{type:String,default:void 0}},emits:[Lt,hi,"remove-tag","clear","visible-change","focus","blur"],setup(e,n){const i=Qe("select"),o=Qe("input"),{t:l}=sr(),a=Lr(),u=Wg(e),{optionList:c,optionsArray:d,hoverOption:f,selectSize:v,readonly:b,handleResize:x,collapseTagSize:P,debouncedOnInputChange:k,debouncedQueryChange:y,deletePrevTag:E,deleteTag:m,deleteSelected:S,handleOptionSelect:A,scrollToOption:w,setSelected:T,resetInputHeight:B,managePlaceholder:I,showClose:U,selectDisabled:Z,iconComponent:J,iconReverse:oe,showNewOption:ne,emptyText:K,toggleLastOptionHitState:ae,resetInputState:ee,handleComposition:de,onOptionCreate:V,onOptionDestroy:X,handleMenuEnter:ue,handleFocus:ke,focus:Le,blur:Me,handleBlur:He,handleClearClick:Ue,handleClose:Fe,handleKeydownEscape:Se,toggleMenu:we,selectOption:Ie,getValueKey:pt,navigateOptions:it,handleDeleteTooltipTag:qe,dropMenuVisible:gt,reference:ct,input:Ge,iOSInput:Ne,tooltipRef:We,tagTooltipRef:St,tags:mt,selectWrapper:R,scrollbar:g,queryChange:_,groupQueryChange:O,handleMouseEnter:j,handleMouseLeave:F,showTagList:$,collapseTagList:Y,selectTagsStyle:H}=Yg(e,u,n),{inputWidth:re,selected:pe,inputLength:_e,filteredOptionsCount:be,visible:ze,selectedLabel:je,hoverIndex:Ve,query:nt,inputHovering:ot,currentPlaceholder:dt,menuVisibleOnFocus:ht,isOnComposition:at,options:Gt,cachedOptions:ft,optionsCount:Je,prefixWidth:q}=fi(u),se=Q(()=>{const It=[i.b()],Xt=M(v);return Xt&&It.push(i.m(Xt)),e.disabled&&It.push(i.m("disabled")),It}),ge=Q(()=>[i.e("tags"),i.is("disabled",M(Z))]),xe=Q(()=>[i.b("tags-wrapper"),{"has-prefix":M(q)&&M(pe).length}]),et=Q(()=>[i.e("input"),i.is(M(v)),i.is("disabled",M(Z))]),st=Q(()=>[i.e("input"),i.is(M(v)),i.em("input","iOS")]),Ot=Q(()=>[i.is("empty",!e.allowCreate&&!!M(nt)&&M(be)===0)]),At=Q(()=>({maxWidth:`${M(re)>123&&M(pe).length>e.maxCollapseTags?M(re)-123:M(re)-75}px`})),Bt=Q(()=>({marginLeft:`${M(q)}px`,flexGrow:1,width:`${M(_e)/(M(re)-32)}%`,maxWidth:`${M(re)-42}px`}));Wt(bi,Bn({props:e,options:Gt,optionsArray:d,cachedOptions:ft,optionsCount:Je,filteredOptionsCount:be,hoverIndex:Ve,handleOptionSelect:A,onOptionCreate:V,onOptionDestroy:X,selectWrapper:R,selected:pe,setSelected:T,queryChange:_,groupQueryChange:O})),Mt(()=>{u.cachedPlaceHolder=dt.value=e.placeholder||(()=>l("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(dt.value=""),Sr(R,x),e.remote&&e.multiple&&B(),Ye(()=>{const It=ct.value&&ct.value.$el;if(It&&(re.value=It.getBoundingClientRect().width,n.slots.prefix)){const Xt=It.querySelector(`.${o.e("prefix")}`);q.value=Math.max(Xt.getBoundingClientRect().width+11,30)}}),T()}),e.multiple&&!Array.isArray(e.modelValue)&&n.emit(Lt,[]),!e.multiple&&Array.isArray(e.modelValue)&&n.emit(Lt,"");const Ht=Q(()=>{var It,Xt;return(Xt=(It=We.value)==null?void 0:It.popperRef)==null?void 0:Xt.contentRef});return{isIOS:ju,onOptionsRendered:It=>{c.value=It},prefixWidth:q,selectSize:v,readonly:b,handleResize:x,collapseTagSize:P,debouncedOnInputChange:k,debouncedQueryChange:y,deletePrevTag:E,deleteTag:m,handleDeleteTooltipTag:qe,deleteSelected:S,handleOptionSelect:A,scrollToOption:w,inputWidth:re,selected:pe,inputLength:_e,filteredOptionsCount:be,visible:ze,selectedLabel:je,hoverIndex:Ve,query:nt,inputHovering:ot,currentPlaceholder:dt,menuVisibleOnFocus:ht,isOnComposition:at,options:Gt,resetInputHeight:B,managePlaceholder:I,showClose:U,selectDisabled:Z,iconComponent:J,iconReverse:oe,showNewOption:ne,emptyText:K,toggleLastOptionHitState:ae,resetInputState:ee,handleComposition:de,handleMenuEnter:ue,handleFocus:ke,focus:Le,blur:Me,handleBlur:He,handleClearClick:Ue,handleClose:Fe,handleKeydownEscape:Se,toggleMenu:we,selectOption:Ie,getValueKey:pt,navigateOptions:it,dropMenuVisible:gt,reference:ct,input:Ge,iOSInput:Ne,tooltipRef:We,popperPaneRef:Ht,tags:mt,selectWrapper:R,scrollbar:g,wrapperKls:se,tagsKls:ge,tagWrapperKls:xe,inputKls:et,iOSInputKls:st,scrollbarKls:Ot,selectTagsStyle:H,nsSelect:i,tagTextStyle:At,inputStyle:Bt,handleMouseEnter:j,handleMouseLeave:F,showTagList:$,collapseTagList:Y,tagTooltipRef:St,contentId:a,hoverOption:f}}}),Zg=["disabled","autocomplete","aria-activedescendant","aria-controls","aria-expanded","aria-label"],Qg=["disabled"],em={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function tm(e,n,i,o,l,a){const u=Mn("el-tag"),c=Mn("el-tooltip"),d=Mn("el-icon"),f=Mn("el-input"),v=Mn("el-option"),b=Mn("el-options"),x=Mn("el-scrollbar"),P=Mn("el-select-menu"),k=oc("click-outside");return Et((le(),Ee("div",{ref:"selectWrapper",class:me(e.wrapperKls),onMouseenter:n[22]||(n[22]=(...y)=>e.handleMouseEnter&&e.handleMouseEnter(...y)),onMouseleave:n[23]||(n[23]=(...y)=>e.handleMouseLeave&&e.handleMouseLeave(...y)),onClick:n[24]||(n[24]=Pt((...y)=>e.toggleMenu&&e.toggleMenu(...y),["stop"]))},[ye(c,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:fe(()=>{var y,E;return[Re("div",{class:"select-trigger",onMouseenter:n[20]||(n[20]=m=>e.inputHovering=!0),onMouseleave:n[21]||(n[21]=m=>e.inputHovering=!1)},[e.multiple?(le(),Ee("div",{key:0,ref:"tags",tabindex:"-1",class:me(e.tagsKls),style:xt(e.selectTagsStyle),onClick:n[15]||(n[15]=(...m)=>e.focus&&e.focus(...m))},[e.collapseTags&&e.selected.length?(le(),Ce(_n,{key:0,onAfterLeave:e.resetInputHeight},{default:fe(()=>[Re("span",{class:me(e.tagWrapperKls)},[(le(!0),Ee(Rt,null,pr(e.showTagList,m=>(le(),Ce(u,{key:e.getValueKey(m),closable:!e.selectDisabled&&!m.isDisabled,size:e.collapseTagSize,hit:m.hitState,type:e.tagType,"disable-transitions":"",onClose:S=>e.deleteTag(S,m)},{default:fe(()=>[Re("span",{class:me(e.nsSelect.e("tags-text")),style:xt(e.tagTextStyle)},bt(m.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),e.selected.length>e.maxCollapseTags?(le(),Ce(u,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:fe(()=>[e.collapseTagsTooltip?(le(),Ce(c,{key:0,ref:"tagTooltipRef",disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:fe(()=>[Re("span",{class:me(e.nsSelect.e("tags-text"))},"+ "+bt(e.selected.length-e.maxCollapseTags),3)]),content:fe(()=>[Re("div",{class:me(e.nsSelect.e("collapse-tags"))},[(le(!0),Ee(Rt,null,pr(e.collapseTagList,m=>(le(),Ee("div",{key:e.getValueKey(m),class:me(e.nsSelect.e("collapse-tag"))},[ye(u,{class:"in-tooltip",closable:!e.selectDisabled&&!m.isDisabled,size:e.collapseTagSize,hit:m.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:S=>e.handleDeleteTooltipTag(S,m)},{default:fe(()=>[Re("span",{class:me(e.nsSelect.e("tags-text")),style:xt({maxWidth:e.inputWidth-75+"px"})},bt(m.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(le(),Ee("span",{key:1,class:me(e.nsSelect.e("tags-text"))},"+ "+bt(e.selected.length-e.maxCollapseTags),3))]),_:1},8,["size","type"])):Oe("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):Oe("v-if",!0),e.collapseTags?Oe("v-if",!0):(le(),Ce(_n,{key:1,onAfterLeave:e.resetInputHeight},{default:fe(()=>[Re("span",{class:me(e.tagWrapperKls),style:xt(e.prefixWidth&&e.selected.length?{marginLeft:`${e.prefixWidth}px`}:"")},[(le(!0),Ee(Rt,null,pr(e.selected,m=>(le(),Ce(u,{key:e.getValueKey(m),closable:!e.selectDisabled&&!m.isDisabled,size:e.collapseTagSize,hit:m.hitState,type:e.tagType,"disable-transitions":"",onClose:S=>e.deleteTag(S,m)},{default:fe(()=>[Re("span",{class:me(e.nsSelect.e("tags-text")),style:xt({maxWidth:e.inputWidth-75+"px"})},bt(m.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],6)]),_:1},8,["onAfterLeave"])),e.filterable&&!e.selectDisabled?Et((le(),Ee("input",{key:2,ref:"input","onUpdate:modelValue":n[0]||(n[0]=m=>e.query=m),type:"text",class:me(e.inputKls),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:xt(e.inputStyle),role:"combobox","aria-activedescendant":((y=e.hoverOption)==null?void 0:y.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:n[1]||(n[1]=(...m)=>e.handleFocus&&e.handleFocus(...m)),onBlur:n[2]||(n[2]=(...m)=>e.handleBlur&&e.handleBlur(...m)),onKeyup:n[3]||(n[3]=(...m)=>e.managePlaceholder&&e.managePlaceholder(...m)),onKeydown:[n[4]||(n[4]=(...m)=>e.resetInputState&&e.resetInputState(...m)),n[5]||(n[5]=Dt(Pt(m=>e.navigateOptions("next"),["prevent"]),["down"])),n[6]||(n[6]=Dt(Pt(m=>e.navigateOptions("prev"),["prevent"]),["up"])),n[7]||(n[7]=Dt((...m)=>e.handleKeydownEscape&&e.handleKeydownEscape(...m),["esc"])),n[8]||(n[8]=Dt(Pt((...m)=>e.selectOption&&e.selectOption(...m),["stop","prevent"]),["enter"])),n[9]||(n[9]=Dt((...m)=>e.deletePrevTag&&e.deletePrevTag(...m),["delete"])),n[10]||(n[10]=Dt(m=>e.visible=!1,["tab"]))],onCompositionstart:n[11]||(n[11]=(...m)=>e.handleComposition&&e.handleComposition(...m)),onCompositionupdate:n[12]||(n[12]=(...m)=>e.handleComposition&&e.handleComposition(...m)),onCompositionend:n[13]||(n[13]=(...m)=>e.handleComposition&&e.handleComposition(...m)),onInput:n[14]||(n[14]=(...m)=>e.debouncedQueryChange&&e.debouncedQueryChange(...m))},null,46,Zg)),[[ac,e.query]]):Oe("v-if",!0)],6)):Oe("v-if",!0),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(le(),Ee("input",{key:1,ref:"iOSInput",class:me(e.iOSInputKls),disabled:e.selectDisabled,type:"text"},null,10,Qg)):Oe("v-if",!0),ye(f,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":n[16]||(n[16]=m=>e.selectedLabel=m),type:"text",placeholder:typeof e.currentPlaceholder=="function"?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:me([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,role:"combobox","aria-activedescendant":((E=e.hoverOption)==null?void 0:E.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropMenuVisible,label:e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[n[17]||(n[17]=Dt(Pt(m=>e.navigateOptions("next"),["stop","prevent"]),["down"])),n[18]||(n[18]=Dt(Pt(m=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),Dt(Pt(e.selectOption,["stop","prevent"]),["enter"]),Dt(e.handleKeydownEscape,["esc"]),n[19]||(n[19]=Dt(m=>e.visible=!1,["tab"]))]},Wi({suffix:fe(()=>[e.iconComponent&&!e.showClose?(le(),Ce(d,{key:0,class:me([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:fe(()=>[(le(),Ce(Kt(e.iconComponent)))]),_:1},8,["class"])):Oe("v-if",!0),e.showClose&&e.clearIcon?(le(),Ce(d,{key:1,class:me([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:fe(()=>[(le(),Ce(Kt(e.clearIcon)))]),_:1},8,["class","onClick"])):Oe("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:fe(()=>[Re("div",em,[Ae(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","aria-activedescendant","aria-controls","aria-expanded","label","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]}),content:fe(()=>[ye(P,null,Wi({default:fe(()=>[Et(ye(x,{id:e.contentId,ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:me(e.scrollbarKls),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},{default:fe(()=>[e.showNewOption?(le(),Ce(v,{key:0,value:e.query,created:!0},null,8,["value"])):Oe("v-if",!0),ye(b,{onUpdateOptions:e.onOptionsRendered},{default:fe(()=>[Ae(e.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[fn,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(le(),Ee(Rt,{key:0},[e.$slots.empty?Ae(e.$slots,"empty",{key:0}):(le(),Ee("p",{key:1,class:me(e.nsSelect.be("dropdown","empty"))},bt(e.emptyText),3))],64)):Oe("v-if",!0)]),_:2},[e.$slots.header?{name:"header",fn:fe(()=>[Ae(e.$slots,"header")])}:void 0,e.$slots.footer?{name:"footer",fn:fe(()=>[Ae(e.$slots,"footer")])}:void 0]),1024)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[k,e.handleClose,e.popperPaneRef]])}var nm=tt(Xg,[["render",tm],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const rm=Pe({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const n=Qe("select"),i=he(!0),o=on(),l=he([]);Wt(fl,Bn({...fi(e)}));const a=kt(bi);Mt(()=>{l.value=u(o.subTree)});const u=d=>{const f=[];return Array.isArray(d.children)&&d.children.forEach(v=>{var b;v.type&&v.type.name==="ElOption"&&v.component&&v.component.proxy?f.push(v.component.proxy):(b=v.children)!=null&&b.length&&f.push(...u(v))}),f},{groupQueryChange:c}=Qn(a);return Be(c,()=>{i.value=l.value.some(d=>d.visible===!0)},{flush:"post"}),{visible:i,ns:n}}});function im(e,n,i,o,l,a){return Et((le(),Ee("ul",{class:me(e.ns.be("group","wrap"))},[Re("li",{class:me(e.ns.be("group","title"))},bt(e.label),3),Re("li",null,[Re("ul",{class:me(e.ns.b("group"))},[Ae(e.$slots,"default")],2)])],2)),[[fn,e.visible]])}var pl=tt(rm,[["render",im],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const om=hn(nm,{Option:ko,OptionGroup:pl}),am=oo(ko);oo(pl);function sm(e){let n;const i=he(!1),o=Bn({...e,originalPosition:"",originalOverflow:"",visible:!1});function l(x){o.text=x}function a(){const x=o.parent,P=b.ns;if(!x.vLoadingAddClassList){let k=x.getAttribute("loading-number");k=Number.parseInt(k)-1,k?x.setAttribute("loading-number",k.toString()):(yr(x,P.bm("parent","relative")),x.removeAttribute("loading-number")),yr(x,P.bm("parent","hidden"))}u(),v.unmount()}function u(){var x,P;(P=(x=b.$el)==null?void 0:x.parentNode)==null||P.removeChild(b.$el)}function c(){var x;e.beforeClose&&!e.beforeClose()||(i.value=!0,clearTimeout(n),n=window.setTimeout(d,400),o.visible=!1,(x=e.closed)==null||x.call(e))}function d(){if(!i.value)return;const x=o.parent;i.value=!1,x.vLoadingAddClassList=void 0,a()}const f=Pe({name:"ElLoading",setup(x,{expose:P}){const{ns:k,zIndex:y}=qs("loading");return P({ns:k,zIndex:y}),()=>{const E=o.spinner||o.svg,m=Wn("svg",{class:"circular",viewBox:o.svgViewBox?o.svgViewBox:"0 0 50 50",...E?{innerHTML:E}:{}},[Wn("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),S=o.text?Wn("p",{class:k.b("text")},[o.text]):void 0;return Wn(_n,{name:k.b("fade"),onAfterLeave:d},{default:fe(()=>[Et(ye("div",{style:{backgroundColor:o.background||""},class:[k.b("mask"),o.customClass,o.fullscreen?"is-fullscreen":""]},[Wn("div",{class:k.b("spinner")},[m,S])]),[[fn,o.visible]])])})}}}),v=sc(f),b=v.mount(document.createElement("div"));return{...fi(o),setText:l,removeElLoadingChild:u,close:c,handleAfterLeave:d,vm:b,get $el(){return b.$el}}}let Ur;const lm=function(e={}){if(!vt)return;const n=um(e);if(n.fullscreen&&Ur)return Ur;const i=sm({...n,closed:()=>{var l;(l=n.closed)==null||l.call(n),n.fullscreen&&(Ur=void 0)}});cm(n,n.parent,i),Ua(n,n.parent,i),n.parent.vLoadingAddClassList=()=>Ua(n,n.parent,i);let o=n.parent.getAttribute("loading-number");return o?o=`${Number.parseInt(o)+1}`:o="1",n.parent.setAttribute("loading-number",o),n.parent.appendChild(i.$el),Ye(()=>i.visible.value=n.visible),n.fullscreen&&(Ur=i),i},um=e=>{var n,i,o,l;let a;return nn(e.target)?a=(n=document.querySelector(e.target))!=null?n:document.body:a=e.target||document.body,{parent:a===document.body||e.body?document.body:a,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:a===document.body&&((i=e.fullscreen)!=null?i:!0),lock:(o=e.lock)!=null?o:!1,customClass:e.customClass||"",visible:(l=e.visible)!=null?l:!0,target:a}},cm=async(e,n,i)=>{const{nextZIndex:o}=i.vm.zIndex||i.vm._.exposed.zIndex,l={};if(e.fullscreen)i.originalPosition.value=qn(document.body,"position"),i.originalOverflow.value=qn(document.body,"overflow"),l.zIndex=o();else if(e.parent===document.body){i.originalPosition.value=qn(document.body,"position"),await Ye();for(const a of["top","left"]){const u=a==="top"?"scrollTop":"scrollLeft";l[a]=`${e.target.getBoundingClientRect()[a]+document.body[u]+document.documentElement[u]-Number.parseInt(qn(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])l[a]=`${e.target.getBoundingClientRect()[a]}px`}else i.originalPosition.value=qn(n,"position");for(const[a,u]of Object.entries(l))i.$el.style[a]=u},Ua=(e,n,i)=>{const o=i.vm.ns||i.vm._.exposed.ns;["absolute","fixed","sticky"].includes(i.originalPosition.value)?yr(n,o.bm("parent","relative")):Ki(n,o.bm("parent","relative")),e.fullscreen&&e.lock?Ki(n,o.bm("parent","hidden")):yr(n,o.bm("parent","hidden"))},Qi=Symbol("ElLoading"),Ka=(e,n)=>{var i,o,l,a;const u=n.instance,c=x=>rn(n.value)?n.value[x]:void 0,d=x=>{const P=nn(x)&&(u==null?void 0:u[x])||x;return P&&he(P)},f=x=>d(c(x)||e.getAttribute(`element-loading-${lc(x)}`)),v=(i=c("fullscreen"))!=null?i:n.modifiers.fullscreen,b={text:f("text"),svg:f("svg"),svgViewBox:f("svgViewBox"),spinner:f("spinner"),background:f("background"),customClass:f("customClass"),fullscreen:v,target:(o=c("target"))!=null?o:v?void 0:e,body:(l=c("body"))!=null?l:n.modifiers.body,lock:(a=c("lock"))!=null?a:n.modifiers.lock};e[Qi]={options:b,instance:lm(b)}},dm=(e,n)=>{for(const i of Object.keys(n))Cn(n[i])&&(n[i].value=e[i])},hm={mounted(e,n){n.value&&Ka(e,n)},updated(e,n){const i=e[Qi];n.oldValue!==n.value&&(n.value&&!n.oldValue?Ka(e,n):n.value&&n.oldValue?rn(n.value)&&dm(n.value,i.options):i==null||i.instance.close())},unmounted(e){var n;(n=e[Qi])==null||n.instance.close()}},gl=["success","info","warning","error"],zt=Cs({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:vt?document.body:void 0}),fm=ut({customClass:{type:String,default:zt.customClass},center:{type:Boolean,default:zt.center},dangerouslyUseHTMLString:{type:Boolean,default:zt.dangerouslyUseHTMLString},duration:{type:Number,default:zt.duration},icon:{type:Tn,default:zt.icon},id:{type:String,default:zt.id},message:{type:$e([String,Object,Function]),default:zt.message},onClose:{type:$e(Function),required:!1},showClose:{type:Boolean,default:zt.showClose},type:{type:String,values:gl,default:zt.type},offset:{type:Number,default:zt.offset},zIndex:{type:Number,default:zt.zIndex},grouping:{type:Boolean,default:zt.grouping},repeatNum:{type:Number,default:zt.repeatNum}}),pm={destroy:()=>!0},en=uc([]),gm=e=>{const n=en.findIndex(l=>l.id===e),i=en[n];let o;return n>0&&(o=en[n-1]),{current:i,prev:o}},mm=e=>{const{prev:n}=gm(e);return n?n.vm.exposed.bottom.value:0},vm=(e,n)=>en.findIndex(o=>o.id===e)>0?20:n,ym=["id"],_m=["innerHTML"],bm=Pe({name:"ElMessage"}),Lm=Pe({...bm,props:fm,emits:pm,setup(e,{expose:n}){const i=e,{Close:o}=Fu,{ns:l,zIndex:a}=qs("message"),{currentZIndex:u,nextZIndex:c}=a,d=he(),f=he(!1),v=he(0);let b;const x=Q(()=>i.type?i.type==="error"?"danger":i.type:"info"),P=Q(()=>{const I=i.type;return{[l.bm("icon",I)]:I&&ta[I]}}),k=Q(()=>i.icon||ta[i.type]||""),y=Q(()=>mm(i.id)),E=Q(()=>vm(i.id,i.offset)+y.value),m=Q(()=>v.value+E.value),S=Q(()=>({top:`${E.value}px`,zIndex:u.value}));function A(){i.duration!==0&&({stop:b}=qi(()=>{T()},i.duration))}function w(){b==null||b()}function T(){f.value=!1}function B({code:I}){I===Gn.esc&&T()}return Mt(()=>{A(),c(),f.value=!0}),Be(()=>i.repeatNum,()=>{w(),A()}),_r(document,"keydown",B),Sr(d,()=>{v.value=d.value.getBoundingClientRect().height}),n({visible:f,bottom:m,close:T}),(I,U)=>(le(),Ce(_n,{name:M(l).b("fade"),onBeforeLeave:I.onClose,onAfterLeave:U[0]||(U[0]=Z=>I.$emit("destroy")),persisted:""},{default:fe(()=>[Et(Re("div",{id:I.id,ref_key:"messageRef",ref:d,class:me([M(l).b(),{[M(l).m(I.type)]:I.type&&!I.icon},M(l).is("center",I.center),M(l).is("closable",I.showClose),I.customClass]),style:xt(M(S)),role:"alert",onMouseenter:w,onMouseleave:A},[I.repeatNum>1?(le(),Ce(M(Dp),{key:0,value:I.repeatNum,type:M(x),class:me(M(l).e("badge"))},null,8,["value","type","class"])):Oe("v-if",!0),M(k)?(le(),Ce(M(Tt),{key:1,class:me([M(l).e("icon"),M(P)])},{default:fe(()=>[(le(),Ce(Kt(M(k))))]),_:1},8,["class"])):Oe("v-if",!0),Ae(I.$slots,"default",{},()=>[I.dangerouslyUseHTMLString?(le(),Ee(Rt,{key:1},[Oe(" Caution here, message could've been compromised, never use user's input as message "),Re("p",{class:me(M(l).e("content")),innerHTML:I.message},null,10,_m)],2112)):(le(),Ee("p",{key:0,class:me(M(l).e("content"))},bt(I.message),3))]),I.showClose?(le(),Ce(M(Tt),{key:2,class:me(M(l).e("closeBtn")),onClick:Pt(T,["stop"])},{default:fe(()=>[ye(M(o))]),_:1},8,["class","onClick"])):Oe("v-if",!0)],46,ym),[[fn,f.value]])]),_:3},8,["name","onBeforeLeave"]))}});var km=tt(Lm,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let Mm=1;const ml=e=>{const n=!e||nn(e)||_s(e)||_t(e)?{message:e}:e,i={...zt,...n};if(!i.appendTo)i.appendTo=document.body;else if(nn(i.appendTo)){let o=document.querySelector(i.appendTo);Zn(o)||(o=document.body),i.appendTo=o}return i},wm=e=>{const n=en.indexOf(e);if(n===-1)return;en.splice(n,1);const{handler:i}=e;i.close()},xm=({appendTo:e,...n},i)=>{const o=`message_${Mm++}`,l=n.onClose,a=document.createElement("div"),u={...n,id:o,onClose:()=>{l==null||l(),wm(v)},onDestroy:()=>{ia(null,a)}},c=ye(km,u,_t(u.message)||_s(u.message)?{default:_t(u.message)?u.message:()=>u.message}:null);c.appContext=i||or._context,ia(c,a),e.appendChild(a.firstElementChild);const d=c.component,v={id:o,vnode:c,vm:d,handler:{close:()=>{d.exposed.visible.value=!1}},props:c.component.props};return v},or=(e={},n)=>{if(!vt)return{close:()=>{}};if(Ze(Ea.max)&&en.length>=Ea.max)return{close:()=>{}};const i=ml(e);if(i.grouping&&en.length){const l=en.find(({vnode:a})=>{var u;return((u=a.props)==null?void 0:u.message)===i.message});if(l)return l.props.repeatNum+=1,l.props.type=i.type,l.handler}const o=xm(i,n);return en.push(o),o.handler};gl.forEach(e=>{or[e]=(n={},i)=>{const o=ml(n);return or({...o,type:e},i)}});function Em(e){for(const n of en)(!e||e===n.props.type)&&n.handler.close()}or.closeAll=Em;or._context=null;const On=Gu(or,"$message");function vl(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(n=>{const i=e[n],o=typeof i;(o==="object"||o==="function")&&!Object.isFrozen(i)&&vl(i)}),e}class qa{constructor(n){n.data===void 0&&(n.data={}),this.data=n.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function yl(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Pn(e,...n){const i=Object.create(null);for(const o in e)i[o]=e[o];return n.forEach(function(o){for(const l in o)i[l]=o[l]}),i}const Cm="</span>",Wa=e=>!!e.scope,Sm=(e,{prefix:n})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const i=e.split(".");return[`${n}${i.shift()}`,...i.map((o,l)=>`${o}${"_".repeat(l+1)}`)].join(" ")}return`${n}${e}`};class Om{constructor(n,i){this.buffer="",this.classPrefix=i.classPrefix,n.walk(this)}addText(n){this.buffer+=yl(n)}openNode(n){if(!Wa(n))return;const i=Sm(n.scope,{prefix:this.classPrefix});this.span(i)}closeNode(n){Wa(n)&&(this.buffer+=Cm)}value(){return this.buffer}span(n){this.buffer+=`<span class="${n}">`}}const Ya=(e={})=>{const n={children:[]};return Object.assign(n,e),n};class Mo{constructor(){this.rootNode=Ya(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(n){this.top.children.push(n)}openNode(n){const i=Ya({scope:n});this.add(i),this.stack.push(i)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(n){return this.constructor._walk(n,this.rootNode)}static _walk(n,i){return typeof i=="string"?n.addText(i):i.children&&(n.openNode(i),i.children.forEach(o=>this._walk(n,o)),n.closeNode(i)),n}static _collapse(n){typeof n!="string"&&n.children&&(n.children.every(i=>typeof i=="string")?n.children=[n.children.join("")]:n.children.forEach(i=>{Mo._collapse(i)}))}}class Pm extends Mo{constructor(n){super(),this.options=n}addText(n){n!==""&&this.add(n)}startScope(n){this.openNode(n)}endScope(){this.closeNode()}__addSublanguage(n,i){const o=n.root;i&&(o.scope=`language:${i}`),this.add(o)}toHTML(){return new Om(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function wr(e){return e?typeof e=="string"?e:e.source:null}function _l(e){return $n("(?=",e,")")}function Tm(e){return $n("(?:",e,")*")}function Rm(e){return $n("(?:",e,")?")}function $n(...e){return e.map(i=>wr(i)).join("")}function Bm(e){const n=e[e.length-1];return typeof n=="object"&&n.constructor===Object?(e.splice(e.length-1,1),n):{}}function wo(...e){return"("+(Bm(e).capture?"":"?:")+e.map(o=>wr(o)).join("|")+")"}function bl(e){return new RegExp(e.toString()+"|").exec("").length-1}function Im(e,n){const i=e&&e.exec(n);return i&&i.index===0}const Dm=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function xo(e,{joinWith:n}){let i=0;return e.map(o=>{i+=1;const l=i;let a=wr(o),u="";for(;a.length>0;){const c=Dm.exec(a);if(!c){u+=a;break}u+=a.substring(0,c.index),a=a.substring(c.index+c[0].length),c[0][0]==="\\"&&c[1]?u+="\\"+String(Number(c[1])+l):(u+=c[0],c[0]==="("&&i++)}return u}).map(o=>`(${o})`).join(n)}const Am=/\b\B/,Ll="[a-zA-Z]\\w*",Eo="[a-zA-Z_]\\w*",kl="\\b\\d+(\\.\\d+)?",Ml="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",wl="\\b(0b[01]+)",Nm="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",zm=(e={})=>{const n=/^#![ ]*\//;return e.binary&&(e.begin=$n(n,/.*\b/,e.binary,/\b.*/)),Pn({scope:"meta",begin:n,end:/$/,relevance:0,"on:begin":(i,o)=>{i.index!==0&&o.ignoreMatch()}},e)},xr={begin:"\\\\[\\s\\S]",relevance:0},jm={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[xr]},Fm={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[xr]},Gm={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Li=function(e,n,i={}){const o=Pn({scope:"comment",begin:e,end:n,contains:[]},i);o.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const l=wo("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return o.contains.push({begin:$n(/[ ]+/,"(",l,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),o},$m=Li("//","$"),Vm=Li("/\\*","\\*/"),Hm=Li("#","$"),Um={scope:"number",begin:kl,relevance:0},Km={scope:"number",begin:Ml,relevance:0},qm={scope:"number",begin:wl,relevance:0},Wm={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[xr,{begin:/\[/,end:/\]/,relevance:0,contains:[xr]}]},Ym={scope:"title",begin:Ll,relevance:0},Jm={scope:"title",begin:Eo,relevance:0},Xm={begin:"\\.\\s*"+Eo,relevance:0},Zm=function(e){return Object.assign(e,{"on:begin":(n,i)=>{i.data._beginMatch=n[1]},"on:end":(n,i)=>{i.data._beginMatch!==n[1]&&i.ignoreMatch()}})};var Kr=Object.freeze({__proto__:null,APOS_STRING_MODE:jm,BACKSLASH_ESCAPE:xr,BINARY_NUMBER_MODE:qm,BINARY_NUMBER_RE:wl,COMMENT:Li,C_BLOCK_COMMENT_MODE:Vm,C_LINE_COMMENT_MODE:$m,C_NUMBER_MODE:Km,C_NUMBER_RE:Ml,END_SAME_AS_BEGIN:Zm,HASH_COMMENT_MODE:Hm,IDENT_RE:Ll,MATCH_NOTHING_RE:Am,METHOD_GUARD:Xm,NUMBER_MODE:Um,NUMBER_RE:kl,PHRASAL_WORDS_MODE:Gm,QUOTE_STRING_MODE:Fm,REGEXP_MODE:Wm,RE_STARTERS_RE:Nm,SHEBANG:zm,TITLE_MODE:Ym,UNDERSCORE_IDENT_RE:Eo,UNDERSCORE_TITLE_MODE:Jm});function Qm(e,n){e.input[e.index-1]==="."&&n.ignoreMatch()}function ev(e,n){e.className!==void 0&&(e.scope=e.className,delete e.className)}function tv(e,n){n&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=Qm,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function nv(e,n){Array.isArray(e.illegal)&&(e.illegal=wo(...e.illegal))}function rv(e,n){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function iv(e,n){e.relevance===void 0&&(e.relevance=1)}const ov=(e,n)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const i=Object.assign({},e);Object.keys(e).forEach(o=>{delete e[o]}),e.keywords=i.keywords,e.begin=$n(i.beforeMatch,_l(i.begin)),e.starts={relevance:0,contains:[Object.assign(i,{endsParent:!0})]},e.relevance=0,delete i.beforeMatch},av=["of","and","for","in","not","or","if","then","parent","list","value"],sv="keyword";function xl(e,n,i=sv){const o=Object.create(null);return typeof e=="string"?l(i,e.split(" ")):Array.isArray(e)?l(i,e):Object.keys(e).forEach(function(a){Object.assign(o,xl(e[a],n,a))}),o;function l(a,u){n&&(u=u.map(c=>c.toLowerCase())),u.forEach(function(c){const d=c.split("|");o[d[0]]=[a,lv(d[0],d[1])]})}}function lv(e,n){return n?Number(n):uv(e)?0:1}function uv(e){return av.includes(e.toLowerCase())}const Ja={},Fn=e=>{console.error(e)},Xa=(e,...n)=>{console.log(`WARN: ${e}`,...n)},Kn=(e,n)=>{Ja[`${e}/${n}`]||(console.log(`Deprecated as of ${e}. ${n}`),Ja[`${e}/${n}`]=!0)},oi=new Error;function El(e,n,{key:i}){let o=0;const l=e[i],a={},u={};for(let c=1;c<=n.length;c++)u[c+o]=l[c],a[c+o]=!0,o+=bl(n[c-1]);e[i]=u,e[i]._emit=a,e[i]._multi=!0}function cv(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Fn("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),oi;if(typeof e.beginScope!="object"||e.beginScope===null)throw Fn("beginScope must be object"),oi;El(e,e.begin,{key:"beginScope"}),e.begin=xo(e.begin,{joinWith:""})}}function dv(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Fn("skip, excludeEnd, returnEnd not compatible with endScope: {}"),oi;if(typeof e.endScope!="object"||e.endScope===null)throw Fn("endScope must be object"),oi;El(e,e.end,{key:"endScope"}),e.end=xo(e.end,{joinWith:""})}}function hv(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function fv(e){hv(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),cv(e),dv(e)}function pv(e){function n(u,c){return new RegExp(wr(u),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(c?"g":""))}class i{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(c,d){d.position=this.position++,this.matchIndexes[this.matchAt]=d,this.regexes.push([d,c]),this.matchAt+=bl(c)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const c=this.regexes.map(d=>d[1]);this.matcherRe=n(xo(c,{joinWith:"|"}),!0),this.lastIndex=0}exec(c){this.matcherRe.lastIndex=this.lastIndex;const d=this.matcherRe.exec(c);if(!d)return null;const f=d.findIndex((b,x)=>x>0&&b!==void 0),v=this.matchIndexes[f];return d.splice(0,f),Object.assign(d,v)}}class o{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(c){if(this.multiRegexes[c])return this.multiRegexes[c];const d=new i;return this.rules.slice(c).forEach(([f,v])=>d.addRule(f,v)),d.compile(),this.multiRegexes[c]=d,d}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(c,d){this.rules.push([c,d]),d.type==="begin"&&this.count++}exec(c){const d=this.getMatcher(this.regexIndex);d.lastIndex=this.lastIndex;let f=d.exec(c);if(this.resumingScanAtSamePosition()&&!(f&&f.index===this.lastIndex)){const v=this.getMatcher(0);v.lastIndex=this.lastIndex+1,f=v.exec(c)}return f&&(this.regexIndex+=f.position+1,this.regexIndex===this.count&&this.considerAll()),f}}function l(u){const c=new o;return u.contains.forEach(d=>c.addRule(d.begin,{rule:d,type:"begin"})),u.terminatorEnd&&c.addRule(u.terminatorEnd,{type:"end"}),u.illegal&&c.addRule(u.illegal,{type:"illegal"}),c}function a(u,c){const d=u;if(u.isCompiled)return d;[ev,rv,fv,ov].forEach(v=>v(u,c)),e.compilerExtensions.forEach(v=>v(u,c)),u.__beforeBegin=null,[tv,nv,iv].forEach(v=>v(u,c)),u.isCompiled=!0;let f=null;return typeof u.keywords=="object"&&u.keywords.$pattern&&(u.keywords=Object.assign({},u.keywords),f=u.keywords.$pattern,delete u.keywords.$pattern),f=f||/\w+/,u.keywords&&(u.keywords=xl(u.keywords,e.case_insensitive)),d.keywordPatternRe=n(f,!0),c&&(u.begin||(u.begin=/\B|\b/),d.beginRe=n(d.begin),!u.end&&!u.endsWithParent&&(u.end=/\B|\b/),u.end&&(d.endRe=n(d.end)),d.terminatorEnd=wr(d.end)||"",u.endsWithParent&&c.terminatorEnd&&(d.terminatorEnd+=(u.end?"|":"")+c.terminatorEnd)),u.illegal&&(d.illegalRe=n(u.illegal)),u.contains||(u.contains=[]),u.contains=[].concat(...u.contains.map(function(v){return gv(v==="self"?u:v)})),u.contains.forEach(function(v){a(v,d)}),u.starts&&a(u.starts,c),d.matcher=l(d),d}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Pn(e.classNameAliases||{}),a(e)}function Cl(e){return e?e.endsWithParent||Cl(e.starts):!1}function gv(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(n){return Pn(e,{variants:null},n)})),e.cachedVariants?e.cachedVariants:Cl(e)?Pn(e,{starts:e.starts?Pn(e.starts):null}):Object.isFrozen(e)?Pn(e):e}var mv="11.9.0";class vv extends Error{constructor(n,i){super(n),this.name="HTMLInjectionError",this.html=i}}const Hi=yl,Za=Pn,Qa=Symbol("nomatch"),yv=7,Sl=function(e){const n=Object.create(null),i=Object.create(null),o=[];let l=!0;const a="Could not find the language '{}', did you forget to load/include a language module?",u={disableAutodetect:!0,name:"Plain text",contains:[]};let c={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Pm};function d(V){return c.noHighlightRe.test(V)}function f(V){let X=V.className+" ";X+=V.parentNode?V.parentNode.className:"";const ue=c.languageDetectRe.exec(X);if(ue){const ke=Z(ue[1]);return ke||(Xa(a.replace("{}",ue[1])),Xa("Falling back to no-highlight mode for this block.",V)),ke?ue[1]:"no-highlight"}return X.split(/\s+/).find(ke=>d(ke)||Z(ke))}function v(V,X,ue){let ke="",Le="";typeof X=="object"?(ke=V,ue=X.ignoreIllegals,Le=X.language):(Kn("10.7.0","highlight(lang, code, ...args) has been deprecated."),Kn("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Le=V,ke=X),ue===void 0&&(ue=!0);const Me={code:ke,language:Le};ee("before:highlight",Me);const He=Me.result?Me.result:b(Me.language,Me.code,ue);return He.code=Me.code,ee("after:highlight",He),He}function b(V,X,ue,ke){const Le=Object.create(null);function Me(H,re){return H.keywords[re]}function He(){if(!R.keywords){_.addText(O);return}let H=0;R.keywordPatternRe.lastIndex=0;let re=R.keywordPatternRe.exec(O),pe="";for(;re;){pe+=O.substring(H,re.index);const _e=We.case_insensitive?re[0].toLowerCase():re[0],be=Me(R,_e);if(be){const[ze,je]=be;if(_.addText(pe),pe="",Le[_e]=(Le[_e]||0)+1,Le[_e]<=yv&&(j+=je),ze.startsWith("_"))pe+=re[0];else{const Ve=We.classNameAliases[ze]||ze;Se(re[0],Ve)}}else pe+=re[0];H=R.keywordPatternRe.lastIndex,re=R.keywordPatternRe.exec(O)}pe+=O.substring(H),_.addText(pe)}function Ue(){if(O==="")return;let H=null;if(typeof R.subLanguage=="string"){if(!n[R.subLanguage]){_.addText(O);return}H=b(R.subLanguage,O,!0,g[R.subLanguage]),g[R.subLanguage]=H._top}else H=P(O,R.subLanguage.length?R.subLanguage:null);R.relevance>0&&(j+=H.relevance),_.__addSublanguage(H._emitter,H.language)}function Fe(){R.subLanguage!=null?Ue():He(),O=""}function Se(H,re){H!==""&&(_.startScope(re),_.addText(H),_.endScope())}function we(H,re){let pe=1;const _e=re.length-1;for(;pe<=_e;){if(!H._emit[pe]){pe++;continue}const be=We.classNameAliases[H[pe]]||H[pe],ze=re[pe];be?Se(ze,be):(O=ze,He(),O=""),pe++}}function Ie(H,re){return H.scope&&typeof H.scope=="string"&&_.openNode(We.classNameAliases[H.scope]||H.scope),H.beginScope&&(H.beginScope._wrap?(Se(O,We.classNameAliases[H.beginScope._wrap]||H.beginScope._wrap),O=""):H.beginScope._multi&&(we(H.beginScope,re),O="")),R=Object.create(H,{parent:{value:R}}),R}function pt(H,re,pe){let _e=Im(H.endRe,pe);if(_e){if(H["on:end"]){const be=new qa(H);H["on:end"](re,be),be.isMatchIgnored&&(_e=!1)}if(_e){for(;H.endsParent&&H.parent;)H=H.parent;return H}}if(H.endsWithParent)return pt(H.parent,re,pe)}function it(H){return R.matcher.regexIndex===0?(O+=H[0],1):(Y=!0,0)}function qe(H){const re=H[0],pe=H.rule,_e=new qa(pe),be=[pe.__beforeBegin,pe["on:begin"]];for(const ze of be)if(ze&&(ze(H,_e),_e.isMatchIgnored))return it(re);return pe.skip?O+=re:(pe.excludeBegin&&(O+=re),Fe(),!pe.returnBegin&&!pe.excludeBegin&&(O=re)),Ie(pe,H),pe.returnBegin?0:re.length}function gt(H){const re=H[0],pe=X.substring(H.index),_e=pt(R,H,pe);if(!_e)return Qa;const be=R;R.endScope&&R.endScope._wrap?(Fe(),Se(re,R.endScope._wrap)):R.endScope&&R.endScope._multi?(Fe(),we(R.endScope,H)):be.skip?O+=re:(be.returnEnd||be.excludeEnd||(O+=re),Fe(),be.excludeEnd&&(O=re));do R.scope&&_.closeNode(),!R.skip&&!R.subLanguage&&(j+=R.relevance),R=R.parent;while(R!==_e.parent);return _e.starts&&Ie(_e.starts,H),be.returnEnd?0:re.length}function ct(){const H=[];for(let re=R;re!==We;re=re.parent)re.scope&&H.unshift(re.scope);H.forEach(re=>_.openNode(re))}let Ge={};function Ne(H,re){const pe=re&&re[0];if(O+=H,pe==null)return Fe(),0;if(Ge.type==="begin"&&re.type==="end"&&Ge.index===re.index&&pe===""){if(O+=X.slice(re.index,re.index+1),!l){const _e=new Error(`0 width match regex (${V})`);throw _e.languageName=V,_e.badRule=Ge.rule,_e}return 1}if(Ge=re,re.type==="begin")return qe(re);if(re.type==="illegal"&&!ue){const _e=new Error('Illegal lexeme "'+pe+'" for mode "'+(R.scope||"<unnamed>")+'"');throw _e.mode=R,_e}else if(re.type==="end"){const _e=gt(re);if(_e!==Qa)return _e}if(re.type==="illegal"&&pe==="")return 1;if($>1e5&&$>re.index*3)throw new Error("potential infinite loop, way more iterations than matches");return O+=pe,pe.length}const We=Z(V);if(!We)throw Fn(a.replace("{}",V)),new Error('Unknown language: "'+V+'"');const St=pv(We);let mt="",R=ke||St;const g={},_=new c.__emitter(c);ct();let O="",j=0,F=0,$=0,Y=!1;try{if(We.__emitTokens)We.__emitTokens(X,_);else{for(R.matcher.considerAll();;){$++,Y?Y=!1:R.matcher.considerAll(),R.matcher.lastIndex=F;const H=R.matcher.exec(X);if(!H)break;const re=X.substring(F,H.index),pe=Ne(re,H);F=H.index+pe}Ne(X.substring(F))}return _.finalize(),mt=_.toHTML(),{language:V,value:mt,relevance:j,illegal:!1,_emitter:_,_top:R}}catch(H){if(H.message&&H.message.includes("Illegal"))return{language:V,value:Hi(X),illegal:!0,relevance:0,_illegalBy:{message:H.message,index:F,context:X.slice(F-100,F+100),mode:H.mode,resultSoFar:mt},_emitter:_};if(l)return{language:V,value:Hi(X),illegal:!1,relevance:0,errorRaised:H,_emitter:_,_top:R};throw H}}function x(V){const X={value:Hi(V),illegal:!1,relevance:0,_top:u,_emitter:new c.__emitter(c)};return X._emitter.addText(V),X}function P(V,X){X=X||c.languages||Object.keys(n);const ue=x(V),ke=X.filter(Z).filter(oe).map(Fe=>b(Fe,V,!1));ke.unshift(ue);const Le=ke.sort((Fe,Se)=>{if(Fe.relevance!==Se.relevance)return Se.relevance-Fe.relevance;if(Fe.language&&Se.language){if(Z(Fe.language).supersetOf===Se.language)return 1;if(Z(Se.language).supersetOf===Fe.language)return-1}return 0}),[Me,He]=Le,Ue=Me;return Ue.secondBest=He,Ue}function k(V,X,ue){const ke=X&&i[X]||ue;V.classList.add("hljs"),V.classList.add(`language-${ke}`)}function y(V){let X=null;const ue=f(V);if(d(ue))return;if(ee("before:highlightElement",{el:V,language:ue}),V.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",V);return}if(V.children.length>0&&(c.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(V)),c.throwUnescapedHTML))throw new vv("One of your code blocks includes unescaped HTML.",V.innerHTML);X=V;const ke=X.textContent,Le=ue?v(ke,{language:ue,ignoreIllegals:!0}):P(ke);V.innerHTML=Le.value,V.dataset.highlighted="yes",k(V,ue,Le.language),V.result={language:Le.language,re:Le.relevance,relevance:Le.relevance},Le.secondBest&&(V.secondBest={language:Le.secondBest.language,relevance:Le.secondBest.relevance}),ee("after:highlightElement",{el:V,result:Le,text:ke})}function E(V){c=Za(c,V)}const m=()=>{w(),Kn("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function S(){w(),Kn("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let A=!1;function w(){if(document.readyState==="loading"){A=!0;return}document.querySelectorAll(c.cssSelector).forEach(y)}function T(){A&&w()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",T,!1);function B(V,X){let ue=null;try{ue=X(e)}catch(ke){if(Fn("Language definition for '{}' could not be registered.".replace("{}",V)),l)Fn(ke);else throw ke;ue=u}ue.name||(ue.name=V),n[V]=ue,ue.rawDefinition=X.bind(null,e),ue.aliases&&J(ue.aliases,{languageName:V})}function I(V){delete n[V];for(const X of Object.keys(i))i[X]===V&&delete i[X]}function U(){return Object.keys(n)}function Z(V){return V=(V||"").toLowerCase(),n[V]||n[i[V]]}function J(V,{languageName:X}){typeof V=="string"&&(V=[V]),V.forEach(ue=>{i[ue.toLowerCase()]=X})}function oe(V){const X=Z(V);return X&&!X.disableAutodetect}function ne(V){V["before:highlightBlock"]&&!V["before:highlightElement"]&&(V["before:highlightElement"]=X=>{V["before:highlightBlock"](Object.assign({block:X.el},X))}),V["after:highlightBlock"]&&!V["after:highlightElement"]&&(V["after:highlightElement"]=X=>{V["after:highlightBlock"](Object.assign({block:X.el},X))})}function K(V){ne(V),o.push(V)}function ae(V){const X=o.indexOf(V);X!==-1&&o.splice(X,1)}function ee(V,X){const ue=V;o.forEach(function(ke){ke[ue]&&ke[ue](X)})}function de(V){return Kn("10.7.0","highlightBlock will be removed entirely in v12.0"),Kn("10.7.0","Please use highlightElement now."),y(V)}Object.assign(e,{highlight:v,highlightAuto:P,highlightAll:w,highlightElement:y,highlightBlock:de,configure:E,initHighlighting:m,initHighlightingOnLoad:S,registerLanguage:B,unregisterLanguage:I,listLanguages:U,getLanguage:Z,registerAliases:J,autoDetection:oe,inherit:Za,addPlugin:K,removePlugin:ae}),e.debugMode=function(){l=!1},e.safeMode=function(){l=!0},e.versionString=mv,e.regex={concat:$n,lookahead:_l,either:wo,optional:Rm,anyNumberOfTimes:Tm};for(const V in Kr)typeof Kr[V]=="object"&&vl(Kr[V]);return Object.assign(e,Kr),e},ar=Sl({});ar.newInstance=()=>Sl({});var _v=ar;ar.HighlightJS=ar;ar.default=ar;const es=$u(_v);function bv(e){const n={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},i={match:/[{}[\],:]/,className:"punctuation",relevance:0},o=["true","false","null"],l={scope:"literal",beginKeywords:o.join(" ")};return{name:"JSON",keywords:{literal:o},contains:[n,i,e.QUOTE_STRING_MODE,l,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function Ol(e){return cc()?(ps(e),!0):!1}function ki(e){return typeof e=="function"?e():M(e)}const Co=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Lv=Object.prototype.toString,kv=e=>Lv.call(e)==="[object Object]",Mv=()=>{};function wv(e){let n;function i(){return n||(n=e()),n}return i.reset=async()=>{const o=n;n=void 0,o&&await o},i}function xv(e,n,i={}){const{immediate:o=!0}=i,l=he(!1);let a=null;function u(){a&&(clearTimeout(a),a=null)}function c(){l.value=!1,u()}function d(...f){u(),l.value=!0,a=setTimeout(()=>{l.value=!1,a=null,e(...f)},ki(n))}return o&&(l.value=!0,Co&&d()),Ol(c),{isPending:ys(l),start:d,stop:c}}function Ev(e){var n;const i=ki(e);return(n=i==null?void 0:i.$el)!=null?n:i}const Cv=Co?window:void 0,Pl=Co?window.navigator:void 0;function Tl(...e){let n,i,o,l;if(typeof e[0]=="string"||Array.isArray(e[0])?([i,o,l]=e,n=Cv):[n,i,o,l]=e,!n)return Mv;Array.isArray(i)||(i=[i]),Array.isArray(o)||(o=[o]);const a=[],u=()=>{a.forEach(v=>v()),a.length=0},c=(v,b,x,P)=>(v.addEventListener(b,x,P),()=>v.removeEventListener(b,x,P)),d=Be(()=>[Ev(n),ki(l)],([v,b])=>{if(u(),!v)return;const x=kv(b)?{...b}:b;a.push(...i.flatMap(P=>o.map(k=>c(v,P,k,x))))},{immediate:!0,flush:"post"}),f=()=>{d(),u()};return Ol(f),f}function Sv(){const e=he(!1);return on()&&Mt(()=>{e.value=!0}),e}function Rl(e){const n=Sv();return Q(()=>(n.value,!!e()))}function ts(e,n={}){const{controls:i=!1,navigator:o=Pl}=n,l=Rl(()=>o&&"permissions"in o);let a;const u=typeof e=="string"?{name:e}:e,c=he(),d=()=>{a&&(c.value=a.state)},f=wv(async()=>{if(l.value){if(!a)try{a=await o.permissions.query(u),Tl(a,"change",d),d()}catch{c.value="prompt"}return a}});return f(),i?{state:c,isSupported:l,query:f}:c}function Ov(e={}){const{navigator:n=Pl,read:i=!1,source:o,copiedDuring:l=1500,legacy:a=!1}=e,u=Rl(()=>n&&"clipboard"in n),c=ts("clipboard-read"),d=ts("clipboard-write"),f=Q(()=>u.value||a),v=he(""),b=he(!1),x=xv(()=>b.value=!1,l);function P(){u.value&&c.value!=="denied"?n.clipboard.readText().then(m=>{v.value=m}):v.value=E()}f.value&&i&&Tl(["copy","cut"],P);async function k(m=ki(o)){f.value&&m!=null&&(u.value&&d.value!=="denied"?await n.clipboard.writeText(m):y(m),v.value=m,b.value=!0,x.start())}function y(m){const S=document.createElement("textarea");S.value=m??"",S.style.position="absolute",S.style.opacity="0",document.body.appendChild(S),S.select(),document.execCommand("copy"),S.remove()}function E(){var m,S,A;return(A=(S=(m=document==null?void 0:document.getSelection)==null?void 0:m.call(document))==null?void 0:S.toString())!=null?A:""}return{isSupported:f,text:v,copied:b,copy:k}}const Pv={"aria-hidden":"true",class:"icon-class"},Tv=["href"],Rv=Pe({__name:"index",props:{prefix:{type:String,default:"icon"},name:{required:!0},color:{type:String,default:"#ffffff"}},setup(e){const n=e,i=Q(()=>`#${n.prefix}-${n.name}`);return(o,l)=>(le(),Ee("svg",Pv,[Re("use",{href:i.value},null,8,Tv)]))}}),Bv=bs(Rv,[["__scopeId","data-v-cc209b6d"]]),Iv={class:"floor-panel"},Dv={class:"floor"},Av=["onClick"],Nv={flex:"~ col",class:"absolute -bottom-150px right-0 left-0 ma w-30px h-60px bg-#fafafa rounded-4px items-center justify-center cursor-pointer shadow-up"},zv=Pe({__name:"FloorPanel",setup(e){const n=mn(),{currentFloor:i}=Ls(n),o=Q(()=>n.map),l=Q(()=>{var x,P;return((x=o.value)==null?void 0:x.getZoom())===((P=o.value)==null?void 0:P.getMaxZoom())}),a=Q(()=>{var x,P;return((x=o.value)==null?void 0:x.getZoom())===((P=o.value)==null?void 0:P.getMinZoom())}),u=he([...Ar].reverse());function c(x){i.value=x}function d(x){const k=i.value-x;i.value=k,k===-1?i.value=Ar.length-1:k===u.value.length&&(i.value=0)}function f(){n.center?o.value.setView(n.center,o.value.getZoom()+1):o.value.zoomIn()}function v(){n.center?o.value.setView(n.center,o.value.getZoom()-1):o.value.zoomOut()}function b(){o.value.setZoom(1),o.value.setView([1074,498])}return(x,P)=>{const k=Bv,y=Tt;return le(),Ee("div",Iv,[Re("div",Dv,[Re("button",{class:"item",onClick:P[0]||(P[0]=E=>d(-1))},[ye(k,{name:"up",text:"18px"})]),(le(!0),Ee(Rt,null,pr(M(u),(E,m)=>(le(),Ee("button",{key:E,class:me(["item",{active:M(Ar).length-1-m==M(i)}]),onClick:S=>c(M(Ar).length-1-m)},bt(E),11,Av))),128)),Re("button",{class:"item",onClick:P[1]||(P[1]=E=>d(1))},[ye(k,{name:"up",class:"rotate-180",text:"18px"})])]),Re("div",{class:"absolute -bottom-70px left-0 right-0 grid place-items-center ma bg-#fafafa w-30px h-30px rounded-4px cursor-pointer",text:"22px #999",hover:"opacity-70",onClick:b},[ye(k,{name:"locate-center"})]),Re("div",Nv,[ye(y,{class:me([{"opacity-70 cursor-default":M(l)},"border-b-1px border-#b3b3b3 border-b-dashed grow"]),onClick:f},{default:fe(()=>[ye(M(hs))]),_:1},8,["class"]),ye(y,{class:me([{"opacity-70 cursor-default":M(a)},"grow"]),onClick:v},{default:fe(()=>[ye(M(ds))]),_:1},8,["class"])])])}}}),jv=bs(zv,[["__scopeId","data-v-9bc14bc3"]]);var ns={};(()=>{var e={9705:(o,l,a)=>{var u=a(1540);function c(d){var f=[1/0,1/0,-1/0,-1/0];return u.coordEach(d,function(v){f[0]>v[0]&&(f[0]=v[0]),f[1]>v[1]&&(f[1]=v[1]),f[2]<v[0]&&(f[2]=v[0]),f[3]<v[1]&&(f[3]=v[1])}),f}c.default=c,l.Z=c},4102:(o,l)=>{function a(m,S,A){A===void 0&&(A={});var w={type:"Feature"};return(A.id===0||A.id)&&(w.id=A.id),A.bbox&&(w.bbox=A.bbox),w.properties=S||{},w.geometry=m,w}function u(m,S,A){if(A===void 0&&(A={}),!m)throw new Error("coordinates is required");if(!Array.isArray(m))throw new Error("coordinates must be an Array");if(m.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!E(m[0])||!E(m[1]))throw new Error("coordinates must contain numbers");return a({type:"Point",coordinates:m},S,A)}function c(m,S,A){A===void 0&&(A={});for(var w=0,T=m;w<T.length;w++){var B=T[w];if(B.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var I=0;I<B[B.length-1].length;I++)if(B[B.length-1][I]!==B[0][I])throw new Error("First and last Position are not equivalent.")}return a({type:"Polygon",coordinates:m},S,A)}function d(m,S,A){if(A===void 0&&(A={}),m.length<2)throw new Error("coordinates must be an array of two or more positions");return a({type:"LineString",coordinates:m},S,A)}function f(m,S){S===void 0&&(S={});var A={type:"FeatureCollection"};return S.id&&(A.id=S.id),S.bbox&&(A.bbox=S.bbox),A.features=m,A}function v(m,S,A){return A===void 0&&(A={}),a({type:"MultiLineString",coordinates:m},S,A)}function b(m,S,A){return A===void 0&&(A={}),a({type:"MultiPoint",coordinates:m},S,A)}function x(m,S,A){return A===void 0&&(A={}),a({type:"MultiPolygon",coordinates:m},S,A)}function P(m,S){S===void 0&&(S="kilometers");var A=l.factors[S];if(!A)throw new Error(S+" units is invalid");return m*A}function k(m,S){S===void 0&&(S="kilometers");var A=l.factors[S];if(!A)throw new Error(S+" units is invalid");return m/A}function y(m){return 180*(m%(2*Math.PI))/Math.PI}function E(m){return!isNaN(m)&&m!==null&&!Array.isArray(m)}Object.defineProperty(l,"__esModule",{value:!0}),l.earthRadius=63710088e-1,l.factors={centimeters:100*l.earthRadius,centimetres:100*l.earthRadius,degrees:l.earthRadius/111325,feet:3.28084*l.earthRadius,inches:39.37*l.earthRadius,kilometers:l.earthRadius/1e3,kilometres:l.earthRadius/1e3,meters:l.earthRadius,metres:l.earthRadius,miles:l.earthRadius/1609.344,millimeters:1e3*l.earthRadius,millimetres:1e3*l.earthRadius,nauticalmiles:l.earthRadius/1852,radians:1,yards:1.0936*l.earthRadius},l.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/l.earthRadius,yards:1.0936133},l.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},l.feature=a,l.geometry=function(m,S,A){switch(m){case"Point":return u(S).geometry;case"LineString":return d(S).geometry;case"Polygon":return c(S).geometry;case"MultiPoint":return b(S).geometry;case"MultiLineString":return v(S).geometry;case"MultiPolygon":return x(S).geometry;default:throw new Error(m+" is invalid")}},l.point=u,l.points=function(m,S,A){return A===void 0&&(A={}),f(m.map(function(w){return u(w,S)}),A)},l.polygon=c,l.polygons=function(m,S,A){return A===void 0&&(A={}),f(m.map(function(w){return c(w,S)}),A)},l.lineString=d,l.lineStrings=function(m,S,A){return A===void 0&&(A={}),f(m.map(function(w){return d(w,S)}),A)},l.featureCollection=f,l.multiLineString=v,l.multiPoint=b,l.multiPolygon=x,l.geometryCollection=function(m,S,A){return A===void 0&&(A={}),a({type:"GeometryCollection",geometries:m},S,A)},l.round=function(m,S){if(S===void 0&&(S=0),S&&!(S>=0))throw new Error("precision must be a positive number");var A=Math.pow(10,S||0);return Math.round(m*A)/A},l.radiansToLength=P,l.lengthToRadians=k,l.lengthToDegrees=function(m,S){return y(k(m,S))},l.bearingToAzimuth=function(m){var S=m%360;return S<0&&(S+=360),S},l.radiansToDegrees=y,l.degreesToRadians=function(m){return m%360*Math.PI/180},l.convertLength=function(m,S,A){if(S===void 0&&(S="kilometers"),A===void 0&&(A="kilometers"),!(m>=0))throw new Error("length must be a positive number");return P(k(m,S),A)},l.convertArea=function(m,S,A){if(S===void 0&&(S="meters"),A===void 0&&(A="kilometers"),!(m>=0))throw new Error("area must be a positive number");var w=l.areaFactors[S];if(!w)throw new Error("invalid original units");var T=l.areaFactors[A];if(!T)throw new Error("invalid final units");return m/w*T},l.isNumber=E,l.isObject=function(m){return!!m&&m.constructor===Object},l.validateBBox=function(m){if(!m)throw new Error("bbox is required");if(!Array.isArray(m))throw new Error("bbox must be an Array");if(m.length!==4&&m.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");m.forEach(function(S){if(!E(S))throw new Error("bbox must only contain numbers")})},l.validateId=function(m){if(!m)throw new Error("id is required");if(["string","number"].indexOf(typeof m)===-1)throw new Error("id must be a number or a string")}},1540:(o,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0});var u=a(4102);function c(k,y,E){if(k!==null)for(var m,S,A,w,T,B,I,U,Z=0,J=0,oe=k.type,ne=oe==="FeatureCollection",K=oe==="Feature",ae=ne?k.features.length:1,ee=0;ee<ae;ee++){T=(U=!!(I=ne?k.features[ee].geometry:K?k.geometry:k)&&I.type==="GeometryCollection")?I.geometries.length:1;for(var de=0;de<T;de++){var V=0,X=0;if((w=U?I.geometries[de]:I)!==null){B=w.coordinates;var ue=w.type;switch(Z=!E||ue!=="Polygon"&&ue!=="MultiPolygon"?0:1,ue){case null:break;case"Point":if(y(B,J,ee,V,X)===!1)return!1;J++,V++;break;case"LineString":case"MultiPoint":for(m=0;m<B.length;m++){if(y(B[m],J,ee,V,X)===!1)return!1;J++,ue==="MultiPoint"&&V++}ue==="LineString"&&V++;break;case"Polygon":case"MultiLineString":for(m=0;m<B.length;m++){for(S=0;S<B[m].length-Z;S++){if(y(B[m][S],J,ee,V,X)===!1)return!1;J++}ue==="MultiLineString"&&V++,ue==="Polygon"&&X++}ue==="Polygon"&&V++;break;case"MultiPolygon":for(m=0;m<B.length;m++){for(X=0,S=0;S<B[m].length;S++){for(A=0;A<B[m][S].length-Z;A++){if(y(B[m][S][A],J,ee,V,X)===!1)return!1;J++}X++}V++}break;case"GeometryCollection":for(m=0;m<w.geometries.length;m++)if(c(w.geometries[m],y,E)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function d(k,y){var E;switch(k.type){case"FeatureCollection":for(E=0;E<k.features.length&&y(k.features[E].properties,E)!==!1;E++);break;case"Feature":y(k.properties,0)}}function f(k,y){if(k.type==="Feature")y(k,0);else if(k.type==="FeatureCollection")for(var E=0;E<k.features.length&&y(k.features[E],E)!==!1;E++);}function v(k,y){var E,m,S,A,w,T,B,I,U,Z,J=0,oe=k.type==="FeatureCollection",ne=k.type==="Feature",K=oe?k.features.length:1;for(E=0;E<K;E++){for(T=oe?k.features[E].geometry:ne?k.geometry:k,I=oe?k.features[E].properties:ne?k.properties:{},U=oe?k.features[E].bbox:ne?k.bbox:void 0,Z=oe?k.features[E].id:ne?k.id:void 0,w=(B=!!T&&T.type==="GeometryCollection")?T.geometries.length:1,S=0;S<w;S++)if((A=B?T.geometries[S]:T)!==null)switch(A.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(y(A,J,I,U,Z)===!1)return!1;break;case"GeometryCollection":for(m=0;m<A.geometries.length;m++)if(y(A.geometries[m],J,I,U,Z)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(y(null,J,I,U,Z)===!1)return!1;J++}}function b(k,y){v(k,function(E,m,S,A,w){var T,B=E===null?null:E.type;switch(B){case null:case"Point":case"LineString":case"Polygon":return y(u.feature(E,S,{bbox:A,id:w}),m,0)!==!1&&void 0}switch(B){case"MultiPoint":T="Point";break;case"MultiLineString":T="LineString";break;case"MultiPolygon":T="Polygon"}for(var I=0;I<E.coordinates.length;I++){var U={type:T,coordinates:E.coordinates[I]};if(y(u.feature(U,S),m,I)===!1)return!1}})}function x(k,y){b(k,function(E,m,S){var A=0;if(E.geometry){var w=E.geometry.type;if(w!=="Point"&&w!=="MultiPoint"){var T,B=0,I=0,U=0;return c(E,function(Z,J,oe,ne,K){if(T===void 0||m>B||ne>I||K>U)return T=Z,B=m,I=ne,U=K,void(A=0);var ae=u.lineString([T,Z],E.properties);if(y(ae,m,S,K,A)===!1)return!1;A++,T=Z})!==!1&&void 0}}})}function P(k,y){if(!k)throw new Error("geojson is required");b(k,function(E,m,S){if(E.geometry!==null){var A=E.geometry.type,w=E.geometry.coordinates;switch(A){case"LineString":if(y(E,m,S,0,0)===!1)return!1;break;case"Polygon":for(var T=0;T<w.length;T++)if(y(u.lineString(w[T],E.properties),m,S,T)===!1)return!1}}})}l.coordAll=function(k){var y=[];return c(k,function(E){y.push(E)}),y},l.coordEach=c,l.coordReduce=function(k,y,E,m){var S=E;return c(k,function(A,w,T,B,I){S=w===0&&E===void 0?A:y(S,A,w,T,B,I)},m),S},l.featureEach=f,l.featureReduce=function(k,y,E){var m=E;return f(k,function(S,A){m=A===0&&E===void 0?S:y(m,S,A)}),m},l.findPoint=function(k,y){if(y=y||{},!u.isObject(y))throw new Error("options is invalid");var E,m=y.featureIndex||0,S=y.multiFeatureIndex||0,A=y.geometryIndex||0,w=y.coordIndex||0,T=y.properties;switch(k.type){case"FeatureCollection":m<0&&(m=k.features.length+m),T=T||k.features[m].properties,E=k.features[m].geometry;break;case"Feature":T=T||k.properties,E=k.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":E=k;break;default:throw new Error("geojson is invalid")}if(E===null)return null;var B=E.coordinates;switch(E.type){case"Point":return u.point(B,T,y);case"MultiPoint":return S<0&&(S=B.length+S),u.point(B[S],T,y);case"LineString":return w<0&&(w=B.length+w),u.point(B[w],T,y);case"Polygon":return A<0&&(A=B.length+A),w<0&&(w=B[A].length+w),u.point(B[A][w],T,y);case"MultiLineString":return S<0&&(S=B.length+S),w<0&&(w=B[S].length+w),u.point(B[S][w],T,y);case"MultiPolygon":return S<0&&(S=B.length+S),A<0&&(A=B[S].length+A),w<0&&(w=B[S][A].length-w),u.point(B[S][A][w],T,y)}throw new Error("geojson is invalid")},l.findSegment=function(k,y){if(y=y||{},!u.isObject(y))throw new Error("options is invalid");var E,m=y.featureIndex||0,S=y.multiFeatureIndex||0,A=y.geometryIndex||0,w=y.segmentIndex||0,T=y.properties;switch(k.type){case"FeatureCollection":m<0&&(m=k.features.length+m),T=T||k.features[m].properties,E=k.features[m].geometry;break;case"Feature":T=T||k.properties,E=k.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":E=k;break;default:throw new Error("geojson is invalid")}if(E===null)return null;var B=E.coordinates;switch(E.type){case"Point":case"MultiPoint":return null;case"LineString":return w<0&&(w=B.length+w-1),u.lineString([B[w],B[w+1]],T,y);case"Polygon":return A<0&&(A=B.length+A),w<0&&(w=B[A].length+w-1),u.lineString([B[A][w],B[A][w+1]],T,y);case"MultiLineString":return S<0&&(S=B.length+S),w<0&&(w=B[S].length+w-1),u.lineString([B[S][w],B[S][w+1]],T,y);case"MultiPolygon":return S<0&&(S=B.length+S),A<0&&(A=B[S].length+A),w<0&&(w=B[S][A].length-w-1),u.lineString([B[S][A][w],B[S][A][w+1]],T,y)}throw new Error("geojson is invalid")},l.flattenEach=b,l.flattenReduce=function(k,y,E){var m=E;return b(k,function(S,A,w){m=A===0&&w===0&&E===void 0?S:y(m,S,A,w)}),m},l.geomEach=v,l.geomReduce=function(k,y,E){var m=E;return v(k,function(S,A,w,T,B){m=A===0&&E===void 0?S:y(m,S,A,w,T,B)}),m},l.lineEach=P,l.lineReduce=function(k,y,E){var m=E;return P(k,function(S,A,w,T){m=A===0&&E===void 0?S:y(m,S,A,w,T)}),m},l.propEach=d,l.propReduce=function(k,y,E){var m=E;return d(k,function(S,A){m=A===0&&E===void 0?S:y(m,S,A)}),m},l.segmentEach=x,l.segmentReduce=function(k,y,E){var m=E,S=!1;return x(k,function(A,w,T,B,I){m=S===!1&&E===void 0?A:y(m,A,w,T,B,I),S=!0}),m}},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(o){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof o!="function")throw new TypeError("callback must be a function");for(var l=Object(this),a=l.length>>>0,u=arguments[1],c=0;c<a;c++)if(o.call(u,l[c],c,l))return c;return-1},Array.prototype.find=Array.prototype.find||function(o){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof o!="function")throw new TypeError("callback must be a function");for(var l=Object(this),a=l.length>>>0,u=arguments[1],c=0;c<a;c++){var d=l[c];if(o.call(u,d,c,l))return d}},typeof Object.assign!="function"&&(Object.assign=function(o){if(o==null)throw new TypeError("Cannot convert undefined or null to object");o=Object(o);for(var l=1;l<arguments.length;l++){var a=arguments[l];if(a!=null)for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(o[u]=a[u])}return o}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(o){o.hasOwnProperty("remove")||Object.defineProperty(o,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(o,l){if(this==null)throw new TypeError('"this" is null or not defined');var a=Object(this),u=a.length>>>0;if(u===0)return!1;for(var c,d,f=0|l,v=Math.max(f>=0?f:u-Math.abs(f),0);v<u;){if((c=a[v])===(d=o)||typeof c=="number"&&typeof d=="number"&&isNaN(c)&&isNaN(d))return!0;v++}return!1}})},1787:(o,l,a)=>{var u=a(2582),c=a(4102),d=a(1540),f=a(9705).Z,v=d.featureEach,b=(d.coordEach,c.polygon,c.featureCollection);function x(P){var k=new u(P);return k.insert=function(y){if(y.type!=="Feature")throw new Error("invalid feature");return y.bbox=y.bbox?y.bbox:f(y),u.prototype.insert.call(this,y)},k.load=function(y){var E=[];return Array.isArray(y)?y.forEach(function(m){if(m.type!=="Feature")throw new Error("invalid features");m.bbox=m.bbox?m.bbox:f(m),E.push(m)}):v(y,function(m){if(m.type!=="Feature")throw new Error("invalid features");m.bbox=m.bbox?m.bbox:f(m),E.push(m)}),u.prototype.load.call(this,E)},k.remove=function(y,E){if(y.type!=="Feature")throw new Error("invalid feature");return y.bbox=y.bbox?y.bbox:f(y),u.prototype.remove.call(this,y,E)},k.clear=function(){return u.prototype.clear.call(this)},k.search=function(y){var E=u.prototype.search.call(this,this.toBBox(y));return b(E)},k.collides=function(y){return u.prototype.collides.call(this,this.toBBox(y))},k.all=function(){var y=u.prototype.all.call(this);return b(y)},k.toJSON=function(){return u.prototype.toJSON.call(this)},k.fromJSON=function(y){return u.prototype.fromJSON.call(this,y)},k.toBBox=function(y){var E;if(y.bbox)E=y.bbox;else if(Array.isArray(y)&&y.length===4)E=y;else if(Array.isArray(y)&&y.length===6)E=[y[0],y[1],y[3],y[4]];else if(y.type==="Feature")E=f(y);else{if(y.type!=="FeatureCollection")throw new Error("invalid geojson");E=f(y)}return{minX:E[0],minY:E[1],maxX:E[2],maxY:E[3]}},k}o.exports=x,o.exports.default=x},1989:(o,l,a)=>{var u=a(1789),c=a(401),d=a(7667),f=a(1327),v=a(1866);function b(x){var P=-1,k=x==null?0:x.length;for(this.clear();++P<k;){var y=x[P];this.set(y[0],y[1])}}b.prototype.clear=u,b.prototype.delete=c,b.prototype.get=d,b.prototype.has=f,b.prototype.set=v,o.exports=b},8407:(o,l,a)=>{var u=a(7040),c=a(4125),d=a(2117),f=a(7518),v=a(4705);function b(x){var P=-1,k=x==null?0:x.length;for(this.clear();++P<k;){var y=x[P];this.set(y[0],y[1])}}b.prototype.clear=u,b.prototype.delete=c,b.prototype.get=d,b.prototype.has=f,b.prototype.set=v,o.exports=b},7071:(o,l,a)=>{var u=a(852)(a(5639),"Map");o.exports=u},3369:(o,l,a)=>{var u=a(4785),c=a(1285),d=a(6e3),f=a(9916),v=a(5265);function b(x){var P=-1,k=x==null?0:x.length;for(this.clear();++P<k;){var y=x[P];this.set(y[0],y[1])}}b.prototype.clear=u,b.prototype.delete=c,b.prototype.get=d,b.prototype.has=f,b.prototype.set=v,o.exports=b},6384:(o,l,a)=>{var u=a(8407),c=a(7465),d=a(3779),f=a(7599),v=a(4758),b=a(4309);function x(P){var k=this.__data__=new u(P);this.size=k.size}x.prototype.clear=c,x.prototype.delete=d,x.prototype.get=f,x.prototype.has=v,x.prototype.set=b,o.exports=x},2705:(o,l,a)=>{var u=a(5639).Symbol;o.exports=u},1149:(o,l,a)=>{var u=a(5639).Uint8Array;o.exports=u},6874:o=>{o.exports=function(l,a,u){switch(u.length){case 0:return l.call(a);case 1:return l.call(a,u[0]);case 2:return l.call(a,u[0],u[1]);case 3:return l.call(a,u[0],u[1],u[2])}return l.apply(a,u)}},4636:(o,l,a)=>{var u=a(2545),c=a(5694),d=a(1469),f=a(4144),v=a(5776),b=a(6719),x=Object.prototype.hasOwnProperty;o.exports=function(P,k){var y=d(P),E=!y&&c(P),m=!y&&!E&&f(P),S=!y&&!E&&!m&&b(P),A=y||E||m||S,w=A?u(P.length,String):[],T=w.length;for(var B in P)!k&&!x.call(P,B)||A&&(B=="length"||m&&(B=="offset"||B=="parent")||S&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||v(B,T))||w.push(B);return w}},9932:o=>{o.exports=function(l,a){for(var u=-1,c=l==null?0:l.length,d=Array(c);++u<c;)d[u]=a(l[u],u,l);return d}},6556:(o,l,a)=>{var u=a(9465),c=a(7813);o.exports=function(d,f,v){(v!==void 0&&!c(d[f],v)||v===void 0&&!(f in d))&&u(d,f,v)}},4865:(o,l,a)=>{var u=a(9465),c=a(7813),d=Object.prototype.hasOwnProperty;o.exports=function(f,v,b){var x=f[v];d.call(f,v)&&c(x,b)&&(b!==void 0||v in f)||u(f,v,b)}},8470:(o,l,a)=>{var u=a(7813);o.exports=function(c,d){for(var f=c.length;f--;)if(u(c[f][0],d))return f;return-1}},9465:(o,l,a)=>{var u=a(8777);o.exports=function(c,d,f){d=="__proto__"&&u?u(c,d,{configurable:!0,enumerable:!0,value:f,writable:!0}):c[d]=f}},3118:(o,l,a)=>{var u=a(3218),c=Object.create,d=function(){function f(){}return function(v){if(!u(v))return{};if(c)return c(v);f.prototype=v;var b=new f;return f.prototype=void 0,b}}();o.exports=d},8483:(o,l,a)=>{var u=a(5063)();o.exports=u},7786:(o,l,a)=>{var u=a(1811),c=a(327);o.exports=function(d,f){for(var v=0,b=(f=u(f,d)).length;d!=null&&v<b;)d=d[c(f[v++])];return v&&v==b?d:void 0}},4239:(o,l,a)=>{var u=a(2705),c=a(9607),d=a(2333),f=u?u.toStringTag:void 0;o.exports=function(v){return v==null?v===void 0?"[object Undefined]":"[object Null]":f&&f in Object(v)?c(v):d(v)}},8565:o=>{var l=Object.prototype.hasOwnProperty;o.exports=function(a,u){return a!=null&&l.call(a,u)}},9454:(o,l,a)=>{var u=a(4239),c=a(7005);o.exports=function(d){return c(d)&&u(d)=="[object Arguments]"}},8458:(o,l,a)=>{var u=a(3560),c=a(5346),d=a(3218),f=a(346),v=/^\[object .+?Constructor\]$/,b=Function.prototype,x=Object.prototype,P=b.toString,k=x.hasOwnProperty,y=RegExp("^"+P.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");o.exports=function(E){return!(!d(E)||c(E))&&(u(E)?y:v).test(f(E))}},8749:(o,l,a)=>{var u=a(4239),c=a(1780),d=a(7005),f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1,o.exports=function(v){return d(v)&&c(v.length)&&!!f[u(v)]}},313:(o,l,a)=>{var u=a(3218),c=a(5726),d=a(3498),f=Object.prototype.hasOwnProperty;o.exports=function(v){if(!u(v))return d(v);var b=c(v),x=[];for(var P in v)(P!="constructor"||!b&&f.call(v,P))&&x.push(P);return x}},2980:(o,l,a)=>{var u=a(6384),c=a(6556),d=a(8483),f=a(9783),v=a(3218),b=a(1704),x=a(6390);o.exports=function P(k,y,E,m,S){k!==y&&d(y,function(A,w){if(S||(S=new u),v(A))f(k,y,w,E,P,m,S);else{var T=m?m(x(k,w),A,w+"",k,y,S):void 0;T===void 0&&(T=A),c(k,w,T)}},b)}},9783:(o,l,a)=>{var u=a(6556),c=a(4626),d=a(7133),f=a(278),v=a(8517),b=a(5694),x=a(1469),P=a(9246),k=a(4144),y=a(3560),E=a(3218),m=a(8630),S=a(6719),A=a(6390),w=a(9881);o.exports=function(T,B,I,U,Z,J,oe){var ne=A(T,I),K=A(B,I),ae=oe.get(K);if(ae)u(T,I,ae);else{var ee=J?J(ne,K,I+"",T,B,oe):void 0,de=ee===void 0;if(de){var V=x(K),X=!V&&k(K),ue=!V&&!X&&S(K);ee=K,V||X||ue?x(ne)?ee=ne:P(ne)?ee=f(ne):X?(de=!1,ee=c(K,!0)):ue?(de=!1,ee=d(K,!0)):ee=[]:m(K)||b(K)?(ee=ne,b(ne)?ee=w(ne):E(ne)&&!y(ne)||(ee=v(K))):de=!1}de&&(oe.set(K,ee),Z(ee,K,U,J,oe),oe.delete(K)),u(T,I,ee)}}},5976:(o,l,a)=>{var u=a(6557),c=a(5357),d=a(61);o.exports=function(f,v){return d(c(f,v,u),f+"")}},6560:(o,l,a)=>{var u=a(5703),c=a(8777),d=a(6557),f=c?function(v,b){return c(v,"toString",{configurable:!0,enumerable:!1,value:u(b),writable:!0})}:d;o.exports=f},2545:o=>{o.exports=function(l,a){for(var u=-1,c=Array(l);++u<l;)c[u]=a(u);return c}},531:(o,l,a)=>{var u=a(2705),c=a(9932),d=a(1469),f=a(3448),v=u?u.prototype:void 0,b=v?v.toString:void 0;o.exports=function x(P){if(typeof P=="string")return P;if(d(P))return c(P,x)+"";if(f(P))return b?b.call(P):"";var k=P+"";return k=="0"&&1/P==-1/0?"-0":k}},1717:o=>{o.exports=function(l){return function(a){return l(a)}}},1811:(o,l,a)=>{var u=a(1469),c=a(5403),d=a(5514),f=a(9833);o.exports=function(v,b){return u(v)?v:c(v,b)?[v]:d(f(v))}},4318:(o,l,a)=>{var u=a(1149);o.exports=function(c){var d=new c.constructor(c.byteLength);return new u(d).set(new u(c)),d}},4626:(o,l,a)=>{o=a.nmd(o);var u=a(5639),c=l&&!l.nodeType&&l,d=c&&o&&!o.nodeType&&o,f=d&&d.exports===c?u.Buffer:void 0,v=f?f.allocUnsafe:void 0;o.exports=function(b,x){if(x)return b.slice();var P=b.length,k=v?v(P):new b.constructor(P);return b.copy(k),k}},7133:(o,l,a)=>{var u=a(4318);o.exports=function(c,d){var f=d?u(c.buffer):c.buffer;return new c.constructor(f,c.byteOffset,c.length)}},278:o=>{o.exports=function(l,a){var u=-1,c=l.length;for(a||(a=Array(c));++u<c;)a[u]=l[u];return a}},8363:(o,l,a)=>{var u=a(4865),c=a(9465);o.exports=function(d,f,v,b){var x=!v;v||(v={});for(var P=-1,k=f.length;++P<k;){var y=f[P],E=b?b(v[y],d[y],y,v,d):void 0;E===void 0&&(E=d[y]),x?c(v,y,E):u(v,y,E)}return v}},4429:(o,l,a)=>{var u=a(5639)["__core-js_shared__"];o.exports=u},1463:(o,l,a)=>{var u=a(5976),c=a(6612);o.exports=function(d){return u(function(f,v){var b=-1,x=v.length,P=x>1?v[x-1]:void 0,k=x>2?v[2]:void 0;for(P=d.length>3&&typeof P=="function"?(x--,P):void 0,k&&c(v[0],v[1],k)&&(P=x<3?void 0:P,x=1),f=Object(f);++b<x;){var y=v[b];y&&d(f,y,b,P)}return f})}},5063:o=>{o.exports=function(l){return function(a,u,c){for(var d=-1,f=Object(a),v=c(a),b=v.length;b--;){var x=v[l?b:++d];if(u(f[x],x,f)===!1)break}return a}}},8777:(o,l,a)=>{var u=a(852),c=function(){try{var d=u(Object,"defineProperty");return d({},"",{}),d}catch{}}();o.exports=c},1957:(o,l,a)=>{var u=typeof a.g=="object"&&a.g&&a.g.Object===Object&&a.g;o.exports=u},5050:(o,l,a)=>{var u=a(7019);o.exports=function(c,d){var f=c.__data__;return u(d)?f[typeof d=="string"?"string":"hash"]:f.map}},852:(o,l,a)=>{var u=a(8458),c=a(7801);o.exports=function(d,f){var v=c(d,f);return u(v)?v:void 0}},5924:(o,l,a)=>{var u=a(5569)(Object.getPrototypeOf,Object);o.exports=u},9607:(o,l,a)=>{var u=a(2705),c=Object.prototype,d=c.hasOwnProperty,f=c.toString,v=u?u.toStringTag:void 0;o.exports=function(b){var x=d.call(b,v),P=b[v];try{b[v]=void 0;var k=!0}catch{}var y=f.call(b);return k&&(x?b[v]=P:delete b[v]),y}},7801:o=>{o.exports=function(l,a){return l==null?void 0:l[a]}},222:(o,l,a)=>{var u=a(1811),c=a(5694),d=a(1469),f=a(5776),v=a(1780),b=a(327);o.exports=function(x,P,k){for(var y=-1,E=(P=u(P,x)).length,m=!1;++y<E;){var S=b(P[y]);if(!(m=x!=null&&k(x,S)))break;x=x[S]}return m||++y!=E?m:!!(E=x==null?0:x.length)&&v(E)&&f(S,E)&&(d(x)||c(x))}},1789:(o,l,a)=>{var u=a(4536);o.exports=function(){this.__data__=u?u(null):{},this.size=0}},401:o=>{o.exports=function(l){var a=this.has(l)&&delete this.__data__[l];return this.size-=a?1:0,a}},7667:(o,l,a)=>{var u=a(4536),c=Object.prototype.hasOwnProperty;o.exports=function(d){var f=this.__data__;if(u){var v=f[d];return v==="__lodash_hash_undefined__"?void 0:v}return c.call(f,d)?f[d]:void 0}},1327:(o,l,a)=>{var u=a(4536),c=Object.prototype.hasOwnProperty;o.exports=function(d){var f=this.__data__;return u?f[d]!==void 0:c.call(f,d)}},1866:(o,l,a)=>{var u=a(4536);o.exports=function(c,d){var f=this.__data__;return this.size+=this.has(c)?0:1,f[c]=u&&d===void 0?"__lodash_hash_undefined__":d,this}},8517:(o,l,a)=>{var u=a(3118),c=a(5924),d=a(5726);o.exports=function(f){return typeof f.constructor!="function"||d(f)?{}:u(c(f))}},5776:o=>{var l=/^(?:0|[1-9]\d*)$/;o.exports=function(a,u){var c=typeof a;return!!(u=u??9007199254740991)&&(c=="number"||c!="symbol"&&l.test(a))&&a>-1&&a%1==0&&a<u}},6612:(o,l,a)=>{var u=a(7813),c=a(8612),d=a(5776),f=a(3218);o.exports=function(v,b,x){if(!f(x))return!1;var P=typeof b;return!!(P=="number"?c(x)&&d(b,x.length):P=="string"&&b in x)&&u(x[b],v)}},5403:(o,l,a)=>{var u=a(1469),c=a(3448),d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/;o.exports=function(v,b){if(u(v))return!1;var x=typeof v;return!(x!="number"&&x!="symbol"&&x!="boolean"&&v!=null&&!c(v))||f.test(v)||!d.test(v)||b!=null&&v in Object(b)}},7019:o=>{o.exports=function(l){var a=typeof l;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?l!=="__proto__":l===null}},5346:(o,l,a)=>{var u,c=a(4429),d=(u=/[^.]+$/.exec(c&&c.keys&&c.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";o.exports=function(f){return!!d&&d in f}},5726:o=>{var l=Object.prototype;o.exports=function(a){var u=a&&a.constructor;return a===(typeof u=="function"&&u.prototype||l)}},7040:o=>{o.exports=function(){this.__data__=[],this.size=0}},4125:(o,l,a)=>{var u=a(8470),c=Array.prototype.splice;o.exports=function(d){var f=this.__data__,v=u(f,d);return!(v<0)&&(v==f.length-1?f.pop():c.call(f,v,1),--this.size,!0)}},2117:(o,l,a)=>{var u=a(8470);o.exports=function(c){var d=this.__data__,f=u(d,c);return f<0?void 0:d[f][1]}},7518:(o,l,a)=>{var u=a(8470);o.exports=function(c){return u(this.__data__,c)>-1}},4705:(o,l,a)=>{var u=a(8470);o.exports=function(c,d){var f=this.__data__,v=u(f,c);return v<0?(++this.size,f.push([c,d])):f[v][1]=d,this}},4785:(o,l,a)=>{var u=a(1989),c=a(8407),d=a(7071);o.exports=function(){this.size=0,this.__data__={hash:new u,map:new(d||c),string:new u}}},1285:(o,l,a)=>{var u=a(5050);o.exports=function(c){var d=u(this,c).delete(c);return this.size-=d?1:0,d}},6e3:(o,l,a)=>{var u=a(5050);o.exports=function(c){return u(this,c).get(c)}},9916:(o,l,a)=>{var u=a(5050);o.exports=function(c){return u(this,c).has(c)}},5265:(o,l,a)=>{var u=a(5050);o.exports=function(c,d){var f=u(this,c),v=f.size;return f.set(c,d),this.size+=f.size==v?0:1,this}},4523:(o,l,a)=>{var u=a(8306);o.exports=function(c){var d=u(c,function(v){return f.size===500&&f.clear(),v}),f=d.cache;return d}},4536:(o,l,a)=>{var u=a(852)(Object,"create");o.exports=u},3498:o=>{o.exports=function(l){var a=[];if(l!=null)for(var u in Object(l))a.push(u);return a}},1167:(o,l,a)=>{o=a.nmd(o);var u=a(1957),c=l&&!l.nodeType&&l,d=c&&o&&!o.nodeType&&o,f=d&&d.exports===c&&u.process,v=function(){try{var b=d&&d.require&&d.require("util").types;return b||f&&f.binding&&f.binding("util")}catch{}}();o.exports=v},2333:o=>{var l=Object.prototype.toString;o.exports=function(a){return l.call(a)}},5569:o=>{o.exports=function(l,a){return function(u){return l(a(u))}}},5357:(o,l,a)=>{var u=a(6874),c=Math.max;o.exports=function(d,f,v){return f=c(f===void 0?d.length-1:f,0),function(){for(var b=arguments,x=-1,P=c(b.length-f,0),k=Array(P);++x<P;)k[x]=b[f+x];x=-1;for(var y=Array(f+1);++x<f;)y[x]=b[x];return y[f]=v(k),u(d,this,y)}}},5639:(o,l,a)=>{var u=a(1957),c=typeof self=="object"&&self&&self.Object===Object&&self,d=u||c||Function("return this")();o.exports=d},6390:o=>{o.exports=function(l,a){if((a!=="constructor"||typeof l[a]!="function")&&a!="__proto__")return l[a]}},61:(o,l,a)=>{var u=a(6560),c=a(1275)(u);o.exports=c},1275:o=>{var l=Date.now;o.exports=function(a){var u=0,c=0;return function(){var d=l(),f=16-(d-c);if(c=d,f>0){if(++u>=800)return arguments[0]}else u=0;return a.apply(void 0,arguments)}}},7465:(o,l,a)=>{var u=a(8407);o.exports=function(){this.__data__=new u,this.size=0}},3779:o=>{o.exports=function(l){var a=this.__data__,u=a.delete(l);return this.size=a.size,u}},7599:o=>{o.exports=function(l){return this.__data__.get(l)}},4758:o=>{o.exports=function(l){return this.__data__.has(l)}},4309:(o,l,a)=>{var u=a(8407),c=a(7071),d=a(3369);o.exports=function(f,v){var b=this.__data__;if(b instanceof u){var x=b.__data__;if(!c||x.length<199)return x.push([f,v]),this.size=++b.size,this;b=this.__data__=new d(x)}return b.set(f,v),this.size=b.size,this}},5514:(o,l,a)=>{var u=a(4523),c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,f=u(function(v){var b=[];return v.charCodeAt(0)===46&&b.push(""),v.replace(c,function(x,P,k,y){b.push(k?y.replace(d,"$1"):P||x)}),b});o.exports=f},327:(o,l,a)=>{var u=a(3448);o.exports=function(c){if(typeof c=="string"||u(c))return c;var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}},346:o=>{var l=Function.prototype.toString;o.exports=function(a){if(a!=null){try{return l.call(a)}catch{}try{return a+""}catch{}}return""}},5703:o=>{o.exports=function(l){return function(){return l}}},7813:o=>{o.exports=function(l,a){return l===a||l!=l&&a!=a}},7361:(o,l,a)=>{var u=a(7786);o.exports=function(c,d,f){var v=c==null?void 0:u(c,d);return v===void 0?f:v}},8721:(o,l,a)=>{var u=a(8565),c=a(222);o.exports=function(d,f){return d!=null&&c(d,f,u)}},6557:o=>{o.exports=function(l){return l}},5694:(o,l,a)=>{var u=a(9454),c=a(7005),d=Object.prototype,f=d.hasOwnProperty,v=d.propertyIsEnumerable,b=u(function(){return arguments}())?u:function(x){return c(x)&&f.call(x,"callee")&&!v.call(x,"callee")};o.exports=b},1469:o=>{var l=Array.isArray;o.exports=l},8612:(o,l,a)=>{var u=a(3560),c=a(1780);o.exports=function(d){return d!=null&&c(d.length)&&!u(d)}},9246:(o,l,a)=>{var u=a(8612),c=a(7005);o.exports=function(d){return c(d)&&u(d)}},4144:(o,l,a)=>{o=a.nmd(o);var u=a(5639),c=a(5062),d=l&&!l.nodeType&&l,f=d&&o&&!o.nodeType&&o,v=f&&f.exports===d?u.Buffer:void 0,b=(v?v.isBuffer:void 0)||c;o.exports=b},3560:(o,l,a)=>{var u=a(4239),c=a(3218);o.exports=function(d){if(!c(d))return!1;var f=u(d);return f=="[object Function]"||f=="[object GeneratorFunction]"||f=="[object AsyncFunction]"||f=="[object Proxy]"}},1780:o=>{o.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:o=>{o.exports=function(l){var a=typeof l;return l!=null&&(a=="object"||a=="function")}},7005:o=>{o.exports=function(l){return l!=null&&typeof l=="object"}},8630:(o,l,a)=>{var u=a(4239),c=a(5924),d=a(7005),f=Function.prototype,v=Object.prototype,b=f.toString,x=v.hasOwnProperty,P=b.call(Object);o.exports=function(k){if(!d(k)||u(k)!="[object Object]")return!1;var y=c(k);if(y===null)return!0;var E=x.call(y,"constructor")&&y.constructor;return typeof E=="function"&&E instanceof E&&b.call(E)==P}},3448:(o,l,a)=>{var u=a(4239),c=a(7005);o.exports=function(d){return typeof d=="symbol"||c(d)&&u(d)=="[object Symbol]"}},6719:(o,l,a)=>{var u=a(8749),c=a(1717),d=a(1167),f=d&&d.isTypedArray,v=f?c(f):u;o.exports=v},1704:(o,l,a)=>{var u=a(4636),c=a(313),d=a(8612);o.exports=function(f){return d(f)?u(f,!0):c(f)}},8306:(o,l,a)=>{var u=a(3369);function c(d,f){if(typeof d!="function"||f!=null&&typeof f!="function")throw new TypeError("Expected a function");var v=function(){var b=arguments,x=f?f.apply(this,b):b[0],P=v.cache;if(P.has(x))return P.get(x);var k=d.apply(this,b);return v.cache=P.set(x,k)||P,k};return v.cache=new(c.Cache||u),v}c.Cache=u,o.exports=c},2492:(o,l,a)=>{var u=a(2980),c=a(1463)(function(d,f,v){u(d,f,v)});o.exports=c},5062:o=>{o.exports=function(){return!1}},9881:(o,l,a)=>{var u=a(8363),c=a(1704);o.exports=function(d){return u(d,c(d))}},9833:(o,l,a)=>{var u=a(531);o.exports=function(c){return c==null?"":u(c)}},2676:function(o){o.exports=function(){function l(R,g){if(!(R instanceof g))throw new TypeError("Cannot call a class as a function")}function a(R,g){for(var _=0;_<g.length;_++){var O=g[_];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(R,O.key,O)}}function u(R,g,_){return g&&a(R.prototype,g),_&&a(R,_),R}var c=function(){function R(g,_){this.next=null,this.key=g,this.data=_,this.left=null,this.right=null}return R}();function d(R,g){return R>g?1:R<g?-1:0}function f(R,g,_){for(var O=new c(null,null),j=O,F=O;;){var $=_(R,g.key);if($<0){if(g.left===null)break;if(_(R,g.left.key)<0){var Y=g.left;if(g.left=Y.right,Y.right=g,(g=Y).left===null)break}F.left=g,F=g,g=g.left}else{if(!($>0)||g.right===null||_(R,g.right.key)>0&&(Y=g.right,g.right=Y.left,Y.left=g,(g=Y).right===null))break;j.right=g,j=g,g=g.right}}return j.right=g.left,F.left=g.right,g.left=O.right,g.right=O.left,g}function v(R,g,_,O){var j=new c(R,g);if(_===null)return j.left=j.right=null,j;var F=O(R,(_=f(R,_,O)).key);return F<0?(j.left=_.left,j.right=_,_.left=null):F>=0&&(j.right=_.right,j.left=_,_.right=null),j}function b(R,g,_){var O=null,j=null;if(g){var F=_((g=f(R,g,_)).key,R);F===0?(O=g.left,j=g.right):F<0?(j=g.right,g.right=null,O=g):(O=g.left,g.left=null,j=g)}return{left:O,right:j}}function x(R,g,_){return g===null?R:(R===null||((g=f(R.key,g,_)).left=R),g)}function P(R,g,_,O,j){if(R){O(g+(_?" ":" ")+j(R)+`
`);var F=g+(_?"    ":"   ");R.left&&P(R.left,F,!1,O,j),R.right&&P(R.right,F,!0,O,j)}}var k=function(){function R(g){g===void 0&&(g=d),this._root=null,this._size=0,this._comparator=g}return R.prototype.insert=function(g,_){return this._size++,this._root=v(g,_,this._root,this._comparator)},R.prototype.add=function(g,_){var O=new c(g,_);this._root===null&&(O.left=O.right=null,this._size++,this._root=O);var j=this._comparator,F=f(g,this._root,j),$=j(g,F.key);return $===0?this._root=F:($<0?(O.left=F.left,O.right=F,F.left=null):$>0&&(O.right=F.right,O.left=F,F.right=null),this._size++,this._root=O),this._root},R.prototype.remove=function(g){this._root=this._remove(g,this._root,this._comparator)},R.prototype._remove=function(g,_,O){var j;return _===null?null:O(g,(_=f(g,_,O)).key)===0?(_.left===null?j=_.right:(j=f(g,_.left,O)).right=_.right,this._size--,j):_},R.prototype.pop=function(){var g=this._root;if(g){for(;g.left;)g=g.left;return this._root=f(g.key,this._root,this._comparator),this._root=this._remove(g.key,this._root,this._comparator),{key:g.key,data:g.data}}return null},R.prototype.findStatic=function(g){for(var _=this._root,O=this._comparator;_;){var j=O(g,_.key);if(j===0)return _;_=j<0?_.left:_.right}return null},R.prototype.find=function(g){return this._root&&(this._root=f(g,this._root,this._comparator),this._comparator(g,this._root.key)!==0)?null:this._root},R.prototype.contains=function(g){for(var _=this._root,O=this._comparator;_;){var j=O(g,_.key);if(j===0)return!0;_=j<0?_.left:_.right}return!1},R.prototype.forEach=function(g,_){for(var O=this._root,j=[],F=!1;!F;)O!==null?(j.push(O),O=O.left):j.length!==0?(O=j.pop(),g.call(_,O),O=O.right):F=!0;return this},R.prototype.range=function(g,_,O,j){for(var F=[],$=this._comparator,Y=this._root;F.length!==0||Y;)if(Y)F.push(Y),Y=Y.left;else{if($((Y=F.pop()).key,_)>0)break;if($(Y.key,g)>=0&&O.call(j,Y))return this;Y=Y.right}return this},R.prototype.keys=function(){var g=[];return this.forEach(function(_){var O=_.key;return g.push(O)}),g},R.prototype.values=function(){var g=[];return this.forEach(function(_){var O=_.data;return g.push(O)}),g},R.prototype.min=function(){return this._root?this.minNode(this._root).key:null},R.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},R.prototype.minNode=function(g){if(g===void 0&&(g=this._root),g)for(;g.left;)g=g.left;return g},R.prototype.maxNode=function(g){if(g===void 0&&(g=this._root),g)for(;g.right;)g=g.right;return g},R.prototype.at=function(g){for(var _=this._root,O=!1,j=0,F=[];!O;)if(_)F.push(_),_=_.left;else if(F.length>0){if(_=F.pop(),j===g)return _;j++,_=_.right}else O=!0;return null},R.prototype.next=function(g){var _=this._root,O=null;if(g.right){for(O=g.right;O.left;)O=O.left;return O}for(var j=this._comparator;_;){var F=j(g.key,_.key);if(F===0)break;F<0?(O=_,_=_.left):_=_.right}return O},R.prototype.prev=function(g){var _=this._root,O=null;if(g.left!==null){for(O=g.left;O.right;)O=O.right;return O}for(var j=this._comparator;_;){var F=j(g.key,_.key);if(F===0)break;F<0?_=_.left:(O=_,_=_.right)}return O},R.prototype.clear=function(){return this._root=null,this._size=0,this},R.prototype.toList=function(){return m(this._root)},R.prototype.load=function(g,_,O){_===void 0&&(_=[]),O===void 0&&(O=!1);var j=g.length,F=this._comparator;if(O&&w(g,_,0,j-1,F),this._root===null)this._root=y(g,_,0,j),this._size=j;else{var $=A(this.toList(),E(g,_),F);j=this._size+j,this._root=S({head:$},0,j)}return this},R.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(R.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),R.prototype.toString=function(g){g===void 0&&(g=function(O){return String(O.key)});var _=[];return P(this._root,"",!0,function(O){return _.push(O)},g),_.join("")},R.prototype.update=function(g,_,O){var j=this._comparator,F=b(g,this._root,j),$=F.left,Y=F.right;j(g,_)<0?Y=v(_,O,Y,j):$=v(_,O,$,j),this._root=x($,Y,j)},R.prototype.split=function(g){return b(g,this._root,this._comparator)},R}();function y(R,g,_,O){var j=O-_;if(j>0){var F=_+Math.floor(j/2),$=R[F],Y=g[F],H=new c($,Y);return H.left=y(R,g,_,F),H.right=y(R,g,F+1,O),H}return null}function E(R,g){for(var _=new c(null,null),O=_,j=0;j<R.length;j++)O=O.next=new c(R[j],g[j]);return O.next=null,_.next}function m(R){for(var g=R,_=[],O=!1,j=new c(null,null),F=j;!O;)g?(_.push(g),g=g.left):_.length>0?g=(g=F=F.next=_.pop()).right:O=!0;return F.next=null,j.next}function S(R,g,_){var O=_-g;if(O>0){var j=g+Math.floor(O/2),F=S(R,g,j),$=R.head;return $.left=F,R.head=R.head.next,$.right=S(R,j+1,_),$}return null}function A(R,g,_){for(var O=new c(null,null),j=O,F=R,$=g;F!==null&&$!==null;)_(F.key,$.key)<0?(j.next=F,F=F.next):(j.next=$,$=$.next),j=j.next;return F!==null?j.next=F:$!==null&&(j.next=$),O.next}function w(R,g,_,O,j){if(!(_>=O)){for(var F=R[_+O>>1],$=_-1,Y=O+1;;){do $++;while(j(R[$],F)<0);do Y--;while(j(R[Y],F)>0);if($>=Y)break;var H=R[$];R[$]=R[Y],R[Y]=H,H=g[$],g[$]=g[Y],g[Y]=H}w(R,g,_,Y,j),w(R,g,Y+1,O,j)}}var T=function(R,g){return R.ll.x<=g.x&&g.x<=R.ur.x&&R.ll.y<=g.y&&g.y<=R.ur.y},B=function(R,g){if(g.ur.x<R.ll.x||R.ur.x<g.ll.x||g.ur.y<R.ll.y||R.ur.y<g.ll.y)return null;var _=R.ll.x<g.ll.x?g.ll.x:R.ll.x,O=R.ur.x<g.ur.x?R.ur.x:g.ur.x;return{ll:{x:_,y:R.ll.y<g.ll.y?g.ll.y:R.ll.y},ur:{x:O,y:R.ur.y<g.ur.y?R.ur.y:g.ur.y}}},I=Number.EPSILON;I===void 0&&(I=Math.pow(2,-52));var U=I*I,Z=function(R,g){if(-I<R&&R<I&&-I<g&&g<I)return 0;var _=R-g;return _*_<U*R*g?0:R<g?-1:1},J=function(){function R(){l(this,R),this.reset()}return u(R,[{key:"reset",value:function(){this.xRounder=new oe,this.yRounder=new oe}},{key:"round",value:function(g,_){return{x:this.xRounder.round(g),y:this.yRounder.round(_)}}}]),R}(),oe=function(){function R(){l(this,R),this.tree=new k,this.round(0)}return u(R,[{key:"round",value:function(g){var _=this.tree.add(g),O=this.tree.prev(_);if(O!==null&&Z(_.key,O.key)===0)return this.tree.remove(g),O.key;var j=this.tree.next(_);return j!==null&&Z(_.key,j.key)===0?(this.tree.remove(g),j.key):g}}]),R}(),ne=new J,K=function(R,g){return R.x*g.y-R.y*g.x},ae=function(R,g){return R.x*g.x+R.y*g.y},ee=function(R,g,_){var O={x:g.x-R.x,y:g.y-R.y},j={x:_.x-R.x,y:_.y-R.y},F=K(O,j);return Z(F,0)},de=function(R){return Math.sqrt(ae(R,R))},V=function(R,g,_){var O={x:g.x-R.x,y:g.y-R.y},j={x:_.x-R.x,y:_.y-R.y};return K(j,O)/de(j)/de(O)},X=function(R,g,_){var O={x:g.x-R.x,y:g.y-R.y},j={x:_.x-R.x,y:_.y-R.y};return ae(j,O)/de(j)/de(O)},ue=function(R,g,_){return g.y===0?null:{x:R.x+g.x/g.y*(_-R.y),y:_}},ke=function(R,g,_){return g.x===0?null:{x:_,y:R.y+g.y/g.x*(_-R.x)}},Le=function(R,g,_,O){if(g.x===0)return ke(_,O,R.x);if(O.x===0)return ke(R,g,_.x);if(g.y===0)return ue(_,O,R.y);if(O.y===0)return ue(R,g,_.y);var j=K(g,O);if(j==0)return null;var F={x:_.x-R.x,y:_.y-R.y},$=K(F,g)/j,Y=K(F,O)/j;return{x:(R.x+Y*g.x+(_.x+$*O.x))/2,y:(R.y+Y*g.y+(_.y+$*O.y))/2}},Me=function(){function R(g,_){l(this,R),g.events===void 0?g.events=[this]:g.events.push(this),this.point=g,this.isLeft=_}return u(R,null,[{key:"compare",value:function(g,_){var O=R.comparePoints(g.point,_.point);return O!==0?O:(g.point!==_.point&&g.link(_),g.isLeft!==_.isLeft?g.isLeft?1:-1:Ue.compare(g.segment,_.segment))}},{key:"comparePoints",value:function(g,_){return g.x<_.x?-1:g.x>_.x?1:g.y<_.y?-1:g.y>_.y?1:0}}]),u(R,[{key:"link",value:function(g){if(g.point===this.point)throw new Error("Tried to link already linked events");for(var _=g.point.events,O=0,j=_.length;O<j;O++){var F=_[O];this.point.events.push(F),F.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var g=this.point.events.length,_=0;_<g;_++){var O=this.point.events[_];if(O.segment.consumedBy===void 0)for(var j=_+1;j<g;j++){var F=this.point.events[j];F.consumedBy===void 0&&O.otherSE.point.events===F.otherSE.point.events&&O.segment.consume(F.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var g=[],_=0,O=this.point.events.length;_<O;_++){var j=this.point.events[_];j!==this&&!j.segment.ringOut&&j.segment.isInResult()&&g.push(j)}return g}},{key:"getLeftmostComparator",value:function(g){var _=this,O=new Map,j=function(F){var $=F.otherSE;O.set(F,{sine:V(_.point,g.point,$.point),cosine:X(_.point,g.point,$.point)})};return function(F,$){O.has(F)||j(F),O.has($)||j($);var Y=O.get(F),H=Y.sine,re=Y.cosine,pe=O.get($),_e=pe.sine,be=pe.cosine;return H>=0&&_e>=0?re<be?1:re>be?-1:0:H<0&&_e<0?re<be?-1:re>be?1:0:_e<H?-1:_e>H?1:0}}}]),R}(),He=0,Ue=function(){function R(g,_,O,j){l(this,R),this.id=++He,this.leftSE=g,g.segment=this,g.otherSE=_,this.rightSE=_,_.segment=this,_.otherSE=g,this.rings=O,this.windings=j}return u(R,null,[{key:"compare",value:function(g,_){var O=g.leftSE.point.x,j=_.leftSE.point.x,F=g.rightSE.point.x,$=_.rightSE.point.x;if($<O)return 1;if(F<j)return-1;var Y=g.leftSE.point.y,H=_.leftSE.point.y,re=g.rightSE.point.y,pe=_.rightSE.point.y;if(O<j){if(H<Y&&H<re)return 1;if(H>Y&&H>re)return-1;var _e=g.comparePoint(_.leftSE.point);if(_e<0)return 1;if(_e>0)return-1;var be=_.comparePoint(g.rightSE.point);return be!==0?be:-1}if(O>j){if(Y<H&&Y<pe)return-1;if(Y>H&&Y>pe)return 1;var ze=_.comparePoint(g.leftSE.point);if(ze!==0)return ze;var je=g.comparePoint(_.rightSE.point);return je<0?1:je>0?-1:1}if(Y<H)return-1;if(Y>H)return 1;if(F<$){var Ve=_.comparePoint(g.rightSE.point);if(Ve!==0)return Ve}if(F>$){var nt=g.comparePoint(_.rightSE.point);if(nt<0)return 1;if(nt>0)return-1}if(F!==$){var ot=re-Y,dt=F-O,ht=pe-H,at=$-j;if(ot>dt&&ht<at)return 1;if(ot<dt&&ht>at)return-1}return F>$?1:F<$||re<pe?-1:re>pe?1:g.id<_.id?-1:g.id>_.id?1:0}}]),u(R,[{key:"replaceRightSE",value:function(g){this.rightSE=g,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var g=this.leftSE.point.y,_=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:g<_?g:_},ur:{x:this.rightSE.point.x,y:g>_?g:_}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(g){return g.x===this.leftSE.point.x&&g.y===this.leftSE.point.y||g.x===this.rightSE.point.x&&g.y===this.rightSE.point.y}},{key:"comparePoint",value:function(g){if(this.isAnEndpoint(g))return 0;var _=this.leftSE.point,O=this.rightSE.point,j=this.vector();if(_.x===O.x)return g.x===_.x?0:g.x<_.x?1:-1;var F=(g.y-_.y)/j.y,$=_.x+F*j.x;if(g.x===$)return 0;var Y=(g.x-_.x)/j.x,H=_.y+Y*j.y;return g.y===H?0:g.y<H?-1:1}},{key:"getIntersection",value:function(g){var _=this.bbox(),O=g.bbox(),j=B(_,O);if(j===null)return null;var F=this.leftSE.point,$=this.rightSE.point,Y=g.leftSE.point,H=g.rightSE.point,re=T(_,Y)&&this.comparePoint(Y)===0,pe=T(O,F)&&g.comparePoint(F)===0,_e=T(_,H)&&this.comparePoint(H)===0,be=T(O,$)&&g.comparePoint($)===0;if(pe&&re)return be&&!_e?$:!be&&_e?H:null;if(pe)return _e&&F.x===H.x&&F.y===H.y?null:F;if(re)return be&&$.x===Y.x&&$.y===Y.y?null:Y;if(be&&_e)return null;if(be)return $;if(_e)return H;var ze=Le(F,this.vector(),Y,g.vector());return ze===null?null:T(j,ze)?ne.round(ze.x,ze.y):null}},{key:"split",value:function(g){var _=[],O=g.events!==void 0,j=new Me(g,!0),F=new Me(g,!1),$=this.rightSE;this.replaceRightSE(F),_.push(F),_.push(j);var Y=new R(j,$,this.rings.slice(),this.windings.slice());return Me.comparePoints(Y.leftSE.point,Y.rightSE.point)>0&&Y.swapEvents(),Me.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),O&&(j.checkForConsuming(),F.checkForConsuming()),_}},{key:"swapEvents",value:function(){var g=this.rightSE;this.rightSE=this.leftSE,this.leftSE=g,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var _=0,O=this.windings.length;_<O;_++)this.windings[_]*=-1}},{key:"consume",value:function(g){for(var _=this,O=g;_.consumedBy;)_=_.consumedBy;for(;O.consumedBy;)O=O.consumedBy;var j=R.compare(_,O);if(j!==0){if(j>0){var F=_;_=O,O=F}if(_.prev===O){var $=_;_=O,O=$}for(var Y=0,H=O.rings.length;Y<H;Y++){var re=O.rings[Y],pe=O.windings[Y],_e=_.rings.indexOf(re);_e===-1?(_.rings.push(re),_.windings.push(pe)):_.windings[_e]+=pe}O.rings=null,O.windings=null,O.consumedBy=_,O.leftSE.consumedBy=_.leftSE,O.rightSE.consumedBy=_.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var g=this.prev.consumedBy||this.prev;this._beforeState=g.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var g=this.beforeState();this._afterState={rings:g.rings.slice(0),windings:g.windings.slice(0),multiPolys:[]};for(var _=this._afterState.rings,O=this._afterState.windings,j=this._afterState.multiPolys,F=0,$=this.rings.length;F<$;F++){var Y=this.rings[F],H=this.windings[F],re=_.indexOf(Y);re===-1?(_.push(Y),O.push(H)):O[re]+=H}for(var pe=[],_e=[],be=0,ze=_.length;be<ze;be++)if(O[be]!==0){var je=_[be],Ve=je.poly;if(_e.indexOf(Ve)===-1)if(je.isExterior)pe.push(Ve);else{_e.indexOf(Ve)===-1&&_e.push(Ve);var nt=pe.indexOf(je.poly);nt!==-1&&pe.splice(nt,1)}}for(var ot=0,dt=pe.length;ot<dt;ot++){var ht=pe[ot].multiPoly;j.indexOf(ht)===-1&&j.push(ht)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var g=this.beforeState().multiPolys,_=this.afterState().multiPolys;switch(Ge.type){case"union":var O=g.length===0,j=_.length===0;this._isInResult=O!==j;break;case"intersection":var F,$;g.length<_.length?(F=g.length,$=_.length):(F=_.length,$=g.length),this._isInResult=$===Ge.numMultiPolys&&F<$;break;case"xor":var Y=Math.abs(g.length-_.length);this._isInResult=Y%2==1;break;case"difference":var H=function(re){return re.length===1&&re[0].isSubject};this._isInResult=H(g)!==H(_);break;default:throw new Error("Unrecognized operation type found ".concat(Ge.type))}return this._isInResult}}],[{key:"fromRing",value:function(g,_,O){var j,F,$,Y=Me.comparePoints(g,_);if(Y<0)j=g,F=_,$=1;else{if(!(Y>0))throw new Error("Tried to create degenerate segment at [".concat(g.x,", ").concat(g.y,"]"));j=_,F=g,$=-1}return new R(new Me(j,!0),new Me(F,!1),[O],[$])}}]),R}(),Fe=function(){function R(g,_,O){if(l(this,R),!Array.isArray(g)||g.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=_,this.isExterior=O,this.segments=[],typeof g[0][0]!="number"||typeof g[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var j=ne.round(g[0][0],g[0][1]);this.bbox={ll:{x:j.x,y:j.y},ur:{x:j.x,y:j.y}};for(var F=j,$=1,Y=g.length;$<Y;$++){if(typeof g[$][0]!="number"||typeof g[$][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var H=ne.round(g[$][0],g[$][1]);H.x===F.x&&H.y===F.y||(this.segments.push(Ue.fromRing(F,H,this)),H.x<this.bbox.ll.x&&(this.bbox.ll.x=H.x),H.y<this.bbox.ll.y&&(this.bbox.ll.y=H.y),H.x>this.bbox.ur.x&&(this.bbox.ur.x=H.x),H.y>this.bbox.ur.y&&(this.bbox.ur.y=H.y),F=H)}j.x===F.x&&j.y===F.y||this.segments.push(Ue.fromRing(F,j,this))}return u(R,[{key:"getSweepEvents",value:function(){for(var g=[],_=0,O=this.segments.length;_<O;_++){var j=this.segments[_];g.push(j.leftSE),g.push(j.rightSE)}return g}}]),R}(),Se=function(){function R(g,_){if(l(this,R),!Array.isArray(g))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Fe(g[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var O=1,j=g.length;O<j;O++){var F=new Fe(g[O],this,!1);F.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=F.bbox.ll.x),F.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=F.bbox.ll.y),F.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=F.bbox.ur.x),F.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=F.bbox.ur.y),this.interiorRings.push(F)}this.multiPoly=_}return u(R,[{key:"getSweepEvents",value:function(){for(var g=this.exteriorRing.getSweepEvents(),_=0,O=this.interiorRings.length;_<O;_++)for(var j=this.interiorRings[_].getSweepEvents(),F=0,$=j.length;F<$;F++)g.push(j[F]);return g}}]),R}(),we=function(){function R(g,_){if(l(this,R),!Array.isArray(g))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof g[0][0][0]=="number"&&(g=[g])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var O=0,j=g.length;O<j;O++){var F=new Se(g[O],this);F.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=F.bbox.ll.x),F.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=F.bbox.ll.y),F.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=F.bbox.ur.x),F.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=F.bbox.ur.y),this.polys.push(F)}this.isSubject=_}return u(R,[{key:"getSweepEvents",value:function(){for(var g=[],_=0,O=this.polys.length;_<O;_++)for(var j=this.polys[_].getSweepEvents(),F=0,$=j.length;F<$;F++)g.push(j[F]);return g}}]),R}(),Ie=function(){function R(g){l(this,R),this.events=g;for(var _=0,O=g.length;_<O;_++)g[_].segment.ringOut=this;this.poly=null}return u(R,null,[{key:"factory",value:function(g){for(var _=[],O=0,j=g.length;O<j;O++){var F=g[O];if(F.isInResult()&&!F.ringOut){for(var $=null,Y=F.leftSE,H=F.rightSE,re=[Y],pe=Y.point,_e=[];$=Y,Y=H,re.push(Y),Y.point!==pe;)for(;;){var be=Y.getAvailableLinkedEvents();if(be.length===0){var ze=re[0].point,je=re[re.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(ze.x,",")+" ".concat(ze.y,"]. Last matching segment found ends at")+" [".concat(je.x,", ").concat(je.y,"]."))}if(be.length===1){H=be[0].otherSE;break}for(var Ve=null,nt=0,ot=_e.length;nt<ot;nt++)if(_e[nt].point===Y.point){Ve=nt;break}if(Ve===null){_e.push({index:re.length,point:Y.point});var dt=Y.getLeftmostComparator($);H=be.sort(dt)[0].otherSE;break}var ht=_e.splice(Ve)[0],at=re.splice(ht.index);at.unshift(at[0].otherSE),_.push(new R(at.reverse()))}_.push(new R(re))}}return _}}]),u(R,[{key:"getGeom",value:function(){for(var g=this.events[0].point,_=[g],O=1,j=this.events.length-1;O<j;O++){var F=this.events[O].point,$=this.events[O+1].point;ee(F,g,$)!==0&&(_.push(F),g=F)}if(_.length===1)return null;var Y=_[0],H=_[1];ee(Y,g,H)===0&&_.shift(),_.push(_[0]);for(var re=this.isExteriorRing()?1:-1,pe=this.isExteriorRing()?0:_.length-1,_e=this.isExteriorRing()?_.length:-1,be=[],ze=pe;ze!=_e;ze+=re)be.push([_[ze].x,_[ze].y]);return be}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var g=this.enclosingRing();this._isExteriorRing=!g||!g.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var g=this.events[0],_=1,O=this.events.length;_<O;_++){var j=this.events[_];Me.compare(g,j)>0&&(g=j)}for(var F=g.segment.prevInResult(),$=F?F.prevInResult():null;;){if(!F)return null;if(!$)return F.ringOut;if($.ringOut!==F.ringOut)return $.ringOut.enclosingRing()!==F.ringOut?F.ringOut:F.ringOut.enclosingRing();F=$.prevInResult(),$=F?F.prevInResult():null}}}]),R}(),pt=function(){function R(g){l(this,R),this.exteriorRing=g,g.poly=this,this.interiorRings=[]}return u(R,[{key:"addInterior",value:function(g){this.interiorRings.push(g),g.poly=this}},{key:"getGeom",value:function(){var g=[this.exteriorRing.getGeom()];if(g[0]===null)return null;for(var _=0,O=this.interiorRings.length;_<O;_++){var j=this.interiorRings[_].getGeom();j!==null&&g.push(j)}return g}}]),R}(),it=function(){function R(g){l(this,R),this.rings=g,this.polys=this._composePolys(g)}return u(R,[{key:"getGeom",value:function(){for(var g=[],_=0,O=this.polys.length;_<O;_++){var j=this.polys[_].getGeom();j!==null&&g.push(j)}return g}},{key:"_composePolys",value:function(g){for(var _=[],O=0,j=g.length;O<j;O++){var F=g[O];if(!F.poly)if(F.isExteriorRing())_.push(new pt(F));else{var $=F.enclosingRing();$.poly||_.push(new pt($)),$.poly.addInterior(F)}}return _}}]),R}(),qe=function(){function R(g){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ue.compare;l(this,R),this.queue=g,this.tree=new k(_),this.segments=[]}return u(R,[{key:"process",value:function(g){var _=g.segment,O=[];if(g.consumedBy)return g.isLeft?this.queue.remove(g.otherSE):this.tree.remove(_),O;var j=g.isLeft?this.tree.insert(_):this.tree.find(_);if(!j)throw new Error("Unable to find segment #".concat(_.id," ")+"[".concat(_.leftSE.point.x,", ").concat(_.leftSE.point.y,"] -> ")+"[".concat(_.rightSE.point.x,", ").concat(_.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var F=j,$=j,Y=void 0,H=void 0;Y===void 0;)(F=this.tree.prev(F))===null?Y=null:F.key.consumedBy===void 0&&(Y=F.key);for(;H===void 0;)($=this.tree.next($))===null?H=null:$.key.consumedBy===void 0&&(H=$.key);if(g.isLeft){var re=null;if(Y){var pe=Y.getIntersection(_);if(pe!==null&&(_.isAnEndpoint(pe)||(re=pe),!Y.isAnEndpoint(pe)))for(var _e=this._splitSafely(Y,pe),be=0,ze=_e.length;be<ze;be++)O.push(_e[be])}var je=null;if(H){var Ve=H.getIntersection(_);if(Ve!==null&&(_.isAnEndpoint(Ve)||(je=Ve),!H.isAnEndpoint(Ve)))for(var nt=this._splitSafely(H,Ve),ot=0,dt=nt.length;ot<dt;ot++)O.push(nt[ot])}if(re!==null||je!==null){var ht=null;ht=re===null?je:je===null||Me.comparePoints(re,je)<=0?re:je,this.queue.remove(_.rightSE),O.push(_.rightSE);for(var at=_.split(ht),Gt=0,ft=at.length;Gt<ft;Gt++)O.push(at[Gt])}O.length>0?(this.tree.remove(_),O.push(g)):(this.segments.push(_),_.prev=Y)}else{if(Y&&H){var Je=Y.getIntersection(H);if(Je!==null){if(!Y.isAnEndpoint(Je))for(var q=this._splitSafely(Y,Je),se=0,ge=q.length;se<ge;se++)O.push(q[se]);if(!H.isAnEndpoint(Je))for(var xe=this._splitSafely(H,Je),et=0,st=xe.length;et<st;et++)O.push(xe[et])}}this.tree.remove(_)}return O}},{key:"_splitSafely",value:function(g,_){this.tree.remove(g);var O=g.rightSE;this.queue.remove(O);var j=g.split(_);return j.push(O),g.consumedBy===void 0&&this.tree.insert(g),j}}]),R}(),gt=typeof process<"u"&&ns.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,ct=typeof process<"u"&&ns.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Ge=new(function(){function R(){l(this,R)}return u(R,[{key:"run",value:function(g,_,O){Ge.type=g,ne.reset();for(var j=[new we(_,!0)],F=0,$=O.length;F<$;F++)j.push(new we(O[F],!1));if(Ge.numMultiPolys=j.length,Ge.type==="difference")for(var Y=j[0],H=1;H<j.length;)B(j[H].bbox,Y.bbox)!==null?H++:j.splice(H,1);if(Ge.type==="intersection"){for(var re=0,pe=j.length;re<pe;re++)for(var _e=j[re],be=re+1,ze=j.length;be<ze;be++)if(B(_e.bbox,j[be].bbox)===null)return[]}for(var je=new k(Me.compare),Ve=0,nt=j.length;Ve<nt;Ve++)for(var ot=j[Ve].getSweepEvents(),dt=0,ht=ot.length;dt<ht;dt++)if(je.insert(ot[dt]),je.size>gt)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var at=new qe(je),Gt=je.size,ft=je.pop();ft;){var Je=ft.key;if(je.size===Gt){var q=Je.segment;throw new Error("Unable to pop() ".concat(Je.isLeft?"left":"right"," SweepEvent ")+"[".concat(Je.point.x,", ").concat(Je.point.y,"] from segment #").concat(q.id," ")+"[".concat(q.leftSE.point.x,", ").concat(q.leftSE.point.y,"] -> ")+"[".concat(q.rightSE.point.x,", ").concat(q.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(je.size>gt)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(at.segments.length>ct)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var se=at.process(Je),ge=0,xe=se.length;ge<xe;ge++){var et=se[ge];et.consumedBy===void 0&&je.insert(et)}Gt=je.size,ft=je.pop()}ne.reset();var st=Ie.factory(at.segments);return new it(st).getGeom()}}]),R}()),Ne=function(R){for(var g=arguments.length,_=new Array(g>1?g-1:0),O=1;O<g;O++)_[O-1]=arguments[O];return Ge.run("union",R,_)},We=function(R){for(var g=arguments.length,_=new Array(g>1?g-1:0),O=1;O<g;O++)_[O-1]=arguments[O];return Ge.run("intersection",R,_)},St=function(R){for(var g=arguments.length,_=new Array(g>1?g-1:0),O=1;O<g;O++)_[O-1]=arguments[O];return Ge.run("xor",R,_)},mt=function(R){for(var g=arguments.length,_=new Array(g>1?g-1:0),O=1;O<g;O++)_[O-1]=arguments[O];return Ge.run("difference",R,_)};return{union:Ne,intersection:We,xor:St,difference:mt}}()},2582:function(o){o.exports=function(){function l(w,T,B,I,U){(function Z(J,oe,ne,K,ae){for(;K>ne;){if(K-ne>600){var ee=K-ne+1,de=oe-ne+1,V=Math.log(ee),X=.5*Math.exp(2*V/3),ue=.5*Math.sqrt(V*X*(ee-X)/ee)*(de-ee/2<0?-1:1);Z(J,oe,Math.max(ne,Math.floor(oe-de*X/ee+ue)),Math.min(K,Math.floor(oe+(ee-de)*X/ee+ue)),ae)}var ke=J[oe],Le=ne,Me=K;for(a(J,ne,oe),ae(J[K],ke)>0&&a(J,ne,K);Le<Me;){for(a(J,Le,Me),Le++,Me--;ae(J[Le],ke)<0;)Le++;for(;ae(J[Me],ke)>0;)Me--}ae(J[ne],ke)===0?a(J,ne,Me):a(J,++Me,K),Me<=oe&&(ne=Me+1),oe<=Me&&(K=Me-1)}})(w,T,B||0,I||w.length-1,U||u)}function a(w,T,B){var I=w[T];w[T]=w[B],w[B]=I}function u(w,T){return w<T?-1:w>T?1:0}var c=function(w){w===void 0&&(w=9),this._maxEntries=Math.max(4,w),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function d(w,T,B){if(!B)return T.indexOf(w);for(var I=0;I<T.length;I++)if(B(w,T[I]))return I;return-1}function f(w,T){v(w,0,w.children.length,T,w)}function v(w,T,B,I,U){U||(U=S(null)),U.minX=1/0,U.minY=1/0,U.maxX=-1/0,U.maxY=-1/0;for(var Z=T;Z<B;Z++){var J=w.children[Z];b(U,w.leaf?I(J):J)}return U}function b(w,T){return w.minX=Math.min(w.minX,T.minX),w.minY=Math.min(w.minY,T.minY),w.maxX=Math.max(w.maxX,T.maxX),w.maxY=Math.max(w.maxY,T.maxY),w}function x(w,T){return w.minX-T.minX}function P(w,T){return w.minY-T.minY}function k(w){return(w.maxX-w.minX)*(w.maxY-w.minY)}function y(w){return w.maxX-w.minX+(w.maxY-w.minY)}function E(w,T){return w.minX<=T.minX&&w.minY<=T.minY&&T.maxX<=w.maxX&&T.maxY<=w.maxY}function m(w,T){return T.minX<=w.maxX&&T.minY<=w.maxY&&T.maxX>=w.minX&&T.maxY>=w.minY}function S(w){return{children:w,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function A(w,T,B,I,U){for(var Z=[T,B];Z.length;)if(!((B=Z.pop())-(T=Z.pop())<=I)){var J=T+Math.ceil((B-T)/I/2)*I;l(w,J,T,B,U),Z.push(T,J,J,B)}}return c.prototype.all=function(){return this._all(this.data,[])},c.prototype.search=function(w){var T=this.data,B=[];if(!m(w,T))return B;for(var I=this.toBBox,U=[];T;){for(var Z=0;Z<T.children.length;Z++){var J=T.children[Z],oe=T.leaf?I(J):J;m(w,oe)&&(T.leaf?B.push(J):E(w,oe)?this._all(J,B):U.push(J))}T=U.pop()}return B},c.prototype.collides=function(w){var T=this.data;if(!m(w,T))return!1;for(var B=[];T;){for(var I=0;I<T.children.length;I++){var U=T.children[I],Z=T.leaf?this.toBBox(U):U;if(m(w,Z)){if(T.leaf||E(w,Z))return!0;B.push(U)}}T=B.pop()}return!1},c.prototype.load=function(w){if(!w||!w.length)return this;if(w.length<this._minEntries){for(var T=0;T<w.length;T++)this.insert(w[T]);return this}var B=this._build(w.slice(),0,w.length-1,0);if(this.data.children.length)if(this.data.height===B.height)this._splitRoot(this.data,B);else{if(this.data.height<B.height){var I=this.data;this.data=B,B=I}this._insert(B,this.data.height-B.height-1,!0)}else this.data=B;return this},c.prototype.insert=function(w){return w&&this._insert(w,this.data.height-1),this},c.prototype.clear=function(){return this.data=S([]),this},c.prototype.remove=function(w,T){if(!w)return this;for(var B,I,U,Z=this.data,J=this.toBBox(w),oe=[],ne=[];Z||oe.length;){if(Z||(Z=oe.pop(),I=oe[oe.length-1],B=ne.pop(),U=!0),Z.leaf){var K=d(w,Z.children,T);if(K!==-1)return Z.children.splice(K,1),oe.push(Z),this._condense(oe),this}U||Z.leaf||!E(Z,J)?I?(B++,Z=I.children[B],U=!1):Z=null:(oe.push(Z),ne.push(B),B=0,I=Z,Z=Z.children[0])}return this},c.prototype.toBBox=function(w){return w},c.prototype.compareMinX=function(w,T){return w.minX-T.minX},c.prototype.compareMinY=function(w,T){return w.minY-T.minY},c.prototype.toJSON=function(){return this.data},c.prototype.fromJSON=function(w){return this.data=w,this},c.prototype._all=function(w,T){for(var B=[];w;)w.leaf?T.push.apply(T,w.children):B.push.apply(B,w.children),w=B.pop();return T},c.prototype._build=function(w,T,B,I){var U,Z=B-T+1,J=this._maxEntries;if(Z<=J)return f(U=S(w.slice(T,B+1)),this.toBBox),U;I||(I=Math.ceil(Math.log(Z)/Math.log(J)),J=Math.ceil(Z/Math.pow(J,I-1))),(U=S([])).leaf=!1,U.height=I;var oe=Math.ceil(Z/J),ne=oe*Math.ceil(Math.sqrt(J));A(w,T,B,ne,this.compareMinX);for(var K=T;K<=B;K+=ne){var ae=Math.min(K+ne-1,B);A(w,K,ae,oe,this.compareMinY);for(var ee=K;ee<=ae;ee+=oe){var de=Math.min(ee+oe-1,ae);U.children.push(this._build(w,ee,de,I-1))}}return f(U,this.toBBox),U},c.prototype._chooseSubtree=function(w,T,B,I){for(;I.push(T),!T.leaf&&I.length-1!==B;){for(var U=1/0,Z=1/0,J=void 0,oe=0;oe<T.children.length;oe++){var ne=T.children[oe],K=k(ne),ae=(ee=w,de=ne,(Math.max(de.maxX,ee.maxX)-Math.min(de.minX,ee.minX))*(Math.max(de.maxY,ee.maxY)-Math.min(de.minY,ee.minY))-K);ae<Z?(Z=ae,U=K<U?K:U,J=ne):ae===Z&&K<U&&(U=K,J=ne)}T=J||T.children[0]}var ee,de;return T},c.prototype._insert=function(w,T,B){var I=B?w:this.toBBox(w),U=[],Z=this._chooseSubtree(I,this.data,T,U);for(Z.children.push(w),b(Z,I);T>=0&&U[T].children.length>this._maxEntries;)this._split(U,T),T--;this._adjustParentBBoxes(I,U,T)},c.prototype._split=function(w,T){var B=w[T],I=B.children.length,U=this._minEntries;this._chooseSplitAxis(B,U,I);var Z=this._chooseSplitIndex(B,U,I),J=S(B.children.splice(Z,B.children.length-Z));J.height=B.height,J.leaf=B.leaf,f(B,this.toBBox),f(J,this.toBBox),T?w[T-1].children.push(J):this._splitRoot(B,J)},c.prototype._splitRoot=function(w,T){this.data=S([w,T]),this.data.height=w.height+1,this.data.leaf=!1,f(this.data,this.toBBox)},c.prototype._chooseSplitIndex=function(w,T,B){for(var I,U,Z,J,oe,ne,K,ae=1/0,ee=1/0,de=T;de<=B-T;de++){var V=v(w,0,de,this.toBBox),X=v(w,de,B,this.toBBox),ue=(U=V,Z=X,J=void 0,oe=void 0,ne=void 0,K=void 0,J=Math.max(U.minX,Z.minX),oe=Math.max(U.minY,Z.minY),ne=Math.min(U.maxX,Z.maxX),K=Math.min(U.maxY,Z.maxY),Math.max(0,ne-J)*Math.max(0,K-oe)),ke=k(V)+k(X);ue<ae?(ae=ue,I=de,ee=ke<ee?ke:ee):ue===ae&&ke<ee&&(ee=ke,I=de)}return I||B-T},c.prototype._chooseSplitAxis=function(w,T,B){var I=w.leaf?this.compareMinX:x,U=w.leaf?this.compareMinY:P;this._allDistMargin(w,T,B,I)<this._allDistMargin(w,T,B,U)&&w.children.sort(I)},c.prototype._allDistMargin=function(w,T,B,I){w.children.sort(I);for(var U=this.toBBox,Z=v(w,0,T,U),J=v(w,B-T,B,U),oe=y(Z)+y(J),ne=T;ne<B-T;ne++){var K=w.children[ne];b(Z,w.leaf?U(K):K),oe+=y(Z)}for(var ae=B-T-1;ae>=T;ae--){var ee=w.children[ae];b(J,w.leaf?U(ee):ee),oe+=y(J)}return oe},c.prototype._adjustParentBBoxes=function(w,T,B){for(var I=B;I>=0;I--)b(T[I],w)},c.prototype._condense=function(w){for(var T=w.length-1,B=void 0;T>=0;T--)w[T].children.length===0?T>0?(B=w[T-1].children).splice(B.indexOf(w[T]),1):this.clear():f(w[T],this.toBBox)},c}()}},n={};function i(o){var l=n[o];if(l!==void 0)return l.exports;var a=n[o]={id:o,loaded:!1,exports:{}};return e[o].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}i.n=o=>{var l=o&&o.__esModule?()=>o.default:()=>o;return i.d(l,{a:l}),l},i.d=(o,l)=>{for(var a in l)i.o(l,a)&&!i.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:l[a]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(o,l)=>Object.prototype.hasOwnProperty.call(o,l),i.nmd=o=>(o.paths=[],o.children||(o.children=[]),o),(()=>{i(7107);var o=i(2492),l=i.n(o);const a=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),u=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex lschen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer lschen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verknpfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"Lnge","segmentLength":"Segment Lnge","area":"Flche","radius":"Radius","perimeter":"Umfang","height":"Hhe","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),c=JSON.parse(`{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}`),d=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),f=JSON.parse('{"tooltips":{"placeMarker":"Adaug un punct","firstVertex":"Apas aici pentru a aduga primul Vertex","continueLine":"Apas aici pentru a continua desenul","finishLine":"Apas pe orice obiect pentru a finisa desenul","finishPoly":"Apas pe primul obiect pentru a finisa","finishRect":"Apas pentru a finisa","startCircle":"Apas pentru a desena un cerc","finishCircle":"Apas pentru a finisa un cerc","placeCircleMarker":"Adaug un punct"},"actions":{"finish":"Termin","cancel":"Anuleaz","removeLastVertex":"terge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaug o bulin","drawPolyButton":"Deseneaz un poligon","drawLineButton":"Deseneaz o linie","drawCircleButton":"Deseneaz un cerc","drawRectButton":"Deseneaz un dreptunghi","editButton":"Editeaz straturile","dragButton":"Mut straturile","cutButton":"Taie straturile","deleteButton":"terge straturile","drawCircleMarkerButton":"Deseneaz marcatorul cercului","snappingButton":"Fixai marcatorul glisat pe alte straturi i vrfuri","pinningButton":"Fixai vrfurile partajate mpreun"}}'),v=JSON.parse('{"tooltips":{"placeMarker":",   ","firstVertex":",    ","continueLine":",   ","finishLine":"     ","finishPoly":"  ,  ","finishRect":",  ","startCircle":",    ","finishCircle":",   ","placeCircleMarker":",    "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"   "}}'),b=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer vrtice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del crculo","finishCircle":"Presiona para finalizar el crculo","placeCircleMarker":"Presiona para colocar un marcador de crculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar ltimo vrtice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Polgono","drawLineButton":"Dibujar Lnea","drawCircleButton":"Dibujar Crculo","drawRectButton":"Dibujar Rectngulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de Crculo","snappingButton":"El marcador de Snap arrastrado a otras capas y vrtices","pinningButton":"Fijar juntos los vrtices compartidos"}}'),x=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te beindigen","finishPoly":"Klik op het eerst punt om te beindigen","finishRect":"Klik om te beindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te beindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),P=JSON.parse(`{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer  dessiner","finishLine":"Cliquez sur n'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"diter des calques","dragButton":"Dplacer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d'autres couches et sommets","pinningButton":"pingler ensemble les sommets partags","rotateButton":"Tourner des calques"}}`),k=JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":""}}'),y=JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":""}}'),E={en:a,de:u,it:c,id:d,ro:f,ru:v,es:b,nl:x,fr:P,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro vrtice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o polgono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do crculo","finishCircle":"Clique para fechar o crculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover ltimo vrtice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um polgono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um crculo","drawRectButton":"Desenhar um retngulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de crculos de desenho","snappingButton":"Marcador arrastado para outras camadas e vrtices","pinningButton":"Vrtices compartilhados de pinos juntos"}}'),zh:k,zh_tw:y,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby umieci znacznik","firstVertex":"Kliknij, aby umieci pierwszy wierzchoek","continueLine":"Kliknij, aby kontynuowa rysowanie","finishLine":"Kliknij dowolny istniejcy znacznik, aby zakoczy","finishPoly":"Kliknij pierwszy znacznik, aby zakoczy","finishRect":"Kliknij, aby zakoczy","startCircle":"Kliknij, aby umieci rodek okrgu","finishCircle":"Kliknij, aby zakoczy okrg","placeCircleMarker":"Kliknij, aby umieci znacznik okrgu","placeText":"Kliknij, aby umieci tekst"},"actions":{"finish":"Zakocz","cancel":"Anuluj","removeLastVertex":"Usu ostatni wierzchoek"},"buttonTitles":{"drawMarkerButton":"Rysuj znacznik","drawPolyButton":"Rysuj wielokt","drawLineButton":"Rysuj lini","drawCircleButton":"Rysuj okrg","drawRectButton":"Rysuj prostokt","editButton":"Edytuj warstwy","dragButton":"Przecignij warstwy","cutButton":"Wytnij warstwy","deleteButton":"Usu warstwy","drawCircleMarkerButton":"Rysuj znacznik okrgy","snappingButton":"Przycignij przenoszony znacznik do innych warstw i wierzchokw","pinningButton":"Przypnij wsplne wierzchoki razem","rotateButton":"Obr warstwy","drawTextButton":"Rysuj tekst","scaleButton":"Skaluj warstwy","autoTracingButton":"Automatyczne ledzenie linii"},"measurements":{"totalLength":"Dugo","segmentLength":"Dugo odcinka","area":"Obszar","radius":"Promie","perimeter":"Obwd","height":"Wysoko","width":"Szeroko","coordinates":"Pozycja","coordinatesMarker":"Znacznik pozycji"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka fr att placera markr","firstVertex":"Klicka fr att placera frsta hrnet","continueLine":"Klicka fr att fortstta rita","finishLine":"Klicka p en existerande punkt fr att slutfra","finishPoly":"Klicka p den frsta punkten fr att slutfra","finishRect":"Klicka fr att slutfra","startCircle":"Klicka fr att placera cirkelns centrum","finishCircle":"Klicka fr att slutfra cirkeln","placeCircleMarker":"Klicka fr att placera cirkelmarkr"},"actions":{"finish":"Slutfr","cancel":"Avbryt","removeLastVertex":"Ta bort sista hrnet"},"buttonTitles":{"drawMarkerButton":"Rita Markr","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmarkr","snappingButton":"Snpp dra markren till andra lager och hrn","pinningButton":"Fst delade hrn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"     ","firstVertex":"       ","continueLine":"      ","finishLine":"        ","finishPoly":"       ","finishRect":"    ","startCircle":"      ","finishCircle":"      ","placeCircleMarker":"      "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"        ","pinningButton":"   "}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jell elhelyezshez","firstVertex":"Kattintson az els pont elhelyezshez","continueLine":"Kattintson a kvetkez pont elhelyezshez","finishLine":"A befejezshez kattintson egy meglv pontra","finishPoly":"A befejezshez kattintson az els pontra","finishRect":"Kattintson a befejezshez","startCircle":"Kattintson a kr kzppontjnak elhelyezshez","finishCircle":"Kattintson a kr befejezshez","placeCircleMarker":"Kattintson a krjell elhelyezshez"},"actions":{"finish":"Befejezs","cancel":"Mgse","removeLastVertex":"Utols pont eltvoltsa"},"buttonTitles":{"drawMarkerButton":"Jell rajzolsa","drawPolyButton":"Poligon rajzolsa","drawLineButton":"Vonal rajzolsa","drawCircleButton":"Kr rajzolsa","drawRectButton":"Ngyzet rajzolsa","editButton":"Elemek szerkesztse","dragButton":"Elemek mozgatsa","cutButton":"Elemek vgsa","deleteButton":"Elemek trlse","drawCircleMarkerButton":"Kr jell rajzolsa","snappingButton":"Kapcsolja a jelltt msik elemhez vagy ponthoz","pinningButton":"Kzs pontok sszektse"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en markr","firstVertex":"Tryk for at placere det frste punkt","continueLine":"Tryk for at fortstte linjen","finishLine":"Tryk p et eksisterende punkt for at afslutte","finishPoly":"Tryk p det frste punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmarkr"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer markr","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Trk","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmarkr","snappingButton":"Fastgr trukket markr til andre elementer","pinningButton":"Sammenlg delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for  plassere punkt","firstVertex":"Klikk for  plassere frste punkt","continueLine":"Klikk for  tegne videre","finishLine":"Klikk p et eksisterende punkt for  fullfre","finishPoly":"Klikk frste punkt for  fullfre","finishRect":"Klikk for  fullfre","startCircle":"Klikk for  sette sirkel midtpunkt","finishCircle":"Klikk for  fullfre sirkel","placeCircleMarker":"Klikk for  plassere sirkel","placeText":"Klikk for  plassere tekst"},"actions":{"finish":"Fullfr","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn punkt","drawPolyButton":"Tegn flate","drawLineButton":"Tegn linje","drawCircleButton":"Tegn sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger objekter","dragButton":"Dra objekter","cutButton":"Kutt objekter","deleteButton":"Fjern objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkter sammen","rotateButton":"Rotr objekter","drawTextButton":"Tegn tekst","scaleButton":"Skalr objekter","autoTracingButton":"Automatisk sporing av linje"},"measurements":{"totalLength":"Lengde","segmentLength":"Segmentlengde","area":"Omrde","radius":"Radius","perimeter":"Omriss","height":"Hyde","width":"Bredde","coordinates":"Posisjon","coordinatesMarker":"Posisjonsmarkr"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"   ","firstVertex":"    ","continueLine":"   ","finishLine":"      ","finishPoly":"     ","finishRect":"  ","startCircle":"    ","finishCircle":"    ","placeCircleMarker":"    ","placeText":"   "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"      ","rotateButton":" ","drawTextButton":" ","scaleButton":"","autoTracingButton":" "},"measurements":{"totalLength":"","segmentLength":" ","area":"","radius":"","perimeter":"","height":"","width":"","coordinates":"","coordinatesMarker":" "}}'),ua:JSON.parse(`{"tooltips":{"placeMarker":",   ","firstVertex":",    ","continueLine":",   ","finishLine":" -    ","finishPoly":"  ,  ","finishRect":",  ","startCircle":",    ","finishCircle":",   ","placeCircleMarker":",    "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"'   "}}`),tr:JSON.parse('{"tooltips":{"placeMarker":"areti yerletirmek iin tklayn","firstVertex":"lk tepe noktasn yerletirmek iin tklayn","continueLine":"izime devam etmek iin tklayn","finishLine":"Bitirmek iin mevcut herhangi bir iaretiyi tklayn","finishPoly":"Bitirmek iin ilk iaretiyi tklayn","finishRect":"Bitirmek iin tklayn","startCircle":"Daire merkezine yerletirmek iin tklayn","finishCircle":"Daireyi bitirmek iin tklayn","placeCircleMarker":"Daire iaretisi yerletirmek iin tklayn"},"actions":{"finish":"Bitir","cancel":"ptal","removeLastVertex":"Son keyi kaldr"},"buttonTitles":{"drawMarkerButton":"izim aretisi","drawPolyButton":"okgenler iz","drawLineButton":"oklu izgi iz","drawCircleButton":"ember iz","drawRectButton":"Dikdrtgen iz","editButton":"Katmanlar dzenle","dragButton":"Katmanlar srkle","cutButton":"Katmanlar kes","deleteButton":"Katmanlar kaldr","drawCircleMarkerButton":"Daire iaretisi iz","snappingButton":"Srklenen iaretiyi dier katmanlara ve kelere yaptr","pinningButton":"Paylalan keleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"Kliknutm vytvote znaku","firstVertex":"Kliknutm vytvote prvn objekt","continueLine":"Kliknutm pokraujte v kreslen","finishLine":"Kliknut na libovolnou existujc znaku pro dokonen","finishPoly":"Vyberte prvn bod pro dokonen","finishRect":"Kliknte pro dokonen","startCircle":"Kliknutm pidejte sted kruhu","finishCircle":",   ","placeCircleMarker":"Kliknutm nastavte polomr"},"actions":{"finish":"Dokonit","cancel":"Zruit","removeLastVertex":"Zruit posledn akci"},"buttonTitles":{"drawMarkerButton":"Pidat znaku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit kivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obdlnk","editButton":"Upravit vrstvu","dragButton":"Peneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"Pidat kruhovou znaku","snappingButton":"Navzat tanou znaku k dalm vrstvm a vrcholm","pinningButton":"Spojit spolen body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":"","placeText":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":"","rotateButton":"","drawTextButton":""}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimmisen osuuden","continueLine":"Klikkaa jatkaaksesi piirtmist","finishLine":"Klikkaa olemassa olevaa merkki lopettaaksesi","finishPoly":"Klikkaa ensimmist merkki lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyrn keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyrn","placeCircleMarker":"Klikkaa asettaaksesi ympyrmerkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"Piirr merkkej","drawPolyButton":"Piirr monikulmioita","drawLineButton":"Piirr viivoja","drawCircleButton":"Piirr ympyr","drawRectButton":"Piirr neliskulmioita","editButton":"Muokkaa","dragButton":"Siirr","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"Piirr ympyrmerkki","snappingButton":"Kiinnit siirrettv merkki toisiin muotoihin","pinningButton":"Kiinnit jaetut muodot yhteen","rotateButton":"Knn","drawTextButton":"Piirr teksti"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"  ","firstVertex":"   ","continueLine":"  ","finishLine":"   ","finishPoly":"   ","finishRect":" ","startCircle":"    ","finishCircle":"  ","placeCircleMarker":"   ","placeText":"  "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"   ","rotateButton":" ","drawTextButton":" "}}')};function m(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(t);r&&(h=h.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),s.push.apply(s,h)}return s}function S(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?m(Object(s),!0).forEach(function(h){A(t,h,s[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach(function(h){Object.defineProperty(t,h,Object.getOwnPropertyDescriptor(s,h))})}return t}function A(t,r,s){return r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}const w={_globalEditModeEnabled:!1,enableGlobalEditMode:function(t){var r=this,s=S({},t);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(function(h){r._isRelevantForEdit(h)&&h.pm.enable(s)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(function(t){t.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(t)},handleLayerAdditionInGlobalEditMode:function(){var t=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(var r in t){var s=t[r];this._isRelevantForEdit(s)&&s.pm.enable(S({},this.globalOptions))}},_layerAddedEdit:function(t){var r=t.layer;this._addedLayersEdit[L.stamp(r)]=r},_isRelevantForEdit:function(t){return t.pm&&!(t instanceof L.LayerGroup)&&(!L.PM.optIn&&!t.options.pmIgnore||L.PM.optIn&&t.options.pmIgnore===!1)&&!t._pmTempLayer&&t.pm.options.allowEditing}},T={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var t=this,r=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},r.forEach(function(s){t._isRelevantForDrag(s)&&s.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var t=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,t.forEach(function(r){r.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var t=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(var r in t){var s=t[r];this._isRelevantForDrag(s)&&s.pm.enableLayerDrag()}},_layerAddedDrag:function(t){var r=t.layer;this._addedLayersDrag[L.stamp(r)]=r},_isRelevantForDrag:function(t){return t.pm&&!(t instanceof L.LayerGroup)&&(!L.PM.optIn&&!t.options.pmIgnore||L.PM.optIn&&t.options.pmIgnore===!1)&&!t._pmTempLayer&&t.pm.options.draggable}},B={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var t=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer(function(r){t._isRelevantForRemoval(r)&&(r.pm.enabled()&&r.pm.disable(),r.on("click",t.removeLayer,t))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var t=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer(function(r){r.off("click",t.removeLayer,t)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer:function(t){var r=t.target;this._isRelevantForRemoval(r)&&!r.pm.dragging()&&(r.removeFrom(this.map.pm._getContainingLayer()),r.remove(),r instanceof L.LayerGroup?(this._fireRemoveLayerGroup(r),this._fireRemoveLayerGroup(this.map,r)):(r.pm._fireRemove(r),r.pm._fireRemove(this.map,r)))},_isRelevantForRemoval:function(t){return t.pm&&!(t instanceof L.LayerGroup)&&(!L.PM.optIn&&!t.options.pmIgnore||L.PM.optIn&&t.options.pmIgnore===!1)&&!t._pmTempLayer&&t.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode:function(){var t=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(var r in t){var s=t[r];this._isRelevantForRemoval(s)&&(s.pm.enabled()&&s.pm.disable(),s.on("click",this.removeLayer,this))}},_layerAddedRemoval:function(t){var r=t.layer;this._addedLayersRemoval[L.stamp(r)]=r}},I={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var t=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(function(r){return r instanceof L.Polyline}).forEach(function(r){t._isRelevantForRotate(r)&&r.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(function(t){return t instanceof L.Polyline}).forEach(function(t){t.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate:function(t){return t.pm&&t instanceof L.Polyline&&!(t instanceof L.LayerGroup)&&(!L.PM.optIn&&!t.options.pmIgnore||L.PM.optIn&&t.options.pmIgnore===!1)&&!t._pmTempLayer&&t.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode:function(){var t=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(var r in t){var s=t[r];this._isRelevantForRemoval(s)&&s.pm.enableRotate()}},_layerAddedRotate:function(t){var r=t.layer;this._addedLayersRotate[L.stamp(r)]=r}};function U(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(t);r&&(h=h.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),s.push.apply(s,h)}return s}function Z(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?U(Object(s),!0).forEach(function(h){J(t,h,s[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):U(Object(s)).forEach(function(h){Object.defineProperty(t,h,Object.getOwnPropertyDescriptor(s,h))})}return t}function J(t,r,s){return r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}var oe={_fireDrawStart:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},t,r)},_fireDrawEnd:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawend",{shape:this._shape},t,r)},_fireCreate:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Draw",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._map,"pm:create",{shape:this._shape,marker:t,layer:t},r,s)},_fireCenterPlaced:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t==="Draw"?this._layer:void 0,h=t!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:s,layer:h,latlng:this._layer.getLatLng()},t,r)},_fireCut:function(t,r,s){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Draw",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(t,"pm:cut",{shape:this._shape,layer:r,originalLayer:s},h,p)},_fireEdit:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._layer,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(t,"pm:edit",{layer:this._layer,shape:this.getShape()},r,s)},_fireEnable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},t,r)},_fireDisable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},t,r)},_fireUpdate:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},t,r)},_fireMarkerDragStart:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:t,shape:this.getShape(),indexPath:r},s,h)},_fireMarkerDrag:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:t,shape:this.getShape(),indexPath:r},s,h)},_fireMarkerDragEnd:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:t,shape:this.getShape(),indexPath:r,intersectionReset:s},h,p)},_fireDragStart:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},t,r)},_fireDrag:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:drag",Z(Z({},t),{},{shape:this.getShape()}),r,s)},_fireDragEnd:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},t,r)},_fireDragEnable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},t,r)},_fireDragDisable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},t,r)},_fireRemove:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:remove",{layer:r,shape:this.getShape()},s,h)},_fireVertexAdded:function(t,r,s){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:t,indexPath:r,latlng:s,shape:this.getShape()},h,p)},_fireVertexRemoved:function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:t,indexPath:r,shape:this.getShape()},s,h)},_fireVertexClick:function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:t,indexPath:r,shape:this.getShape()},s,h)},_fireIntersect:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._layer,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:intersect",{layer:this._layer,intersection:t,shape:this.getShape()},s,h)},_fireLayerReset:function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:t,indexPath:r,shape:this.getShape()},s,h)},_fireChange:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:t,shape:this.getShape()},r,s)},_fireTextChange:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:t,shape:this.getShape()},r,s)},_fireTextFocus:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},t,r)},_fireTextBlur:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},t,r)},_fireSnapDrag:function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:snapdrag",r,s,h)},_fireSnap:function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:snap",r,s,h)},_fireUnsnap:function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:unsnap",r,s,h)},_fireRotationEnable:function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},s,h)},_fireRotationDisable:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Rotation",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(t,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},r,s)},_fireRotationStart:function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:r},s,h)},_fireRotation:function(t,r,s){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this._rotationLayer,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Rotation",C=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(t,"pm:rotate",{layer:h,helpLayer:this._layer,startAngle:this._startAngle,angle:h.pm.getAngle(),angleDiff:r,oldLatLngs:s,newLatLngs:h.getLatLngs()},p,C)},_fireRotationEnd:function(t,r,s){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Rotation",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(t,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:r,angle:this._rotationLayer.pm.getAngle(),originLatLngs:s,newLatLngs:this._rotationLayer.getLatLngs()},h,p)},_fireActionClick:function(t,r,s){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Toolbar",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._map,"pm:actionclick",{text:t.text,action:t,btnName:r,button:s},h,p)},_fireButtonClick:function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Toolbar",h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._map,"pm:buttonclick",{btnName:t,button:r},s,h)},_fireLangChange:function(t,r,s,h){var p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Global",C=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(this.map,"pm:langchange",{oldLang:t,activeLang:r,fallback:s,translations:h},p,C)},_fireGlobalDragModeToggled:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:t,map:this.map},r,s)},_fireGlobalEditModeToggled:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:t,map:this.map},r,s)},_fireGlobalRemovalModeToggled:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:t,map:this.map},r,s)},_fireGlobalCutModeToggled:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},t,r)},_fireGlobalDrawModeToggled:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},t,r)},_fireGlobalRotateModeToggled:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},t,r)},_fireRemoveLayerGroup:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(t,"pm:remove",{layer:r,shape:void 0},s,h)},_fireKeyeventEvent:function(t,r,s){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Global",p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this.map,"pm:keyevent",{event:t,eventType:r,focusOn:s},h,p)},__fire:function(t,r,s,h){var p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};s=l()(s,p,{source:h}),L.PM.Utils._fireEvent(t,r,s)}};const ne=oe,K={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(t){this.map=t,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(t){var r="document";this.map.getContainer().contains(t.target)&&(r="map");var s={event:t,eventType:t.type,focusOn:r};this._lastEvents[t.type]=s,this._lastEvents.current=s,this.map.pm._fireKeyeventEvent(t,t.type,r)},_onBlur:function(t){t.altKey=!1;var r={event:t,eventType:t.type,focusOn:"document"};this._lastEvents[t.type]=r,this._lastEvents.current=r},getLastKeyEvent:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"current";return this._lastEvents[t]},isShiftKeyPressed:function(){var t;return(t=this._lastEvents.current)===null||t===void 0?void 0:t.event.shiftKey},isAltKeyPressed:function(){var t;return(t=this._lastEvents.current)===null||t===void 0?void 0:t.event.altKey},isCtrlKeyPressed:function(){var t;return(t=this._lastEvents.current)===null||t===void 0?void 0:t.event.ctrlKey},isMetaKeyPressed:function(){var t;return(t=this._lastEvents.current)===null||t===void 0?void 0:t.event.metaKey},getPressedKey:function(){var t;return(t=this._lastEvents.current)===null||t===void 0?void 0:t.event.key}};var ae=i(7361),ee=i.n(ae),de=i(8721),V=i.n(de);function X(t){var r=L.PM.activeLang;return V()(E,r)||(r="en"),ee()(E[r],t)}function ue(t){for(var r=0;r<t.length;r+=1){var s=t[r];if(Array.isArray(s)){if(ue(s))return!0}else if(s!=null&&s!=="")return!0}return!1}function ke(t){return t.reduce(function(r,s){if(s.length!==0){var h=Array.isArray(s)?ke(s):s;Array.isArray(h)?h.length!==0&&r.push(h):r.push(h)}return r},[])}function Le(t,r,s){for(var h,p,C,D={a:L.CRS.Earth.R,b:63567523142e-4,f:1/298.257223563},z=D.a,N=D.b,G=D.f,W=t.lng,ie=t.lat,te=s,ce=Math.PI,ve=r*ce/180,Te=Math.sin(ve),De=Math.cos(ve),Xe=(1-G)*Math.tan(ie*ce/180),Ke=1/Math.sqrt(1+Xe*Xe),lt=Xe*Ke,Ut=Math.atan2(Xe,De),Nt=Ke*Te,Ti=1-Nt*Nt,kn=Ti*(z*z-N*N)/(N*N),$o=1+kn/16384*(4096+kn*(kn*(320-175*kn)-768)),Ri=kn/1024*(256+kn*(kn*(74-47*kn)-128)),Dn=te/(N*$o),Vo=2*Math.PI;Math.abs(Dn-Vo)>1e-12;)h=Math.cos(2*Ut+Dn),Vo=Dn,Dn=te/(N*$o)+Ri*(p=Math.sin(Dn))*(h+Ri/4*((C=Math.cos(Dn))*(2*h*h-1)-Ri/6*h*(4*p*p-3)*(4*h*h-3)));var Ho=lt*p-Ke*C*De,su=Math.atan2(lt*C+Ke*p*De,(1-G)*Math.sqrt(Nt*Nt+Ho*Ho)),Bi=G/16*Ti*(4+G*(4-3*Ti)),lu=W+180*(Math.atan2(p*Te,Ke*C-lt*p*De)-(1-Bi)*G*Nt*(Dn+Bi*p*(h+Bi*C*(2*h*h-1))))/ce,uu=180*su/ce;return L.latLng(lu,uu)}function Me(t,r,s,h){for(var p,C,D=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],z=[],N=0;N<s;N+=1){if(D)p=Le(t,360*N/s+h,r),C=L.latLng(p.lng,p.lat);else{var G=t.lat+Math.cos(2*N*Math.PI/s)*r,W=t.lng+Math.sin(2*N*Math.PI/s)*r;C=L.latLng(G,W)}z.push(C)}return z}function He(t,r,s){var h=t.latLngToContainerPoint(r),p=t.latLngToContainerPoint(s),C=180*Math.atan2(p.y-h.y,p.x-h.x)/Math.PI+90;return C+=C<0?360:0}function Ue(t,r,s,h){return function(p,C,D){C=(C+360)%360;var z=Math.PI/180,N=180/Math.PI,G=L.CRS.Earth.R,W=p.lng*z,ie=p.lat*z,te=C*z,ce=Math.sin(ie),ve=Math.cos(ie),Te=Math.cos(D/G),De=Math.sin(D/G),Xe=Math.asin(ce*Te+ve*De*Math.cos(te)),Ke=W+Math.atan2(Math.sin(te)*De*ve,Te-ce*Math.sin(Xe));return Ke=(Ke*=N)>180?Ke-360:Ke<-180?Ke+360:Ke,L.latLng([Xe*N,Ke])}(r,He(t,r,s),h)}function Fe(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"asc";if(!r||Object.keys(r).length===0)return function(N,G){return N-G};for(var h,p=Object.keys(r),C=p.length-1,D={};C>=0;)h=p[C],D[h.toLowerCase()]=r[h],C-=1;function z(N){return N instanceof L.Marker?"Marker":N instanceof L.Circle?"Circle":N instanceof L.CircleMarker?"CircleMarker":N instanceof L.Rectangle?"Rectangle":N instanceof L.Polygon?"Polygon":N instanceof L.Polyline?"Line":void 0}return function(N,G){var W,ie;if(t==="instanceofShape"){if(W=z(N.layer).toLowerCase(),ie=z(G.layer).toLowerCase(),!W||!ie)return 0}else{if(!N.hasOwnProperty(t)||!G.hasOwnProperty(t))return 0;W=N[t].toLowerCase(),ie=G[t].toLowerCase()}var te=W in D?D[W]:Number.MAX_SAFE_INTEGER,ce=ie in D?D[ie]:Number.MAX_SAFE_INTEGER,ve=0;return te<ce?ve=-1:te>ce&&(ve=1),s==="desc"?-1*ve:ve}}function Se(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.getLatLngs();return t instanceof L.Polygon?L.polygon(r).getLatLngs():L.polyline(r).getLatLngs()}function we(t,r){var s,h;if((s=r.options.crs)!==null&&s!==void 0&&(h=s.projection)!==null&&h!==void 0&&h.MAX_LATITUDE){var p,C,D=(p=r.options.crs)===null||p===void 0||(C=p.projection)===null||C===void 0?void 0:C.MAX_LATITUDE;t.lat=Math.max(Math.min(D,t.lat),-D)}return t}function Ie(t){return t.options.renderer||t._map&&(t._map._getPaneRenderer(t.options.pane)||t._map.options.renderer||t._map._renderer)||t._renderer}const pt=L.Class.extend({includes:[w,T,B,I,ne],initialize:function(t){this.map=t,this.Draw=new L.PM.Draw(t),this.Toolbar=new L.PM.Toolbar(t),this.Keyboard=K,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(t)},setLang:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",r=arguments.length>1?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"en",h=L.PM.activeLang;r&&(E[t]=l()(E[s],r)),L.PM.activeLang=t,this.map.pm.Toolbar.reinit(),this._fireLangChange(h,t,s,E[t])},addControls:function(t){this.Toolbar.addControls(t)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon",r=arguments.length>1?arguments[1]:void 0;t==="Poly"&&(t="Polygon"),this.Draw.enable(t,r)},disableDraw:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon";t==="Poly"&&(t="Polygon"),this.Draw.disable(t)},setPathOptions:function(t){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=s.ignoreShapes||[],p=s.merge||!1;this.map.pm.Draw.shapes.forEach(function(C){h.indexOf(C)===-1&&r.map.pm.Draw[C].setPathOptions(t,p)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(t){var r=this,s=l()(this.globalOptions,t);s.editable&&(s.resizeableCircleMarker=s.editable,delete s.editable);var h=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!s.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),h=!0);var p=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizableCircle!=!!s.resizableCircle&&(this.map.pm.Draw.Circle.disable(),p=!0),this.map.pm.Draw.shapes.forEach(function(C){r.map.pm.Draw[C].setOptions(s)}),h&&this.map.pm.Draw.CircleMarker.enable(),p&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(function(C){C.pm.setOptions(s)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=s,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach(function(t){t.pm.enabled()&&t.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(t){return this.Draw.Cut.enable(t)},toggleGlobalCutMode:function(t){return this.Draw.Cut.toggle(t)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=L.PM.Utils.findLayers(this.map);if(!t)return r;var s=L.featureGroup();return s._pmTempLayer=!0,r.forEach(function(h){s.addLayer(h)}),s},getGeomanDrawLayers:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=L.PM.Utils.findLayers(this.map).filter(function(h){return h._drawnByGeoman===!0});if(!t)return r;var s=L.featureGroup();return s._pmTempLayer=!0,r.forEach(function(h){s.addLayer(h)}),s},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(t){this._touchEventCounter===0&&(L.DomEvent.on(t,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(t,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(t){this._touchEventCounter===1&&(L.DomEvent.off(t,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(t,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(t){Ie(this.map)._onMouseMove(this._createMouseEvent("mousemove",t))},_canvasTouchClick:function(t){var r="";t.type==="touchstart"||t.type==="pointerdown"?r="mousedown":t.type==="touchend"||t.type==="pointerup"?r="mouseup":t.type!=="touchcancel"&&t.type!=="pointercancel"||(r="mouseup"),r&&Ie(this.map)._onClick(this._createMouseEvent(r,t))},_createMouseEvent:function(t,r){var s,h=r.touches[0]||r.changedTouches[0];try{s=new MouseEvent(t,{bubbles:r.bubbles,cancelable:r.cancelable,view:r.view,detail:h.detail,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey,metaKey:r.metaKey,button:r.button,relatedTarget:r.relatedTarget})}catch{(s=document.createEvent("MouseEvents")).initMouseEvent(t,r.bubbles,r.cancelable,r.view,h.detail,h.screenX,h.screenY,h.clientX,h.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget)}return s}}),it=L.Control.extend({includes:[ne],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(t){this._button=L.Util.extend({},this.options,t)},onAdd:function(t){return this._map=t,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(t){return this._button.toggleStatus=typeof t=="boolean"?t:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(t){t&&t.preventDefault(),this._button.disabled||(this._button.onClick(t,{button:this,event:t}),this._clicked(t),this._button.afterClick(t,{button:this,event:t}))},_makeButton:function(t){var r=this,s=this.options.position.indexOf("right")>-1?"pos-right":"",h=L.DomUtil.create("div","button-container  ".concat(s),this._container);t.title&&h.setAttribute("title",t.title);var p=L.DomUtil.create("a","leaflet-buttons-control-button",h);p.setAttribute("role","button"),p.setAttribute("tabindex","0"),p.href="#";var C=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(s),h),D=t.actions,z={cancel:{text:X("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:X("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:X("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[t.jsClass]._removeLastVertex()}},finish:{text:X("actions.finish"),onClick:function(G){this._map.pm.Draw[t.jsClass]._finishShape(G)}}};D.forEach(function(G){var W,ie=typeof G=="string"?G:G.name;if(z[ie])W=z[ie];else{if(!G.text)return;W=G}var te=L.DomUtil.create("a","leaflet-pm-action ".concat(s," action-").concat(ie),C);te.setAttribute("role","button"),te.setAttribute("tabindex","0"),te.href="#",te.innerHTML=W.text,L.DomEvent.disableClickPropagation(te),L.DomEvent.on(te,"click",L.DomEvent.stop),!t.disabled&&W.onClick&&(L.DomEvent.addListener(te,"click",function(ce){ce.preventDefault();var ve="",Te=r._map.pm.Toolbar.buttons;for(var De in Te)if(Te[De]._button===t){ve=De;break}r._fireActionClick(W,ve,t)},r),L.DomEvent.addListener(te,"click",W.onClick,r))}),t.toggleStatus&&L.DomUtil.addClass(h,"active");var N=L.DomUtil.create("div","control-icon",p);return t.iconUrl&&N.setAttribute("src",t.iconUrl),t.className&&L.DomUtil.addClass(N,t.className),L.DomEvent.disableClickPropagation(p),L.DomEvent.on(p,"click",L.DomEvent.stop),t.disabled||(L.DomEvent.addListener(p,"click",this._onBtnClick,this),L.DomEvent.addListener(p,"click",this._triggerClick,this)),t.disabled&&(L.DomUtil.addClass(p,"pm-disabled"),p.setAttribute("aria-disabled","true")),h},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&this._button.cssToggle!==!1?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var t="",r=this._map.pm.Toolbar.buttons;for(var s in r)if(r[s]._button===this._button){t=s;break}this._fireButtonClick(t,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var t="pm-disabled",r=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(r,t),r.setAttribute("aria-disabled","true"),L.DomEvent.off(r,"click",this._triggerClick,this),L.DomEvent.off(r,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(r,t),r.setAttribute("aria-disabled","false"),L.DomEvent.on(r,"click",this._triggerClick,this),L.DomEvent.on(r,"click",this._onBtnClick,this))}}});function qe(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(t);r&&(h=h.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),s.push.apply(s,h)}return s}function gt(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?qe(Object(s),!0).forEach(function(h){ct(t,h,s[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):qe(Object(s)).forEach(function(h){Object.defineProperty(t,h,Object.getOwnPropertyDescriptor(s,h))})}return t}function ct(t,r,s){return r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Ge(t){return Ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ge(t)}L.Control.PMButton=it;const Ne=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(t){this.init(t)},reinit:function(){var t=this.isVisible;this.removeControls(),this._defineButtons(),t&&this.addControls()},init:function(t){this.map=t,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(t){var r="".concat(t,"Container");return this[r]||(this[r]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(t," leaflet-bar leaflet-control"))),this[r]},getButtons:function(){return this.buttons},addControls:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;typeof t.editPolygon<"u"&&(t.editMode=t.editPolygon),typeof t.deleteLayer<"u"&&(t.removalMode=t.deleteLayer),L.Util.setOptions(this,t),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var t=this.getButtons(),r={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var s in t){var h=t[s];L.Util.setOptions(h,{className:r.geomanIcons[s]})}},removeControls:function(){var t=this.getButtons();for(var r in t)t[r].remove();this.isVisible=!1},toggleControls:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(t)},_addButton:function(t,r){return this.buttons[t]=r,this.options[t]=this.options[t]||!1,this.buttons[t]},triggerClickOnToggledButtons:function(t){for(var r in this.buttons){var s=this.buttons[r];s._button.disableByOtherButtons&&s!==t&&s.toggled()&&s._triggerClick()}},toggleButton:function(t,r){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return t==="editPolygon"&&(t="editMode"),t==="deleteLayer"&&(t="removalMode"),s&&this.triggerClickOnToggledButtons(this.buttons[t]),!!this.buttons[t]&&this.buttons[t].toggle(r)},_defineButtons:function(){var t=this,r={className:"control-icon leaflet-pm-icon-marker",title:X("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(ce,ve){t.map.pm.Draw[ve.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},s={title:X("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(ce,ve){t.map.pm.Draw[ve.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},h={className:"control-icon leaflet-pm-icon-polyline",title:X("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(ce,ve){t.map.pm.Draw[ve.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},p={title:X("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(ce,ve){t.map.pm.Draw[ve.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},C={title:X("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(ce,ve){t.map.pm.Draw[ve.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},D={title:X("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(ce,ve){t.map.pm.Draw[ve.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},z={title:X("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},N={title:X("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},G={title:X("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(ce,ve){t.map.pm.Draw[ve.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},W={title:X("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ie={title:X("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},te={className:"control-icon leaflet-pm-icon-text",title:X("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(ce,ve){t.map.pm.Draw[ve.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(r)),this._addButton("drawPolyline",new L.Control.PMButton(h)),this._addButton("drawRectangle",new L.Control.PMButton(D)),this._addButton("drawPolygon",new L.Control.PMButton(s)),this._addButton("drawCircle",new L.Control.PMButton(p)),this._addButton("drawCircleMarker",new L.Control.PMButton(C)),this._addButton("drawText",new L.Control.PMButton(te)),this._addButton("editMode",new L.Control.PMButton(z)),this._addButton("dragMode",new L.Control.PMButton(N)),this._addButton("cutPolygon",new L.Control.PMButton(G)),this._addButton("removalMode",new L.Control.PMButton(W)),this._addButton("rotateMode",new L.Control.PMButton(ie))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var t=this.getButtons(),r=[];for(var s in this.options.drawControls===!1&&(r=r.concat(Object.keys(t).filter(function(p){return!t[p]._button.tool}))),this.options.editControls===!1&&(r=r.concat(Object.keys(t).filter(function(p){return t[p]._button.tool==="edit"}))),this.options.optionsControls===!1&&(r=r.concat(Object.keys(t).filter(function(p){return t[p]._button.tool==="options"}))),this.options.customControls===!1&&(r=r.concat(Object.keys(t).filter(function(p){return t[p]._button.tool==="custom"}))),t)if(this.options[s]&&r.indexOf(s)===-1){var h=t[s]._button.tool;h||(h="draw"),t[s].setPosition(this._getBtnPosition(h)),t[s].addTo(this.map)}}},_getBtnPosition:function(t){return this.options.positions&&this.options.positions[t]?this.options.positions[t]:this.options.position},setBlockPosition:function(t,r){this.options.positions[t]=r,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(t,r){if(!r)throw new TypeError("Button has no name");Ge(r)!=="object"&&(r={name:r});var s=this._btnNameMapping(t);if(!r.name)throw new TypeError("Button has no name");if(this.buttons[r.name])throw new TypeError("Button with this name already exists");var h=this.map.pm.Draw.createNewDrawInstance(r.name,s);return r=gt(gt({},this.buttons[s]._button),r),{drawInstance:h,control:this.createCustomControl(r)}},createCustomControl:function(t){var r,s;if(!t.name)throw new TypeError("Button has no name");if(this.buttons[t.name])throw new TypeError("Button with this name already exists");t.onClick||(t.onClick=function(){}),t.afterClick||(t.afterClick=function(){}),t.toggle!==!1&&(t.toggle=!0),t.block&&(t.block=t.block.toLowerCase()),t.block&&t.block!=="draw"||(t.block=""),t.className?t.className.indexOf("control-icon")===-1&&(t.className="control-icon ".concat(t.className)):t.className="control-icon";var h={tool:t.block,className:t.className,title:t.title||"",jsClass:t.name,onClick:t.onClick,afterClick:t.afterClick,doToggle:t.toggle,toggleStatus:!1,disableOtherButtons:(r=t.disableOtherButtons)===null||r===void 0||r,disableByOtherButtons:(s=t.disableByOtherButtons)===null||s===void 0||s,cssToggle:t.toggle,position:this.options.position,actions:t.actions||[],disabled:!!t.disabled};this.options[t.name]!==!1&&(this.options[t.name]=!0);var p=this._addButton(t.name,new L.Control.PMButton(h));return this.changeControlOrder(),p},changeControlOrder:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=this._shapeMapping(),s=[];t.forEach(function(G){r[G]?s.push(r[G]):s.push(G)});var h=this.getButtons(),p={};s.forEach(function(G){h[G]&&(p[G]=h[G])});var C=Object.keys(h).filter(function(G){return!h[G]._button.tool});C.forEach(function(G){s.indexOf(G)===-1&&(p[G]=h[G])});var D=Object.keys(h).filter(function(G){return h[G]._button.tool==="edit"});D.forEach(function(G){s.indexOf(G)===-1&&(p[G]=h[G])});var z=Object.keys(h).filter(function(G){return h[G]._button.tool==="options"});z.forEach(function(G){s.indexOf(G)===-1&&(p[G]=h[G])});var N=Object.keys(h).filter(function(G){return h[G]._button.tool==="custom"});N.forEach(function(G){s.indexOf(G)===-1&&(p[G]=h[G])}),Object.keys(h).forEach(function(G){s.indexOf(G)===-1&&(p[G]=h[G])}),this.map.pm.Toolbar.buttons=p,this._showHideButtons()},getControlOrder:function(){var t=this.getButtons(),r=[];for(var s in t)r.push(s);return r},changeActionsOfControl:function(t,r){var s=this._btnNameMapping(t);if(!s)throw new TypeError("No name passed");if(!r)throw new TypeError("No actions passed");if(!this.buttons[s])throw new TypeError("Button with this name not exists");this.buttons[s]._button.actions=r,this.changeControlOrder()},setButtonDisabled:function(t,r){var s=this._btnNameMapping(t);r?this.buttons[s].disable():this.buttons[s].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(t){var r=this._shapeMapping();return r[t]?r[t]:t}});function We(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(t);r&&(h=h.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),s.push.apply(s,h)}return s}function St(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?We(Object(s),!0).forEach(function(h){mt(t,h,s[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):We(Object(s)).forEach(function(h){Object.defineProperty(t,h,Object.getOwnPropertyDescriptor(s,h))})}return t}function mt(t,r,s){return r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}var R={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(t){var r=this;t.forEach(function(s){Array.isArray(s)?r._assignEvents(s):(s.off("drag",r._handleSnapping,r),s.on("drag",r._handleSnapping,r),s.off("dragend",r._cleanupSnapping,r),s.on("dragend",r._cleanupSnapping,r))})},_cleanupSnapping:function(t){t&&(t.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(r){r.remove()})},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(t){var r,s,h,p=this,C=t.target;if(C._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),t!=null&&(r=t.originalEvent)!==null&&r!==void 0&&r.altKey||(s=this._map)!==null&&s!==void 0&&(h=s.pm)!==null&&h!==void 0&&h.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var D=this._calcClosestLayer(C.getLatLng(),this._snapList);if(Object.keys(D).length===0)return!1;var z,N=D.layer instanceof L.Marker||D.layer instanceof L.CircleMarker||!this.options.snapSegment;z=N?D.latlng:this._checkPrioritiySnapping(D);var G=this.options.snapDistance,W={marker:C,shape:this._shape,snapLatLng:z,segment:D.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:D.layer,distance:D.distance};if(this._fireSnapDrag(W.marker,W),this._fireSnapDrag(this._layer,W),D.distance<G){C._orgLatLng=C.getLatLng(),C.setLatLng(z),C._snapped=!0,C._snapInfo=W;var ie=this._snapLatLng||{},te=z||{};ie.lat===te.lat&&ie.lng===te.lng||(p._snapLatLng=z,p._fireSnap(C,W),p._fireSnap(p._layer,W))}else this._snapLatLng&&(this._unsnap(W),C._snapped=!1,C._snapInfo=void 0,this._fireUnsnap(W.marker,W),this._fireUnsnap(this._layer,W));return!0},_createSnapList:function(){var t=this,r=[],s=[],h=this._map;h.off("layerremove",this._handleSnapLayerRemoval,this),h.on("layerremove",this._handleSnapLayerRemoval,this),h.eachLayer(function(p){if((p instanceof L.Polyline||p instanceof L.Marker||p instanceof L.CircleMarker||p instanceof L.ImageOverlay)&&p.options.snapIgnore!==!0){if(p.options.snapIgnore===void 0&&(!L.PM.optIn&&p.options.pmIgnore===!0||L.PM.optIn&&p.options.pmIgnore!==!1))return;(p instanceof L.Circle||p instanceof L.CircleMarker)&&p.pm&&p.pm._hiddenPolyCircle?r.push(p.pm._hiddenPolyCircle):p instanceof L.ImageOverlay&&(p=L.rectangle(p.getBounds())),r.push(p);var C=L.polyline([],{color:"red",pmIgnore:!0});C._pmTempLayer=!0,s.push(C),(p instanceof L.Circle||p instanceof L.CircleMarker)&&s.push(C)}}),r=(r=(r=r.filter(function(p){return t._layer!==p})).filter(function(p){return p._latlng||p._latlngs&&ue(p._latlngs)})).filter(function(p){return!p._pmTempLayer}),this._otherSnapLayers?(this._otherSnapLayers.forEach(function(){var p=L.polyline([],{color:"red",pmIgnore:!0});p._pmTempLayer=!0,s.push(p)}),this._snapList=r.concat(this._otherSnapLayers)):this._snapList=r,this.debugIndicatorLines=s},_handleSnapLayerRemoval:function(t){var r=t.layer;if(r._leaflet_id){var s=this._snapList.findIndex(function(h){return h._leaflet_id===r._leaflet_id});s>-1&&this._snapList.splice(s,1)}},_calcClosestLayer:function(t,r){return this._calcClosestLayers(t,r,1)[0]},_calcClosestLayers:function(t,r){var s=this,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,p=[],C={};r.forEach(function(z,N){if(!z._parentCopy||z._parentCopy!==s._layer){var G=s._calcLayerDistances(t,z);if(G.distance=Math.floor(G.distance),s.debugIndicatorLines){if(!s.debugIndicatorLines[N]){var W=L.polyline([],{color:"red",pmIgnore:!0});W._pmTempLayer=!0,s.debugIndicatorLines[N]=W}s.debugIndicatorLines[N].setLatLngs([t,G.latlng])}h===1&&(C.distance===void 0||G.distance<=C.distance)?(G.distance<C.distance&&(p=[]),(C=G).layer=z,p.push(C)):h!==1&&(C={},(C=G).layer=z,p.push(C))}}),h!==1&&(p=p.sort(function(z,N){return z.distance-N.distance})),h===-1&&(h=p.length);var D=this._getClosestLayerByPriority(p,h);return L.Util.isArray(D)?D:[D]},_calcLayerDistances:function(t,r){var s=this._map,h=r instanceof L.Marker||r instanceof L.CircleMarker,p=r instanceof L.Polygon,C=t;if(h){var D=r.getLatLng();return{latlng:St({},D),distance:this._getDistance(s,D,C)}}return this._calcLatLngDistances(C,r.getLatLngs(),s,p)},_calcLatLngDistances:function(t,r,s){var h,p,C,D=this,z=arguments.length>3&&arguments[3]!==void 0&&arguments[3],N=function W(ie){ie.forEach(function(te,ce){if(Array.isArray(te))W(te);else if(D.options.snapSegment){var ve,Te=te;ve=z?ce+1===ie.length?0:ce+1:ce+1===ie.length?void 0:ce+1;var De=ie[ve];if(De){var Xe=D._getDistanceToSegment(s,t,Te,De);(p===void 0||Xe<p)&&(p=Xe,C=[Te,De])}}else{var Ke=D._getDistance(s,t,te);(p===void 0||Ke<p)&&(p=Ke,h=te)}})};if(N(r),this.options.snapSegment){var G=this._getClosestPointOnSegment(s,t,C[0],C[1]);return{latlng:St({},G),segment:C,distance:p}}return{latlng:h,distance:p}},_getClosestLayerByPriority:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;t=t.sort(function(D,z){return D._leaflet_id-z._leaflet_id});var s=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],h=this._map.pm.globalOptions.snappingOrder||[],p=0,C={};return h.concat(s).forEach(function(D){C[D]||(p+=1,C[D]=p)}),t.sort(Fe("instanceofShape",C)),r===1?t[0]||{}:t.slice(0,r)},_checkPrioritiySnapping:function(t){var r=this._map,s=t.segment[0],h=t.segment[1],p=t.latlng,C=this._getDistance(r,s,p),D=this._getDistance(r,h,p),z=C<D?s:h,N=C<D?C:D;if(this.options.snapMiddle){var G=L.PM.Utils.calcMiddleLatLng(r,s,h),W=this._getDistance(r,G,p);W<C&&W<D&&(z=G,N=W)}return St({},N<this.options.snapDistance?z:p)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(t,r,s,h){var p=t.getMaxZoom();p===1/0&&(p=t.getZoom());var C=t.project(r,p),D=t.project(s,p),z=t.project(h,p),N=L.LineUtil.closestPointOnSegment(C,D,z);return t.unproject(N,p)},_getDistanceToSegment:function(t,r,s,h){var p=t.latLngToLayerPoint(r),C=t.latLngToLayerPoint(s),D=t.latLngToLayerPoint(h);return L.LineUtil.pointToSegmentDistance(p,C,D)},_getDistance:function(t,r,s){return t.latLngToLayerPoint(r).distanceTo(t.latLngToLayerPoint(s))}};const g=R,_=L.Class.extend({includes:[g,ne],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0},setOptions:function(t){L.Util.setOptions(this,t),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(t){var r=this,s=new L.Icon.Default;s.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=s,this._map=t,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(function(h){r[h]=new L.PM.Draw[h](r._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(t){var r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.options.pathOptions=r?l()(this.options.pathOptions,t):t},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(t,r){if(!t)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[t].enable(r)},disable:function(){var t=this;this.shapes.forEach(function(r){t[r].disable()})},addControls:function(){var t=this;this.shapes.forEach(function(r){t[r].addButton()})},getActiveShape:function(){var t,r=this;return this.shapes.forEach(function(s){r[s]._enabled&&(t=s)}),t},_setGlobalDrawMode:function(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();var t=L.PM.Utils.findLayers(this._map);this._enabled?t.forEach(function(r){L.PM.Utils.disablePopup(r)}):t.forEach(function(r){L.PM.Utils.enablePopup(r)})},createNewDrawInstance:function(t,r){var s=this._getShapeFromBtnName(r);if(this[t])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[s])throw new TypeError("There is no class L.PM.Draw.".concat(s));return this[t]=new L.PM.Draw[s](this._map),this[t].toolbarButtonName=t,this[t]._shape=t,this.shapes.push(t),this[r]&&this[t].setOptions(this[r].options),this[t].setOptions(this[t].options),this[t]},_getShapeFromBtnName:function(t){var r={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return r[t]?r[t]:this[t]?this[t]._shape:t},_finishLayer:function(t){t.pm&&(t.pm.setOptions(this.options),t.pm._shape=this._shape,t.pm._map=this._map),this._addDrawnLayerProp(t)},_addDrawnLayerProp:function(t){t._drawnByGeoman=!0},_setPane:function(t,r){r==="layerPane"?t.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":r==="vertexPane"?t.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":r==="markerPane"&&(t.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}});_.Marker=_.extend({initialize:function(t){this._map=t,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(t){var r=this;L.Util.setOptions(this,t),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(X("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(s){r.isRelevantMarker(s)&&s.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var t=this;this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(r){t.isRelevantMarker(r)&&r.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},isRelevantMarker:function(t){return t instanceof L.Marker&&t.pm&&!t._pmTempLayer&&!t.pm._initTextMarker},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var r=t;r.target=this._hintMarker,this._handleSnapping(r)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(t){if(t.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var r=this._hintMarker.getLatLng(),s=new L.Marker(r,this.options.markerStyle);this._setPane(s,"markerPane"),this._finishLayer(s),s.pm||(s.options.draggable=!1),s.addTo(this._map.pm._getContainingLayer()),s.pm&&this.options.markerEditable?s.pm.enable():s.dragging&&s.dragging.disable(),this._fireCreate(s),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var t,r;(t=this.options.markerStyle)!==null&&t!==void 0&&t.icon&&((r=this._hintMarker)===null||r===void 0||r.setIcon(this.options.markerStyle.icon))}});var O=63710088e-1,j={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*O,kilometers:6371.0088,kilometres:6371.0088,meters:O,metres:O,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:O/1852,radians:1,yards:6967335223679999e-9};function F(t,r,s){s===void 0&&(s={});var h={type:"Feature"};return(s.id===0||s.id)&&(h.id=s.id),s.bbox&&(h.bbox=s.bbox),h.properties=r||{},h.geometry=t,h}function $(t,r,s){if(s===void 0&&(s={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ze(t[0])||!ze(t[1]))throw new Error("coordinates must contain numbers");return F({type:"Point",coordinates:t},r,s)}function Y(t,r,s){if(s===void 0&&(s={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return F({type:"LineString",coordinates:t},r,s)}function H(t,r){r===void 0&&(r={});var s={type:"FeatureCollection"};return r.id&&(s.id=r.id),r.bbox&&(s.bbox=r.bbox),s.features=t,s}function re(t,r){r===void 0&&(r="kilometers");var s=j[r];if(!s)throw new Error(r+" units is invalid");return t*s}function pe(t,r){r===void 0&&(r="kilometers");var s=j[r];if(!s)throw new Error(r+" units is invalid");return t/s}function _e(t){return 180*(t%(2*Math.PI))/Math.PI}function be(t){return t%360*Math.PI/180}function ze(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function je(t){var r,s,h={type:"FeatureCollection",features:[]};if((s=t.type==="Feature"?t.geometry:t).type==="LineString")r=[s.coordinates];else if(s.type==="MultiLineString")r=s.coordinates;else if(s.type==="MultiPolygon")r=[].concat.apply([],s.coordinates);else{if(s.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");r=s.coordinates}return r.forEach(function(p){r.forEach(function(C){for(var D=0;D<p.length-1;D++)for(var z=D;z<C.length-1;z++)if(!(p===C&&(Math.abs(D-z)===1||D===0&&z===p.length-2&&p[D][0]===p[p.length-1][0]&&p[D][1]===p[p.length-1][1]))){var N=Ve(p[D][0],p[D][1],p[D+1][0],p[D+1][1],C[z][0],C[z][1],C[z+1][0],C[z+1][1]);N&&h.features.push($([N[0],N[1]]))}})}),h}function Ve(t,r,s,h,p,C,D,z){var N,G,W,ie,te={x:null,y:null,onLine1:!1,onLine2:!1};return(N=(z-C)*(s-t)-(D-p)*(h-r))===0?te.x!==null&&te.y!==null&&te:(ie=(s-t)*(G=r-C)-(h-r)*(W=t-p),G=((D-p)*G-(z-C)*W)/N,W=ie/N,te.x=t+G*(s-t),te.y=r+G*(h-r),G>=0&&G<=1&&(te.onLine1=!0),W>=0&&W<=1&&(te.onLine2=!0),!(!te.onLine1||!te.onLine2)&&[te.x,te.y])}function nt(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(t);r&&(h=h.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),s.push.apply(s,h)}return s}function ot(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?nt(Object(s),!0).forEach(function(h){dt(t,h,s[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):nt(Object(s)).forEach(function(h){Object.defineProperty(t,h,Object.getOwnPropertyDescriptor(s,h))})}return t}function dt(t,r,s){return r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function ht(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(t);r&&(h=h.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),s.push.apply(s,h)}return s}function at(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?ht(Object(s),!0).forEach(function(h){Gt(t,h,s[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ht(Object(s)).forEach(function(h){Object.defineProperty(t,h,Object.getOwnPropertyDescriptor(s,h))})}return t}function Gt(t,r,s){return r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function ft(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return t.geometry.coordinates;if(t.type==="Point")return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Je(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function q(t){return t.type==="Feature"?t.geometry:t}function se(t,r){return t.type==="FeatureCollection"?"FeatureCollection":t.type==="GeometryCollection"?"GeometryCollection":t.type==="Feature"&&t.geometry!==null?t.geometry.type:t.type}function ge(t,r,s){if(t!==null)for(var h,p,C,D,z,N,G,W,ie=0,te=0,ce=t.type,ve=ce==="FeatureCollection",Te=ce==="Feature",De=ve?t.features.length:1,Xe=0;Xe<De;Xe++){z=(W=!!(G=ve?t.features[Xe].geometry:Te?t.geometry:t)&&G.type==="GeometryCollection")?G.geometries.length:1;for(var Ke=0;Ke<z;Ke++){var lt=0,Ut=0;if((D=W?G.geometries[Ke]:G)!==null){N=D.coordinates;var Nt=D.type;switch(ie=!s||Nt!=="Polygon"&&Nt!=="MultiPolygon"?0:1,Nt){case null:break;case"Point":if(r(N,te,Xe,lt,Ut)===!1)return!1;te++,lt++;break;case"LineString":case"MultiPoint":for(h=0;h<N.length;h++){if(r(N[h],te,Xe,lt,Ut)===!1)return!1;te++,Nt==="MultiPoint"&&lt++}Nt==="LineString"&&lt++;break;case"Polygon":case"MultiLineString":for(h=0;h<N.length;h++){for(p=0;p<N[h].length-ie;p++){if(r(N[h][p],te,Xe,lt,Ut)===!1)return!1;te++}Nt==="MultiLineString"&&lt++,Nt==="Polygon"&&Ut++}Nt==="Polygon"&&lt++;break;case"MultiPolygon":for(h=0;h<N.length;h++){for(Ut=0,p=0;p<N[h].length;p++){for(C=0;C<N[h][p].length-ie;C++){if(r(N[h][p][C],te,Xe,lt,Ut)===!1)return!1;te++}Ut++}lt++}break;case"GeometryCollection":for(h=0;h<D.geometries.length;h++)if(ge(D.geometries[h],r,s)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function xe(t,r){if(t.type==="Feature")r(t,0);else if(t.type==="FeatureCollection")for(var s=0;s<t.features.length&&r(t.features[s],s)!==!1;s++);}function et(t,r){var s,h,p,C,D,z,N,G,W,ie,te=0,ce=t.type==="FeatureCollection",ve=t.type==="Feature",Te=ce?t.features.length:1;for(s=0;s<Te;s++){for(z=ce?t.features[s].geometry:ve?t.geometry:t,G=ce?t.features[s].properties:ve?t.properties:{},W=ce?t.features[s].bbox:ve?t.bbox:void 0,ie=ce?t.features[s].id:ve?t.id:void 0,D=(N=!!z&&z.type==="GeometryCollection")?z.geometries.length:1,p=0;p<D;p++)if((C=N?z.geometries[p]:z)!==null)switch(C.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(r(C,te,G,W,ie)===!1)return!1;break;case"GeometryCollection":for(h=0;h<C.geometries.length;h++)if(r(C.geometries[h],te,G,W,ie)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(r(null,te,G,W,ie)===!1)return!1;te++}}function st(t,r){et(t,function(s,h,p,C,D){var z,N=s===null?null:s.type;switch(N){case null:case"Point":case"LineString":case"Polygon":return r(F(s,p,{bbox:C,id:D}),h,0)!==!1&&void 0}switch(N){case"MultiPoint":z="Point";break;case"MultiLineString":z="LineString";break;case"MultiPolygon":z="Polygon"}for(var G=0;G<s.coordinates.length;G++){var W=s.coordinates[G];if(r(F({type:z,coordinates:W},p),h,G)===!1)return!1}})}_.Line=_.extend({initialize:function(t){this._map=t,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(t){L.Util.setOptions(this,t),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],ot(ot({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(X("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_syncHintLine:function(){var t=this._layer.getLatLngs();if(t.length>0){var r=t[t.length-1];this._hintline.setLatLngs([r,this._hintMarker.getLatLng()])}},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var r=t;r.target=this._hintMarker,this._handleSnapping(r)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var s=this._layer._defaultShape().slice();s.push(this._hintMarker.getLatLng()),this._change(s)},hasSelfIntersection:function(){return je(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(t,r){var s=L.polyline(this._layer.getLatLngs());t&&(r||(r=this._hintMarker.getLatLng()),s.addLatLng(r));var h=je(s.toGeoJSON(15));this._doesSelfIntersect=h.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(h,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex:function(t){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,t.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var r=this._hintMarker.getLatLng(),s=this._layer.getLatLngs(),h=s[s.length-1];if(r.equals(s[0])||s.length>0&&r.equals(h))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:r,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(r);var p=this._createMarker(r);this._setTooltipText(),this._setHintLineAfterNewVertex(r),this._fireVertexAdded(p,void 0,r,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(t)}}},_setHintLineAfterNewVertex:function(t){this._hintline.setLatLngs([t,t])},_removeLastVertex:function(){var t=this._markers;if(t.length<=1)this.disable();else{var r=this._layer.getLatLngs(),s=t[t.length-1],h=L.PM.Utils.findDeepMarkerIndex(t,s).indexPath;t.pop(),this._layerGroup.removeLayer(s);var p=t[t.length-1],C=r.indexOf(p.getLatLng());r=r.slice(0,C+1),this._layer.setLatLngs(r),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(s,h,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var t=this._layer.getLatLngs();if(!(t.length<=1)){var r=L.polyline(t,this.options.pathOptions);this._setPane(r,"layerPane"),this._finishLayer(r),r.addTo(this._map.pm._getContainingLayer()),this._fireCreate(r),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(t){var r=new L.Marker(t,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._pmTempLayer=!0,this._layerGroup.addLayer(r),this._markers.push(r),r.on("click",this._finishShape,this),r},_setTooltipText:function(){var t="";t=X(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(t)},_change:function(t){this._fireChange(t,"Draw")},setStyle:function(){var t,r;(t=this._layer)===null||t===void 0||t.setStyle(this.options.templineStyle),(r=this._hintline)===null||r===void 0||r.setStyle(this.options.hintlineStyle)}}),_.Polygon=_.Line.extend({initialize:function(t){this._map=t,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(t){L.PM.Draw.Line.prototype.enable.call(this,t),this._layer.pm._shape="Polygon"},_createMarker:function(t){var r=new L.Marker(t,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._pmTempLayer=!0,this._layerGroup.addLayer(r),this._markers.push(r),this._layer.getLatLngs().flat().length===1?(r.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(r)-1,this.options.snappable&&this._cleanupSnapping()):r.on("click",function(){return 1}),r},_setTooltipText:function(){var t="";t=X(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(t)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var t=this._layer.getLatLngs();if(!(t.length<=2)){var r=L.polygon(t,this.options.pathOptions);this._setPane(r,"layerPane"),this._finishLayer(r),r.addTo(this._map.pm._getContainingLayer()),this._fireCreate(r),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),_.Rectangle=_.extend({initialize:function(t){this._map=t,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(t){if(L.Util.setOptions(this,t),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(X("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var r=0;r<2;r+=1){var s=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(s,"vertexPane"),s._pmTempLayer=!0,this._layerGroup.addLayer(s),this._styleMarkers.push(s)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_placeStartingMarkers:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var r=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(r),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(s){L.DomUtil.addClass(s._icon,"visible"),s.setLatLng(r)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(X("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var t=this._startMarker.getLatLng();t&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([t,t]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var r=t;r.target=this._hintMarker,this._handleSnapping(r)}var s=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(s,"Draw")},_syncRectangleSize:function(){var t=this,r=we(this._startMarker.getLatLng(),this._map),s=we(this._hintMarker.getLatLng(),this._map),h=L.PM.Utils._getRotatedRectangle(r,s,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(h),this.options.cursorMarker&&this._styleMarkers){var p=[];h.forEach(function(C){C.equals(r,1e-8)||C.equals(s,1e-8)||p.push(C)}),p.forEach(function(C,D){try{t._styleMarkers[D].setLatLng(C)}catch{}})}},_findCorners:function(){var t=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(t[0],t[2],this.options.rectangleAngle||0,this._map)},_finishShape:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var r=this._hintMarker.getLatLng(),s=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var h=L.rectangle([s,r],this.options.pathOptions);if(this.options.rectangleAngle){var p=L.PM.Utils._getRotatedRectangle(s,r,this.options.rectangleAngle||0,this._map);h.setLatLngs(p),h.pm&&h.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(h,"layerPane"),this._finishLayer(h),h.addTo(this._map.pm._getContainingLayer()),this._fireCreate(h),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var t;(t=this._layer)===null||t===void 0||t.setStyle(this.options.pathOptions)}}),_.CircleMarker=_.extend({initialize:function(t){this._map=t,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable:function(t){if(L.Util.setOptions(this,t),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){var r={};L.extend(r,this.options.templineStyle),r.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),r),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(X("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),at({radius:this._defaultRadius},this.options.templineStyle)),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(X("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable:function(){var t=this;!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(function(r){t.isRelevantMarker(r)&&r.pm.enable()}),this._layer.bringToBack()},disable:function(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable:function(){var t=this;this._map.eachLayer(function(r){t.isRelevantMarker(r)&&r.pm.disable()})},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_placeCenterMarker:function(t){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var r=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(r),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var t=this._centerMarker.getLatLng();t&&(this._layer.setLatLng(t),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(X("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var t=this._centerMarker.getLatLng(),r=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([t,r])},_syncCircleRadius:function(){var t=this._centerMarker.getLatLng(),r=this._hintMarker.getLatLng(),s=this._distanceCalculation(t,r);this.options[this._minRadiusOption]&&s<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&s>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(s)},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var r=t;r.target=this._hintMarker,this._handleSnapping(r)}this._handleHintMarkerSnapping();var s=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(s,"Draw")},isRelevantMarker:function(t){return t instanceof L.CircleMarker&&!(t instanceof L.Circle)&&t.pm&&!t._pmTempLayer},_createMarker:function(t){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&t.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var r=this._hintMarker.getLatLng(),s=new this._BaseCircleClass(r,at({radius:this._defaultRadius},this.options.pathOptions));this._setPane(s,"layerPane"),this._finishLayer(s),s.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(s),this._fireCreate(s),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_extendingCreateMarker:function(t){t.pm&&this.options.markerEditable&&t.pm.enable()},_finishShape:function(t){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var r=this._centerMarker.getLatLng(),s=this._defaultRadius;if(this.options[this._editableOption]){var h=this._hintMarker.getLatLng();s=this._distanceCalculation(r,h),this.options[this._minRadiusOption]&&s<this.options[this._minRadiusOption]?s=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&s>this.options[this._maxRadiusOption]&&(s=this.options[this._maxRadiusOption])}var p=at(at({},this.options.pathOptions),{},{radius:s}),C=new this._BaseCircleClass(r,p);this._setPane(C,"layerPane"),this._finishLayer(C),C.addTo(this._map.pm._getContainingLayer()),C.pm&&C.pm._updateHiddenPolyCircle(),this._fireCreate(C),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var t=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return t;var r=this._centerMarker.getLatLng(),s=this._distanceCalculation(r,t);this.options[this._minRadiusOption]&&s<this.options[this._minRadiusOption]?t=Ue(this._map,r,t,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&s>this.options[this._maxRadiusOption]&&(t=Ue(this._map,r,t,this._getMaxDistanceInMeter()))}return t},_getMinDistanceInMeter:function(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter:function(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping:function(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){var t=this._centerMarker.getLatLng(),r=this._hintMarker.getLatLng(),s=this._distanceCalculation(t,r);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&s<this.options[this._minRadiusOption]||this.options[this._maxRadiusOption]&&s>this.options[this._maxRadiusOption])&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle:function(){var t,r,s={};L.extend(s,this.options.templineStyle),this.options[this._editableOption]&&(s.radius=0),(t=this._layer)===null||t===void 0||t.setStyle(s),(r=this._hintline)===null||r===void 0||r.setStyle(this.options.hintlineStyle)},_distanceCalculation:function(t,r){return this._map.project(t).distanceTo(this._map.project(r))}}),_.Circle=_.CircleMarker.extend({initialize:function(t){this._map=t,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._defaultRadius=100},_extendingEnable:function(){},_extendingDisable:function(){},_extendingCreateMarker:function(){},isRelevantMarker:function(){},_getMinDistanceInMeter:function(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter:function(){return this.options[this._maxRadiusOption]},_distanceCalculation:function(t,r){return this._map.distance(t,r)}});const Ot=function(t){if(!t)throw new Error("geojson is required");var r=[];return st(t,function(s){(function(h,p){var C=[],D=h.geometry;if(D!==null){switch(D.type){case"Polygon":C=Je(D);break;case"LineString":C=[Je(D)]}C.forEach(function(z){var N=function(G,W){var ie=[];return G.reduce(function(te,ce){var ve,Te,De,Xe,Ke,lt,Ut=Y([te,ce],W);return Ut.bbox=(Te=ce,De=(ve=te)[0],Xe=ve[1],Ke=Te[0],lt=Te[1],[De<Ke?De:Ke,Xe<lt?Xe:lt,De>Ke?De:Ke,Xe>lt?Xe:lt]),ie.push(Ut),ce}),ie}(z,h.properties);N.forEach(function(G){G.id=p.length,p.push(G)})})}})(s,r)}),H(r)};var At=i(1787);function Bt(t,r){var s=Je(t),h=Je(r);if(s.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(h.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var p=s[0][0],C=s[0][1],D=s[1][0],z=s[1][1],N=h[0][0],G=h[0][1],W=h[1][0],ie=h[1][1],te=(ie-G)*(D-p)-(W-N)*(z-C),ce=(W-N)*(C-G)-(ie-G)*(p-N),ve=(D-p)*(C-G)-(z-C)*(p-N);if(te===0)return null;var Te=ce/te,De=ve/te;return Te>=0&&Te<=1&&De>=0&&De<=1?$([p+Te*(D-p),C+Te*(z-C)]):null}const Ht=function(t,r){var s={},h=[];if(t.type==="LineString"&&(t=F(t)),r.type==="LineString"&&(r=F(r)),t.type==="Feature"&&r.type==="Feature"&&t.geometry!==null&&r.geometry!==null&&t.geometry.type==="LineString"&&r.geometry.type==="LineString"&&t.geometry.coordinates.length===2&&r.geometry.coordinates.length===2){var p=Bt(t,r);return p&&h.push(p),H(h)}var C=At();return C.load(Ot(r)),xe(Ot(t),function(D){xe(C.search(D),function(z){var N=Bt(D,z);if(N){var G=Je(N).join(",");s[G]||(s[G]=!0,h.push(N))}})}),H(h)},Ln=function(t,r,s){s===void 0&&(s={});var h=ft(t),p=ft(r),C=be(p[1]-h[1]),D=be(p[0]-h[0]),z=be(h[1]),N=be(p[1]),G=Math.pow(Math.sin(C/2),2)+Math.pow(Math.sin(D/2),2)*Math.cos(z)*Math.cos(N);return re(2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G)),s.units)},It=function(t){var r=t[0],s=t[1],h=t[2],p=t[3];if(Ln(t.slice(0,2),[h,s])>=Ln(t.slice(0,2),[r,p])){var C=(s+p)/2;return[r,C-(h-r)/2,h,C+(h-r)/2]}var D=(r+h)/2;return[D-(p-s)/2,s,D+(p-s)/2,p]};function Xt(t){var r=[1/0,1/0,-1/0,-1/0];return ge(t,function(s){r[0]>s[0]&&(r[0]=s[0]),r[1]>s[1]&&(r[1]=s[1]),r[2]<s[0]&&(r[2]=s[0]),r[3]<s[1]&&(r[3]=s[1])}),r}Xt.default=Xt;const lr=Xt,Gl=function(t,r){r===void 0&&(r={});var s=r.precision,h=r.coordinates,p=r.mutate;if(s=s==null||isNaN(s)?6:s,h=h==null||isNaN(h)?3:h,!t)throw new Error("<geojson> is required");if(typeof s!="number")throw new Error("<precision> must be a number");if(typeof h!="number")throw new Error("<coordinates> must be a number");p!==!1&&p!==void 0||(t=JSON.parse(JSON.stringify(t)));var C=Math.pow(10,s);return ge(t,function(D){(function(z,N,G){z.length>G&&z.splice(G,z.length);for(var W=0;W<z.length;W++)z[W]=Math.round(z[W]*N)/N})(D,C,h)}),t};function So(t,r,s){if(s===void 0&&(s={}),s.final===!0)return function(ie,te){var ce=So(te,ie);return ce=(ce+180)%360}(t,r);var h=ft(t),p=ft(r),C=be(h[0]),D=be(p[0]),z=be(h[1]),N=be(p[1]),G=Math.sin(D-C)*Math.cos(N),W=Math.cos(z)*Math.sin(N)-Math.sin(z)*Math.cos(N)*Math.cos(D-C);return _e(Math.atan2(G,W))}function Oo(t,r,s,h){h===void 0&&(h={});var p=ft(t),C=be(p[0]),D=be(p[1]),z=be(s),N=pe(r,h.units),G=Math.asin(Math.sin(D)*Math.cos(N)+Math.cos(D)*Math.sin(N)*Math.cos(z));return $([_e(C+Math.atan2(Math.sin(z)*Math.sin(N)*Math.cos(D),Math.cos(N)-Math.sin(D)*Math.sin(G))),_e(G)],h.properties)}const $l=function(t,r,s){s===void 0&&(s={});var h=$([1/0,1/0],{dist:1/0}),p=0;return st(t,function(C){for(var D=Je(C),z=0;z<D.length-1;z++){var N=$(D[z]);N.properties.dist=Ln(r,N,s);var G=$(D[z+1]);G.properties.dist=Ln(r,G,s);var W=Ln(N,G,s),ie=Math.max(N.properties.dist,G.properties.dist),te=So(N,G),ce=Oo(r,ie,te+90,s),ve=Oo(r,ie,te-90,s),Te=Ht(Y([ce.geometry.coordinates,ve.geometry.coordinates]),Y([N.geometry.coordinates,G.geometry.coordinates])),De=null;Te.features.length>0&&((De=Te.features[0]).properties.dist=Ln(r,De,s),De.properties.location=p+Ln(N,De,s)),N.properties.dist<h.properties.dist&&((h=N).properties.index=z,h.properties.location=p),G.properties.dist<h.properties.dist&&((h=G).properties.index=z+1,h.properties.location=p+W),De&&De.properties.dist<h.properties.dist&&((h=De).properties.index=z),p+=W}}),h};function Po(t,r){var s=[],h=At();return st(r,function(p){if(s.forEach(function(z,N){z.id=N}),s.length){var C=h.search(p);if(C.features.length){var D=To(p,C);s=s.filter(function(z){return z.id!==D.id}),h.remove(D),xe(wi(D,p),function(z){s.push(z),h.insert(z)})}}else(s=wi(t,p).features).forEach(function(z){z.bbox||(z.bbox=It(lr(z)))}),h.load(H(s))}),H(s)}function wi(t,r){var s=[],h=Je(t)[0],p=Je(t)[t.geometry.coordinates.length-1];if(xi(h,ft(r))||xi(p,ft(r)))return H([t]);var C=At(),D=Ot(t);C.load(D);var z=C.search(r);if(!z.features.length)return H([t]);var N=To(r,z),G=function(W,ie,te){var ce=te;return xe(W,function(ve,Te){ce=Te===0&&te===void 0?ve:ie(ce,ve,Te)}),ce}(D,function(W,ie,te){var ce=Je(ie)[1],ve=ft(r);return te===N.id?(W.push(ve),s.push(Y(W)),xi(ve,ce)?[ve]:[ve,ce]):(W.push(ce),W)},[h]);return G.length>1&&s.push(Y(G)),H(s)}function To(t,r){if(!r.features.length)throw new Error("lines must contain features");if(r.features.length===1)return r.features[0];var s,h=1/0;return xe(r,function(p){var C=$l(p,t).properties.dist;C<h&&(s=p,h=C)}),s}function xi(t,r){return t[0]===r[0]&&t[1]===r[1]}const Vl=function(t,r){if(!t)throw new Error("line is required");if(!r)throw new Error("splitter is required");var s=se(t),h=se(r);if(s!=="LineString")throw new Error("line must be LineString");if(h==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(h==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var p=Gl(r,{precision:7});switch(h){case"Point":return wi(t,p);case"MultiPoint":return Po(t,p);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Po(t,Ht(t,p))}};function Tr(t,r,s){if(s===void 0&&(s={}),!t)throw new Error("point is required");if(!r)throw new Error("polygon is required");var h=ft(t),p=q(r),C=p.type,D=r.bbox,z=p.coordinates;if(D&&function(te,ce){return ce[0]<=te[0]&&ce[1]<=te[1]&&ce[2]>=te[0]&&ce[3]>=te[1]}(h,D)===!1)return!1;C==="Polygon"&&(z=[z]);for(var N=!1,G=0;G<z.length&&!N;G++)if(Ro(h,z[G][0],s.ignoreBoundary)){for(var W=!1,ie=1;ie<z[G].length&&!W;)Ro(h,z[G][ie],!s.ignoreBoundary)&&(W=!0),ie++;W||(N=!0)}return N}function Ro(t,r,s){var h=!1;r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]&&(r=r.slice(0,r.length-1));for(var p=0,C=r.length-1;p<r.length;C=p++){var D=r[p][0],z=r[p][1],N=r[C][0],G=r[C][1];if(t[1]*(D-N)+z*(N-t[0])+G*(t[0]-D)==0&&(D-t[0])*(N-t[0])<=0&&(z-t[1])*(G-t[1])<=0)return!s;z>t[1]!=G>t[1]&&t[0]<(N-D)*(t[1]-z)/(G-z)+D&&(h=!h)}return h}function Hl(t,r,s,h,p){var C=s[0],D=s[1],z=t[0],N=t[1],G=r[0],W=r[1],ie=G-z,te=W-N,ce=(s[0]-z)*te-(s[1]-N)*ie;if(p!==null){if(Math.abs(ce)>p)return!1}else if(ce!==0)return!1;return h?h==="start"?Math.abs(ie)>=Math.abs(te)?ie>0?z<C&&C<=G:G<=C&&C<z:te>0?N<D&&D<=W:W<=D&&D<N:h==="end"?Math.abs(ie)>=Math.abs(te)?ie>0?z<=C&&C<G:G<C&&C<=z:te>0?N<=D&&D<W:W<D&&D<=N:h==="both"&&(Math.abs(ie)>=Math.abs(te)?ie>0?z<C&&C<G:G<C&&C<z:te>0?N<D&&D<W:W<D&&D<N):Math.abs(ie)>=Math.abs(te)?ie>0?z<=C&&C<=G:G<=C&&C<=z:te>0?N<=D&&D<=W:W<=D&&D<=N}const ur=function(t,r,s){s===void 0&&(s={});for(var h=ft(t),p=Je(r),C=0;C<p.length-1;C++){var D=!1;if(s.ignoreEndVertices&&(C===0&&(D="start"),C===p.length-2&&(D="end"),C===0&&C+1===p.length-1&&(D="both")),Hl(p[C],p[C+1],h,D,typeof s.epsilon>"u"?null:s.epsilon))return!0}return!1};function Ul(t,r){var s=q(t),h=q(r),p=s.type,C=h.type,D=s.coordinates,z=h.coordinates;switch(p){case"Point":if(C==="Point")return Ei(D,z);throw new Error("feature2 "+C+" geometry not supported");case"MultiPoint":switch(C){case"Point":return function(N,G){var W,ie=!1;for(W=0;W<N.coordinates.length;W++)if(Ei(N.coordinates[W],G.coordinates)){ie=!0;break}return ie}(s,h);case"MultiPoint":return function(N,G){for(var W=0,ie=G.coordinates;W<ie.length;W++){for(var te=ie[W],ce=!1,ve=0,Te=N.coordinates;ve<Te.length;ve++)if(Ei(te,Te[ve])){ce=!0;break}if(!ce)return!1}return!0}(s,h);default:throw new Error("feature2 "+C+" geometry not supported")}case"LineString":switch(C){case"Point":return ur(h,s,{ignoreEndVertices:!0});case"LineString":return function(N,G){for(var W=!1,ie=0,te=G.coordinates;ie<te.length;ie++){var ce=te[ie];if(ur({type:"Point",coordinates:ce},N,{ignoreEndVertices:!0})&&(W=!0),!ur({type:"Point",coordinates:ce},N,{ignoreEndVertices:!1}))return!1}return W}(s,h);case"MultiPoint":return function(N,G){for(var W=!1,ie=0,te=G.coordinates;ie<te.length;ie++){var ce=te[ie];if(ur(ce,N,{ignoreEndVertices:!0})&&(W=!0),!ur(ce,N))return!1}return!!W}(s,h);default:throw new Error("feature2 "+C+" geometry not supported")}case"Polygon":switch(C){case"Point":return Tr(h,s,{ignoreBoundary:!0});case"LineString":return function(N,G){var W=!1,ie=0,te=lr(N),ce=lr(G);if(!Bo(te,ce))return!1;for(;ie<G.coordinates.length-1;ie++)if(Tr({type:"Point",coordinates:Kl(G.coordinates[ie],G.coordinates[ie+1])},N,{ignoreBoundary:!0})){W=!0;break}return W}(s,h);case"Polygon":return function(N,G){if(N.type==="Feature"&&N.geometry===null||G.type==="Feature"&&G.geometry===null)return!1;var W=lr(N),ie=lr(G);if(!Bo(W,ie))return!1;for(var te=q(G).coordinates,ce=0,ve=te;ce<ve.length;ce++)for(var Te=0,De=ve[ce];Te<De.length;Te++)if(!Tr(De[Te],N))return!1;return!0}(s,h);case"MultiPoint":return function(N,G){for(var W=0,ie=G.coordinates;W<ie.length;W++)if(!Tr(ie[W],N,{ignoreBoundary:!0}))return!1;return!0}(s,h);default:throw new Error("feature2 "+C+" geometry not supported")}default:throw new Error("feature1 "+p+" geometry not supported")}}function Bo(t,r){return!(t[0]>r[0])&&!(t[2]<r[2])&&!(t[1]>r[1])&&!(t[3]<r[3])}function Ei(t,r){return t[0]===r[0]&&t[1]===r[1]}function Kl(t,r){return[(t[0]+r[0])/2,(t[1]+r[1])/2]}var ql=i(2676),Io=i.n(ql);function Rr(t){var r={type:"Feature"};return r.geometry=t,r}function Br(t){return t.type==="Feature"?t.geometry:t}function Do(t){return t&&t.geometry&&t.geometry.coordinates?t.geometry.coordinates:t}function Ao(t){return Rr({type:"Polygon",coordinates:t})}function No(t){return Rr({type:"MultiPolygon",coordinates:t})}function zo(t){return Array.isArray(t)?1+zo(t[0]):-1}function Wl(t){t instanceof L.Polyline&&(t=t.toGeoJSON(15));var r=Do(t),s=zo(r),h=[];return s>1?r.forEach(function(p){h.push(function(C){return Rr({type:"LineString",coordinates:C})}(p))}):h.push(t),h}function Yl(t){var r=[];return t.eachLayer(function(s){r.push(Do(s.toGeoJSON(15)))}),function(s){return Rr({type:"MultiLineString",coordinates:s})}(r)}function Jl(t,r){return function(s){if(Array.isArray(s))return s}(t)||function(s,h){var p=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(p!=null){var C,D,z=[],N=!0,G=!1;try{for(p=p.call(s);!(N=(C=p.next()).done)&&(z.push(C.value),!h||z.length!==h);N=!0);}catch(W){G=!0,D=W}finally{try{N||p.return==null||p.return()}finally{if(G)throw D}}return z}}(t,r)||function(s,h){if(s){if(typeof s=="string")return jo(s,h);var p=Object.prototype.toString.call(s).slice(8,-1);if(p==="Object"&&s.constructor&&(p=s.constructor.name),p==="Map"||p==="Set")return Array.from(s);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return jo(s,h)}}(t,r)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jo(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,h=new Array(r);s<r;s++)h[s]=t[s];return h}function Xl(t){return function(r){if(Array.isArray(r))return Ci(r)}(t)||function(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}(t)||function(r,s){if(r){if(typeof r=="string")return Ci(r,s);var h=Object.prototype.toString.call(r).slice(8,-1);if(h==="Object"&&r.constructor&&(h=r.constructor.name),h==="Map"||h==="Set")return Array.from(r);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return Ci(r,s)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ci(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,h=new Array(r);s<r;s++)h[s]=t[s];return h}_.Cut=_.Polygon.extend({initialize:function(t){this._map=t,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var t=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var r=this._layer.getLatLngs();if(!(r.length<=2)){var s=L.polygon(r,this.options.pathOptions);s._latlngInfos=this._layer._latlngInfo,this.cut(s),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(h){var p=h.layer,C=h.originalLayer;t._fireCut(C,p,C),t._fireCut(t._map,p,C),C.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(t){var r=this,s=this._map._layers,h=t._latlngInfos||[];Object.keys(s).map(function(p){return s[p]}).filter(function(p){return p.pm}).filter(function(p){return!p._pmTempLayer}).filter(function(p){return!L.PM.optIn&&!p.options.pmIgnore||L.PM.optIn&&p.options.pmIgnore===!1}).filter(function(p){return p instanceof L.Polyline}).filter(function(p){return p!==t}).filter(function(p){return p.pm.options.allowCutting}).filter(function(p){return!(r.options.layersToCut&&L.Util.isArray(r.options.layersToCut)&&r.options.layersToCut.length>0)||r.options.layersToCut.indexOf(p)>-1}).filter(function(p){return!r._layerGroup.hasLayer(p)}).filter(function(p){try{var C=!!Ht(t.toGeoJSON(15),p.toGeoJSON(15)).features.length>0;return C||p instanceof L.Polyline&&!(p instanceof L.Polygon)?C:(D=t.toGeoJSON(15),z=p.toGeoJSON(15),N=Br(D),G=Br(z),!((W=Io().intersection(N.coordinates,G.coordinates)).length===0||!(W.length===1?Ao(W[0]):No(W))))}catch{return p instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}var D,z,N,G,W}).forEach(function(p){var C;if(p instanceof L.Polygon){var D=(C=L.polygon(p.getLatLngs())).getLatLngs();h.forEach(function(te){if(te&&te.snapInfo){var ce=te.latlng,ve=r._calcClosestLayer(ce,[C]);if(ve&&ve.segment&&ve.distance<r.options.snapDistance){var Te=ve.segment;if(Te&&Te.length===2){var De=L.PM.Utils._getIndexFromSegment(D,Te),Xe=De.indexPath,Ke=De.parentPath,lt=De.newIndex;(Xe.length>1?ee()(D,Ke):D).splice(lt,0,ce)}}}})}else C=p;var z=r._cutLayer(t,C),N=L.geoJSON(z,p.options);if(N.getLayers().length===1){var G=N.getLayers();N=Jl(G,1)[0]}r._setPane(N,"layerPane");var W=N.addTo(r._map.pm._getContainingLayer());if(W.pm.enable(p.pm.options),W.pm.disable(),p._pmTempLayer=!0,t._pmTempLayer=!0,p.remove(),p.removeFrom(r._map.pm._getContainingLayer()),t.remove(),t.removeFrom(r._map.pm._getContainingLayer()),W.getLayers&&W.getLayers().length===0&&r._map.pm.removeLayer({target:W}),W instanceof L.LayerGroup&&W.eachLayer(function(te){r._addDrawnLayerProp(te)}),r._addDrawnLayerProp(W),r.options.layersToCut&&L.Util.isArray(r.options.layersToCut)&&r.options.layersToCut.length>0){var ie=r.options.layersToCut.indexOf(p);ie>-1&&r.options.layersToCut.splice(ie,1)}r._editedLayers.push({layer:W,originalLayer:p})})},_cutLayer:function(t,r){var s,h,p,C,D,z,N=L.geoJSON();if(r instanceof L.Polygon)h=r.toGeoJSON(15),p=t.toGeoJSON(15),C=Br(h),D=Br(p),s=(z=Io().difference(C.coordinates,D.coordinates)).length===0?null:z.length===1?Ao(z[0]):No(z);else{var G=Wl(r);G.forEach(function(W){var ie=Vl(W,t.toGeoJSON(15));(ie&&ie.features.length>0?L.geoJSON(ie):L.geoJSON(W)).getLayers().forEach(function(te){Ul(t.toGeoJSON(15),te.toGeoJSON(15))||te.addTo(N)})}),s=G.length>1?Yl(N):N.toGeoJSON(15)}return s},_change:L.Util.falseFn}),_.Text=_.extend({initialize:function(t){this._map=t,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(t){L.Util.setOptions(this,t),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(X("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var r=t;r.target=this._hintMarker,this._handleSnapping(r)}},_createMarker:function(t){var r;if(t.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var s=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(r=this.options.textOptions)!==null&&r!==void 0&&r.className){var h,p=this.options.textOptions.className.split(" ");(h=this.textArea.classList).add.apply(h,Xl(p))}var C=this._createTextIcon(this.textArea),D=new L.Marker(s,{textMarker:!0,_textMarkerOverPM:!0,icon:C});if(this._setPane(D,"markerPane"),this._finishLayer(D),D.pm||(D.options.draggable=!1),D.addTo(this._map.pm._getContainingLayer()),D.pm){var z,N,G,W,ie;D.pm.textArea=this.textArea,L.setOptions(D.pm,{removeIfEmpty:(z=(N=this.options.textOptions)===null||N===void 0?void 0:N.removeIfEmpty)===null||z===void 0||z});var te=(G=(W=this.options.textOptions)===null||W===void 0?void 0:W.focusAfterDraw)===null||G===void 0||G;D.pm._createTextMarker(te),(ie=this.options.textOptions)!==null&&ie!==void 0&&ie.text&&D.pm.setText(this.options.textOptions.text)}this._fireCreate(D),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var t=document.createElement("textarea");return t.readOnly=!0,t.classList.add("pm-textarea","pm-disabled"),t},_createTextIcon:function(t){return L.divIcon({className:"pm-text-marker",html:t})}});const Zl={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,Ie(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var t=this._getDOMElem();t&&(Ie(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(t)):L.DomEvent.on(t,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,Ie(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var t=this._getDOMElem();t&&(Ie(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(t)):L.DomEvent.off(t,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(t){var r=t.touches?t.touches[0]:t,s={originalEvent:r,target:this._layer};return s.containerPoint=this._map.mouseEventToContainerPoint(r),s.latlng=this._map.containerPointToLatLng(s.containerPoint),this._dragMixinOnMouseDown(s),!1},_simulateMouseMoveEvent:function(t){var r=t.touches?t.touches[0]:t,s={originalEvent:r,target:this._layer};return s.containerPoint=this._map.mouseEventToContainerPoint(r),s.latlng=this._map.containerPointToLatLng(s.containerPoint),this._dragMixinOnMouseMove(s),!1},_simulateMouseUpEvent:function(t){var r={originalEvent:t.touches?t.touches[0]:t,target:this._layer};return t.type.indexOf("touch")===-1&&(r.containerPoint=this._map.mouseEventToContainerPoint(t),r.latlng=this._map.containerPointToLatLng(r.containerPoint)),this._dragMixinOnMouseUp(r),!1},_dragMixinOnMouseDown:function(t){if(!(t.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(t);var r=t._fromLayerSync,s=this._syncLayers("_dragMixinOnMouseDown",t);if(this._layer instanceof L.Marker&&(!this.options.snappable||r||s?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker){var h="resizeableCircleMarker";this._layer instanceof L.Circle&&(h="resizableCircle"),!this.options.snappable||r||s?this._layer.pm.options[h]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options[h]||this._initSnappableMarkersDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=t.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(t){this._overwriteEventIfItComesFromMarker(t);var r=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",t),this._dragging||(this._dragging=!0,L.DomUtil.addClass(r,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=t.latlng),this._onLayerDrag(t),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(t){var r=this,s=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",t),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(function(){r._dragging=!1,s&&L.DomUtil.removeClass(s,"leaflet-pm-dragging"),r._fireDragEnd(),r._fireEdit(),r._layerEdited=!0},10),!0)},_onLayerDrag:function(t){var r=t.latlng,s=r.lat-this._tempDragCoord.lat,h=r.lng-this._tempDragCoord.lng,p=function W(ie){return ie.map(function(te){if(Array.isArray(te))return W(te);var ce={lat:te.lat+s,lng:te.lng+h};return(te.alt||te.alt===0)&&(ce.alt=te.alt),ce})};if(this._layer instanceof L.Circle&&this._layer.options.resizableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){var C=p([this._layer.getLatLng()]);this._layer.setLatLng(C[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var D=this._layer.getLatLng();this._layer._snapped&&(D=this._layer._orgLatLng);var z=p([D]);this._layer.setLatLng(z[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var N=p([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(N),this._fireChange(this._layer.getBounds(),"Edit")}else{var G=p(this._layer.getLatLngs());this._layer.setLatLngs(G),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=r,t.layer=this._layer,this._fireDrag(t)},addDraggingClass:function(){var t=this._getDOMElem();t&&L.DomUtil.addClass(t,"leaflet-pm-draggable")},removeDraggingClass:function(){var t=this._getDOMElem();t&&L.DomUtil.removeClass(t,"leaflet-pm-draggable")},_getDOMElem:function(){var t=null;return this._layer._path?t=this._layer._path:this._layer._renderer&&this._layer._renderer._container?t=this._layer._renderer._container:this._layer._image?t=this._layer._image:this._layer._icon&&(t=this._layer._icon),t},_overwriteEventIfItComesFromMarker:function(t){t.target.getLatLng&&(!t.target._radius||t.target._radius<=10)&&(t.containerPoint=this._map.mouseEventToContainerPoint(t.originalEvent),t.latlng=this._map.containerPointToLatLng(t.containerPoint))},_syncLayers:function(t,r){var s=this;if(this.enabled())return!1;if(!r._fromLayerSync&&this._layer===r.target&&this.options.syncLayersOnDrag){r._fromLayerSync=!0;var h=[];if(L.Util.isArray(this.options.syncLayersOnDrag))h=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(function(D){D instanceof L.LayerGroup&&(h=h.concat(D.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(var p in this._parentLayerGroup){var C=this._parentLayerGroup[p];C.pm&&(h=C.pm.getLayers(!0))}return L.Util.isArray(h)&&h.length>0&&(h=h.filter(function(D){return!!D.pm}).filter(function(D){return!!D.pm.options.draggable})).forEach(function(D){D!==s._layer&&D.pm[t]&&(D._snapped=!1,D.pm[t](r))}),h.length>0}return!1},_stopDOMImageDrag:function(t){return t.preventDefault(),!1}};function Fo(t,r,s){var h=s.getMaxZoom();if(h===1/0&&(h=s.getZoom()),L.Util.isArray(t)){var p=[];return t.forEach(function(C){p.push(Fo(C,r,s))}),p}return t instanceof L.LatLng?function(C,D,z,N){return z.unproject(D.transform(z.project(C,N)),N)}(t,r,s,h):null}function Vn(t,r){r instanceof L.Layer&&(r=r.getLatLng());var s=t.getMaxZoom();return s===1/0&&(s=t.getZoom()),t.project(r,s)}function Ir(t,r){var s=t.getMaxZoom();return s===1/0&&(s=t.getZoom()),t.unproject(r,s)}var Ql={_onRotateStart:function(t){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Vn(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Vn(this._map,t.target.getLatLng()),this._initialRotateLatLng=Se(this._layer),this._startAngle=this.getAngle();var r=Se(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,r),this._fireRotationStart(this._map,r)},_onRotate:function(t){var r=Vn(this._map,t.target.getLatLng()),s=this._rotationStartPoint,h=this._rotationOriginPoint,p=Math.atan2(r.y-h.y,r.x-h.x)-Math.atan2(s.y-h.y,s.x-h.x);this._layer.setLatLngs(this._rotateLayer(p,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var C=this;(function G(W){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(te>-1&&ie.push(te),L.Util.isArray(W[0]))W.forEach(function(ve,Te){return G(ve,ie.slice(),Te)});else{var ce=ee()(C._markers,ie);W.forEach(function(ve,Te){ce[Te].setLatLng(ve)})}})(this._layer.getLatLngs());var D=Se(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(p,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var z=180*p/Math.PI,N=(z=z<0?z+360:z)+this._startAngle;this._setAngle(N),this._rotationLayer.pm._setAngle(N),this._fireRotation(this._rotationLayer,z,D),this._fireRotation(this._map,z,D),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var t=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var r=Se(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=Se(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,t,r),this._fireRotationEnd(this._map,t,r),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(t,r,s,h,p){var C=Vn(p,s);return this._matrix=h.clone().rotate(t,C).flip(),Fo(r,this._matrix,p)},_setAngle:function(t){t=t<0?t+360:t,this._angle=t%360},_getRotationCenter:function(){if(this._rotationCenter)return this._rotationCenter;var t=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),r=t.getCenter();return t.removeFrom(this._layer._map),r},enableRotate:function(){this.options.allowRotation?(this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(He(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0),this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=Se(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(t){var r=this.getAngle(),s=this._layer.getLatLngs(),h=t*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(h,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+t),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(h,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var p=this.getAngle()-r;p=p<0?p+360:p,this._startAngle=r,this._fireRotation(this._layer,p,s,this._layer),this._fireRotation(this._map||this._layer._map,p,s,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(t){var r=t-this.getAngle();this.rotateLayer(r)},getAngle:function(){return this._angle||0},setInitAngle:function(t){this._setAngle(t)},getRotationCenter:function(){return this._getRotationCenter()},setRotationCenter:function(t){this._rotationCenter=t,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(t)}};const eu=Ql,yt=L.Class.extend({includes:[Zl,g,eu,ne],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizableCircle:!0},setOptions:function(t){L.Util.setOptions(this,t)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(t,r){r==="layerPane"?t.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":r==="vertexPane"?t.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":r==="markerPane"&&(t.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(t,r){var s=r.target,h={layer:this._layer,marker:s,event:r},p="";return t==="move"?p="moveVertexValidation":t==="add"?p="addVertexValidation":t==="remove"&&(p="removeVertexValidation"),this.options[p]&&typeof this.options[p]=="function"&&!this.options[p](h)?(t==="move"&&(s._cancelDragEventChain=s.getLatLng()),!1):(s._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(t){return!t._cancelDragEventChain||(t._latlng=t._cancelDragEventChain,t.update(),!1)},_vertexValidationDragEnd:function(t){return!t._cancelDragEventChain||(t._cancelDragEventChain=null,!1)}});function Dr(t){return function(r){if(Array.isArray(r))return Si(r)}(t)||function(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}(t)||function(r,s){if(r){if(typeof r=="string")return Si(r,s);var h=Object.prototype.toString.call(r).slice(8,-1);if(h==="Object"&&r.constructor&&(h=r.constructor.name),h==="Map"||h==="Set")return Array.from(r);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return Si(r,s)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Si(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,h=new Array(r);s<r;s++)h[s]=t[s];return h}yt.LayerGroup=L.Class.extend({initialize:function(t){var r=this;this._layerGroup=t,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(function(s){return r._initLayer(s)}),this._layerGroup.on("layeradd",L.Util.throttle(function(s){if(!s.layer._pmTempLayer){r._layers=r.getLayers();var h=r._layers.filter(function(p){return!p.pm._parentLayerGroup||!(r._layerGroup._leaflet_id in p.pm._parentLayerGroup)});h.forEach(function(p){r._initLayer(p)}),h.length>0&&r._getMap()&&r._getMap().pm.globalEditModeEnabled()&&r.enabled()&&r.enable(r.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(s){r._removeLayerFromGroup(s.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(s){s.target._pmTempLayer||(r._layers=r.getLayers())},100,this),this)},enable:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];r.length===0&&(this._layers=this.getLayers()),this._options=t,this._layers.forEach(function(s){s instanceof L.LayerGroup?r.indexOf(s._leaflet_id)===-1&&(r.push(s._leaflet_id),s.pm.enable(t,r)):s.pm.enable(t)})},disable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.length===0&&(this._layers=this.getLayers()),this._layers.forEach(function(r){r instanceof L.LayerGroup?t.indexOf(r._leaflet_id)===-1&&(t.push(r._leaflet_id),r.pm.disable(t)):r.pm.disable()})},enabled:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.length===0&&(this._layers=this.getLayers());var r=this._layers.find(function(s){return s instanceof L.LayerGroup?t.indexOf(s._leaflet_id)===-1&&(t.push(s._leaflet_id),s.pm.enabled(t)):s.pm.enabled()});return!!r},toggleEdit:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];r.length===0&&(this._layers=this.getLayers()),this._options=t,this._layers.forEach(function(s){s instanceof L.LayerGroup?r.indexOf(s._leaflet_id)===-1&&(r.push(s._leaflet_id),s.pm.toggleEdit(t,r)):s.pm.toggleEdit(t)})},_initLayer:function(t){var r=L.Util.stamp(this._layerGroup);t.pm._parentLayerGroup||(t.pm._parentLayerGroup={}),t.pm._parentLayerGroup[r]=this._layerGroup},_removeLayerFromGroup:function(t){if(t.pm&&t.pm._layerGroup){var r=L.Util.stamp(this._layerGroup);delete t.pm._layerGroup[r]}},dragging:function(){if(this._layers=this.getLayers(),this._layers){var t=this._layers.find(function(r){return r.pm.dragging()});return!!t}return!1},getOptions:function(){return this.options},_getMap:function(){var t;return this._map||((t=this._layers.find(function(r){return!!r._map}))===null||t===void 0?void 0:t._map)||null},getLayers:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],p=[];return t?this._layerGroup.getLayers().forEach(function(C){p.push(C),C instanceof L.LayerGroup&&h.indexOf(C._leaflet_id)===-1&&(h.push(C._leaflet_id),p=p.concat(C.pm.getLayers(!0,!0,!0,h)))}):p=this._layerGroup.getLayers(),s&&(p=p.filter(function(C){return!(C instanceof L.LayerGroup)})),r&&(p=(p=(p=p.filter(function(C){return!!C.pm})).filter(function(C){return!C._pmTempLayer})).filter(function(C){return!L.PM.optIn&&!C.options.pmIgnore||L.PM.optIn&&C.options.pmIgnore===!1})),p},setOptions:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];r.length===0&&(this._layers=this.getLayers()),this.options=t,this._layers.forEach(function(s){s.pm&&(s instanceof L.LayerGroup?r.indexOf(s._leaflet_id)===-1&&(r.push(s._leaflet_id),s.pm.setOptions(t,r)):s.pm.setOptions(t))})}}),yt.Marker=yt.extend({_shape:"Marker",initialize:function(t){this._layer=t,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0};L.Util.setOptions(this,t),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(t){var r=t.target;r.remove(),this._fireRemove(r),this._fireRemove(this._map,r)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var t=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,t.off("pm:drag",this._handleSnapping,this),t.on("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.on("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this),t.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var t=this._layer;t.off("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this)}});const tu={filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var t=[].concat(Dr(this._markerGroup.getLayers()),Dr(this.markerCache));this.markerCache=t.filter(function(r,s,h){return h.indexOf(r)===s})},renderLimits:function(t){var r=this;this.markerCache.forEach(function(s){t.includes(s)?r._markerGroup.addLayer(s):r._markerGroup.removeLayer(s)})},applyLimitFilters:function(t){var r=t.latlng,s=r===void 0?{lat:0,lng:0}:r;if(!this._preventRenderMarkers){var h=Dr(this._filterClosestMarkers(s));this.renderLimits(h)}},_filterClosestMarkers:function(t){var r=Dr(this.markerCache),s=this.options.limitMarkersToCount;return s===-1?r:(r.sort(function(h,p){return h._latlng.distanceTo(t)-p._latlng.distanceTo(t)}),r.filter(function(h,p){return!(s>-1)||p<s}))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(t){this._preventRenderMarkers=!!t}};function nu(t,r){return function(s){if(Array.isArray(s))return s}(t)||function(s,h){var p=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(p!=null){var C,D,z=[],N=!0,G=!1;try{for(p=p.call(s);!(N=(C=p.next()).done)&&(z.push(C.value),!h||z.length!==h);N=!0);}catch(W){G=!0,D=W}finally{try{N||p.return==null||p.return()}finally{if(G)throw D}}return z}}(t,r)||function(s,h){if(s){if(typeof s=="string")return Go(s,h);var p=Object.prototype.toString.call(s).slice(8,-1);if(p==="Object"&&s.constructor&&(p=s.constructor.name),p==="Map"||p==="Set")return Array.from(s);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return Go(s,h)}}(t,r)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Go(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,h=new Array(r);s<r;s++)h[s]=t[s];return h}function ru(t){return function(r){if(Array.isArray(r))return Oi(r)}(t)||function(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}(t)||function(r,s){if(r){if(typeof r=="string")return Oi(r,s);var h=Object.prototype.toString.call(r).slice(8,-1);if(h==="Object"&&r.constructor&&(h=r.constructor.name),h==="Map"||h==="Set")return Array.from(r);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return Oi(r,s)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Oi(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,h=new Array(r);s<r;s++)h[s]=t[s];return h}yt.Line=yt.extend({includes:[tu],_shape:"Line",initialize:function(t){this._layer=t,this._enabled=!1},enable:function(t){L.Util.setOptions(this,t),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var t=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(t,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(t){return this.enabled()?this.disable():this.enable(t),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var t=this,r=this._map,s=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function h(p){if(Array.isArray(p[0]))return p.map(h,t);var C=p.map(t._createMarker,t);return t.options.hideMiddleMarkers!==!0&&p.map(function(D,z){var N=t.isPolygon()?(z+1)%p.length:z+1;return t._createMiddleMarker(C[z],C[N])}),C}(s),this.filterMarkerGroup(),r.addLayer(this._markerGroup)},_createMarker:function(t){var r=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._pmTempLayer=!0,this.options.rotate?(r.on("dragstart",this._onRotateStart,this),r.on("drag",this._onRotate,this),r.on("dragend",this._onRotateEnd,this)):(r.on("click",this._onVertexClick,this),r.on("dragstart",this._onMarkerDragStart,this),r.on("move",this._onMarkerDrag,this),r.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||r.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(r),r},_createMiddleMarker:function(t,r){if(!t||!r)return!1;var s=L.PM.Utils.calcMiddleLatLng(this._map,t.getLatLng(),r.getLatLng()),h=this._createMarker(s),p=L.divIcon({className:"marker-icon marker-icon-middle"});return h.setIcon(p),h.leftM=t,h.rightM=r,t._middleMarkerNext=h,r._middleMarkerPrev=h,h.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),h.on("movestart",this._onMiddleMarkerMoveStart,this),h},_onMiddleMarkerClick:function(t){var r=t.target;if(this._vertexValidation("add",t)){var s=L.divIcon({className:"marker-icon"});r.setIcon(s),this._addMarker(r,r.leftM,r.rightM)}},_onMiddleMarkerMoveStart:function(t){var r=t.target;r.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",t)?(r._dragging=!0,this._addMarker(r,r.leftM,r.rightM)):r.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(t){var r=t.target;this._vertexValidationDrag(r)},_onMiddleMarkerMoveEnd:function(t){var r=t.target;if(r.off("move",this._onMiddleMarkerMovePrevent,this),r.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(r)){var s=L.divIcon({className:"marker-icon"});r.setIcon(s),setTimeout(function(){delete r._dragging},100)}},_addMarker:function(t,r,s){t.off("movestart",this._onMiddleMarkerMoveStart,this),t.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var h=t.getLatLng(),p=this._layer._latlngs;delete t.leftM,delete t.rightM;var C=L.PM.Utils.findDeepMarkerIndex(this._markers,r),D=C.indexPath,z=C.index,N=C.parentPath,G=D.length>1?ee()(p,N):p,W=D.length>1?ee()(this._markers,N):this._markers;G.splice(z+1,0,h),W.splice(z+1,0,t),this._layer.setLatLngs(p),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(r,t),this._createMiddleMarker(t,s)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(t,L.PM.Utils.findDeepMarkerIndex(this._markers,t).indexPath,h),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return je(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(t){var r,s,h=this._layer;if(r=!this.options.allowSelfIntersection&&(s=je(this._layer.toGeoJSON(15))).features.length>0){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return r;t?this._flashLayer():(h.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(s)}else h.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return r},_flashLayer:function(){var t=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(function(){t._layer.setStyle({color:t.cachedColor}),t.isRed=!1},200)},_updateDisabledMarkerStyle:function(t,r){var s=this;t.forEach(function(h){Array.isArray(h)?s._updateDisabledMarkerStyle(h,r):h._icon&&(r&&!s._checkMarkerAllowedToDrag(h)?L.DomUtil.addClass(h._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(h._icon,"vertexmarker-disabled"))})},_removeMarker:function(t){var r=t.target;if(this._vertexValidation("remove",t)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=Se(this._layer,this._layer.getLatLngs()));var s=this._layer.getLatLngs(),h=L.PM.Utils.findDeepMarkerIndex(this._markers,r),p=h.indexPath,C=h.index,D=h.parentPath;if(p){var z=p.length>1?ee()(s,D):s,N=p.length>1?ee()(this._markers,D):this._markers;if(this.options.removeLayerBelowMinVertexCount||!(z.length<=2||this.isPolygon()&&z.length<=3)){z.splice(C,1),this._layer.setLatLngs(s),this.isPolygon()&&z.length<=2&&z.splice(0,z.length);var G=!1;if(z.length<=1&&(z.splice(0,z.length),D.length>1&&p.length>1&&(s=ke(s)),this._layer.setLatLngs(s),this._initMarkers(),G=!0),ue(s)||this._layer.remove(),s=ke(s),this._layer.setLatLngs(s),this._markers=ke(this._markers),!G&&(N=p.length>1?ee()(this._markers,D):this._markers,r._middleMarkerPrev&&this._markerGroup.removeLayer(r._middleMarkerPrev),r._middleMarkerNext&&this._markerGroup.removeLayer(r._middleMarkerNext),this._markerGroup.removeLayer(r),N)){var W,ie;if(this.isPolygon()?(W=(C+1)%N.length,ie=(C+(N.length-1))%N.length):(ie=C-1<0?void 0:C-1,W=C+1>=N.length?void 0:C+1),W!==ie){var te=N[ie],ce=N[W];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(te,ce)}N.splice(C,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(r,p),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(t){var r=this._layer.getLatLngs(),s=t.getLatLng(),h=L.PM.Utils.findDeepMarkerIndex(this._markers,t),p=h.indexPath,C=h.index,D=h.parentPath;(p.length>1?ee()(r,D):r).splice(C,1,s),this._layer.setLatLngs(r)},_getNeighborMarkers:function(t){var r=L.PM.Utils.findDeepMarkerIndex(this._markers,t),s=r.indexPath,h=r.index,p=r.parentPath,C=s.length>1?ee()(this._markers,p):this._markers,D=(h+1)%C.length;return{prevMarker:C[(h+(C.length-1))%C.length],nextMarker:C[D]}},_checkMarkerAllowedToDrag:function(t){var r=this._getNeighborMarkers(t),s=r.prevMarker,h=r.nextMarker,p=L.polyline([s.getLatLng(),t.getLatLng()]),C=L.polyline([t.getLatLng(),h.getLatLng()]),D=Ht(this._layer.toGeoJSON(15),p.toGeoJSON(15)).features.length,z=Ht(this._layer.toGeoJSON(15),C.toGeoJSON(15)).features.length;return t.getLatLng()===this._markers[0][0].getLatLng()?z+=1:t.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(D+=1),!(D<=2&&z<=2)},_onMarkerDragStart:function(t){var r=t.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",t)){var s=L.PM.Utils.findDeepMarkerIndex(this._markers,r).indexPath;this._fireMarkerDragStart(t,s),this.options.allowSelfIntersection||(this._coordsBeforeEdit=Se(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(r):this._markerAllowedToDrag=null}},_onMarkerDrag:function(t){var r=t.target;if(this._vertexValidationDrag(r)){var s=L.PM.Utils.findDeepMarkerIndex(this._markers,r),h=s.indexPath,p=s.index,C=s.parentPath;if(h){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(r);var D=h.length>1?ee()(this._markers,C):this._markers,z=(p+1)%D.length,N=(p+(D.length-1))%D.length,G=r.getLatLng(),W=D[N].getLatLng(),ie=D[z].getLatLng();if(r._middleMarkerNext){var te=L.PM.Utils.calcMiddleLatLng(this._map,G,ie);r._middleMarkerNext.setLatLng(te)}if(r._middleMarkerPrev){var ce=L.PM.Utils.calcMiddleLatLng(this._map,G,W);r._middleMarkerPrev.setLatLng(ce)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(t,h),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(t){var r=t.target;if(this._vertexValidationDragEnd(r)){var s=L.PM.Utils.findDeepMarkerIndex(this._markers,r).indexPath,h=this.hasSelfIntersection();h&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(h=!1);var p=!this.options.allowSelfIntersection&&h;if(this._fireMarkerDragEnd(t,s,p),p)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(t,s);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(t){var r=t.target;if(!r._dragging){var s=L.PM.Utils.findDeepMarkerIndex(this._markers,r).indexPath;this._fireVertexClick(t,s)}}}),yt.Polygon=yt.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(t){var r=this._getNeighborMarkers(t),s=r.prevMarker,h=r.nextMarker,p=L.polyline([s.getLatLng(),t.getLatLng()]),C=L.polyline([t.getLatLng(),h.getLatLng()]),D=Ht(this._layer.toGeoJSON(15),p.toGeoJSON(15)).features.length,z=Ht(this._layer.toGeoJSON(15),C.toGeoJSON(15)).features.length;return!(D<=2&&z<=2)}}),yt.Rectangle=yt.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var t=this,r=this._map,s=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,r.addLayer(this._markerGroup),this._markers=[],this._markers[0]=s.map(this._createMarker,this);var h=nu(this._markers,1);this._cornerMarkers=h[0],this._layer.getLatLngs()[0].forEach(function(p,C){var D=t._cornerMarkers.find(function(z){return z._index===C});D&&D.setLatLng(p)})},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(t,r){var s=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(s,"vertexPane"),s._origLatLng=t,s._index=r,s._pmTempLayer=!0,s.on("click",this._onVertexClick,this),this._markerGroup.addLayer(s),s},_addMarkerEvents:function(){var t=this;this._markers[0].forEach(function(r){r.on("dragstart",t._onMarkerDragStart,t),r.on("drag",t._onMarkerDrag,t),r.on("dragend",t._onMarkerDragEnd,t),t.options.preventMarkerRemoval||r.on("contextmenu",t._removeMarker,t)})},_removeMarker:function(){return null},_onMarkerDragStart:function(t){if(this._vertexValidation("move",t)){var r=t.target,s=this._cornerMarkers;r._oppositeCornerLatLng=s.find(function(h){return h._index===(r._index+2)%4}).getLatLng(),r._snapped=!1,this._fireMarkerDragStart(t)}},_onMarkerDrag:function(t){var r=t.target;this._vertexValidationDrag(r)&&r._index!==void 0&&(this._adjustRectangleForMarkerMove(r),this._fireMarkerDrag(t),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(t){var r=t.target;this._vertexValidationDragEnd(r)&&(this._cornerMarkers.forEach(function(s){delete s._oppositeCornerLatLng}),this._fireMarkerDragEnd(t),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(t){L.extend(t._origLatLng,t._latlng);var r=L.PM.Utils._getRotatedRectangle(t.getLatLng(),t._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(r),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var t=this,r=this._layer.getLatLngs()[0];r&&r.length!==4&&r.length>0?(r.forEach(function(s,h){t._cornerMarkers[h].setLatLng(s)}),this._cornerMarkers.slice(r.length).forEach(function(s){s.setLatLng(r[0])})):r&&r.length?this._cornerMarkers.forEach(function(s){s.setLatLng(r[s._index])}):console.error("The layer has no LatLngs")},_findCorners:function(){this._angle===void 0&&this.setInitAngle(He(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);var t=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(t[0],t[2],this.getAngle(),this._map||this)}}),yt.CircleMarker=yt.extend({_shape:"CircleMarker",initialize:function(t){this._layer=t,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,t),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},_extendingEnable:function(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable:function(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this.options[this._editableOption]?(this._helperLayers&&this._helperLayers.clearLayers(),this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable:function(){this._layer.off("contextmenu",this._removeMarker,this)},enabled:function(){return this._enabled},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},applyOptions:function(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions:function(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var t=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(t);var r=this._layer.getLatLng(),s=this._layer._radius,h=this._getLatLngOnCircle(r,s);this._centerMarker=this._createCenterMarker(r),this._outerMarker=this._createOuterMarker(h),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(t,r){var s=this._map.project(t),h=L.point(s.x+r,s.y);return this._map.unproject(h)},_createHintLine:function(t,r){var s=t.getLatLng(),h=r.getLatLng();this._hintline=L.polyline([s,h],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(t){var r=this._createMarker(t);return this.options.draggable?L.DomUtil.addClass(r._icon,"leaflet-pm-draggable"):r.dragging.disable(),r},_createOuterMarker:function(t){var r=this._createMarker(t);return r.on("drag",this._resizeCircle,this),r},_createMarker:function(t){var r=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._origLatLng=t,r._pmTempLayer=!0,r.on("dragstart",this._onMarkerDragStart,this),r.on("drag",this._onMarkerDrag,this),r.on("dragend",this._onMarkerDragEnd,this),r.on("click",this._onVertexClick,this),this._helperLayers.addLayer(r),r},_moveCircle:function(t){if(!t.target._cancelDragEventChain){var r=this._centerMarker.getLatLng();this._layer.setLatLng(r);var s=this._layer._radius,h=this._getLatLngOnCircle(r,s);this._outerMarker._latlng=h,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncMarkers:function(){var t=this._layer.getLatLng(),r=this._layer._radius,s=this._getLatLngOnCircle(t,r);this._outerMarker.setLatLng(s),this._centerMarker.setLatLng(t),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var t=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng(),s=this._distanceCalculation(t,r);this.options[this._minRadiusOption]&&s<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&s>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(s),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var t=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng();this._hintline.setLatLngs([t,r])},_removeMarker:function(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(t){this._vertexValidation("move",t)&&this._fireMarkerDragStart(t)},_onMarkerDrag:function(t){var r=t.target;r instanceof L.Marker&&!this._vertexValidationDrag(r)||this._fireMarkerDrag(t)},_onMarkerDragEnd:function(t){this._extedingMarkerDragEnd();var r=t.target;this._vertexValidationDragEnd(r)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(t))},_extedingMarkerDragEnd:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag:function(){var t=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,t.off("pm:drag",this._handleSnapping,this),t.on("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.on("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this),t.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var t=this._layer;t.off("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var t=this._layer._map||this._map;if(t){var r=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),t,this._layer.getLatLng()),s=L.circle(this._layer.getLatLng(),this._layer.options);s.setRadius(r);var h=t&&t.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(s,200,!h).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(s,200,!h),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var t=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng(),s=this._distanceCalculation(t,r);return this.options[this._minRadiusOption]&&s<this.options[this._minRadiusOption]?r=Ue(this._map,t,r,this._getMinDistanceInMeter(t)):this.options[this._maxRadiusOption]&&s>this.options[this._maxRadiusOption]&&(r=Ue(this._map,t,r,this._getMaxDistanceInMeter(t))),r},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var t=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng(),s=this._distanceCalculation(t,r);(this.options[this._minRadiusOption]&&s<this.options[this._minRadiusOption]||this.options[this._maxRadiusOption]&&s>this.options[this._maxRadiusOption])&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation:function(t,r){return this._map.project(t).distanceTo(this._map.project(r))},_getMinDistanceInMeter:function(t){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,t)},_getMaxDistanceInMeter:function(t){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,t)},_onVertexClick:function(t){t.target._dragging||this._fireVertexClick(t,void 0)}}),yt.Circle=yt.CircleMarker.extend({_shape:"Circle",initialize:function(t){this._layer=t,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._updateHiddenPolyCircle()},enable:function(t){L.PM.Edit.CircleMarker.prototype.enable.call(this,t||{})},_extendingEnable:function(){},_extendingDisable:function(){this._layer.off("remove",this.disable,this);var t=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(t,"leaflet-pm-draggable")},_extendingApplyOptions:function(){},_syncMarkers:function(){},_removeMarker:function(){},_onDragStart:function(){},_extedingMarkerDragEnd:function(){},_updateHiddenPolyCircle:function(){var t=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!t).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!t),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation:function(t,r){return this._map.distance(t,r)},_getMinDistanceInMeter:function(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter:function(){return this.options[this._maxRadiusOption]},_onVertexClick:function(t){t.target._dragging||this._fireVertexClick(t,void 0)}}),yt.ImageOverlay=yt.extend({_shape:"ImageOverlay",initialize:function(t){this._layer=t,this._enabled=!1},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},enabled:function(){return this._enabled},enable:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,t),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var t=this._layer.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]}}),yt.Text=yt.extend({_shape:"Text",initialize:function(t){this._layer=t,this._enabled=!1},enable:function(t){L.Util.setOptions(this,t),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var t=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),t.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var t=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,t.off("pm:drag",this._handleSnapping,this),t.on("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.on("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this),t.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var t=this._layer;t.off("pm:drag",this._handleSnapping,this),t.off("pm:dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var t=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,r=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(t,"px"),this.textArea.style.width="".concat(r,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var t=this;this._disableOnBlurActive=!0,setTimeout(function(){t.enabled()&&L.DomEvent.on(document,"click",t._documentClick,t)},100)},_documentClick:function(t){t.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=this._hasFocus;this._hasFocus=t.type==="focus",!r!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(t){this.textArea.value=t,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var t,r=this.options.className.split(" ");(t=this.textArea.classList).add.apply(t,ru(r))}var s=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(s),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),t===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(t){t.preventDefault()}});var Pi=function(t,r,s,h,p,C){this._matrix=[t,r,s,h,p,C]};Pi.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},Pi.prototype={transform:function(t){return this._transform(t.clone())},_transform:function(t){var r=this._matrix,s=t.x,h=t.y;return t.x=r[0]*s+r[1]*h+r[4],t.y=r[2]*s+r[3]*h+r[5],t},untransform:function(t){var r=this._matrix;return new L.Point((t.x/r[0]-r[4])/r[0],(t.y/r[2]-r[5])/r[2])},clone:function(){var t=this._matrix;return new L.PM.Matrix(t[0],t[1],t[2],t[3],t[4],t[5])},translate:function(t){return t===void 0?new L.Point(this._matrix[4],this._matrix[5]):(typeof t=="number"?(r=t,s=t):(r=t.x,s=t.y),this._add(1,0,0,1,r,s));var r,s},scale:function(t,r){return t===void 0?new L.Point(this._matrix[0],this._matrix[3]):(r=r||L.point(0,0),typeof t=="number"?(s=t,h=t):(s=t.x,h=t.y),this._add(s,0,0,h,r.x,r.y)._add(1,0,0,1,-r.x,-r.y));var s,h},rotate:function(t,r){var s=Math.cos(t),h=Math.sin(t);return r=r||new L.Point(0,0),this._add(s,h,-h,s,r.x,r.y)._add(1,0,0,1,-r.x,-r.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(t,r,s,h,p,C){var D,z=[[],[],[]],N=this._matrix,G=[[N[0],N[2],N[4]],[N[1],N[3],N[5]],[0,0,1]],W=[[t,s,p],[r,h,C],[0,0,1]];t&&t instanceof L.PM.Matrix&&(W=[[(N=t._matrix)[0],N[2],N[4]],[N[1],N[3],N[5]],[0,0,1]]);for(var ie=0;ie<3;ie+=1)for(var te=0;te<3;te+=1){D=0;for(var ce=0;ce<3;ce+=1)D+=G[ie][ce]*W[ce][te];z[ie][te]=D}return this._matrix=[z[0][0],z[1][0],z[0][1],z[1][1],z[0][2],z[1][2]],this}};const iu=Pi;var ou={calcMiddleLatLng:function(t,r,s){var h=t.project(r),p=t.project(s);return t.unproject(h._add(p)._divideBy(2))},findLayers:function(t){var r=[];return t.eachLayer(function(s){(s instanceof L.Polyline||s instanceof L.Marker||s instanceof L.Circle||s instanceof L.CircleMarker||s instanceof L.ImageOverlay)&&r.push(s)}),r=(r=(r=r.filter(function(s){return!!s.pm})).filter(function(s){return!s._pmTempLayer})).filter(function(s){return!L.PM.optIn&&!s.options.pmIgnore||L.PM.optIn&&s.options.pmIgnore===!1})},circleToPolygon:function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=t.getLatLng(),p=t.getRadius(),C=Me(h,p,r,0,s),D=[],z=0;z<C.length;z+=1){var N=[C[z].lat,C[z].lng];D.push(N)}return L.polygon(D,t.options)},disablePopup:function(t){t.getPopup()&&(t._tempPopupCopy=t.getPopup(),t.unbindPopup())},enablePopup:function(t){t._tempPopupCopy&&(t.bindPopup(t._tempPopupCopy),delete t._tempPopupCopy)},_fireEvent:function(t,r,s){var h=arguments.length>3&&arguments[3]!==void 0&&arguments[3];t.fire(r,s,h);var p=this.getAllParentGroups(t),C=p.groups;C.forEach(function(D){D.fire(r,s,h)})},getAllParentGroups:function(t){var r=[],s=[];return!t._pmLastGroupFetch||!t._pmLastGroupFetch.time||new Date().getTime()-t._pmLastGroupFetch.time>1e3?(function h(p){for(var C in p._eventParents)if(r.indexOf(C)===-1){r.push(C);var D=p._eventParents[C];s.push(D),h(D)}}(t),t._pmLastGroupFetch={time:new Date().getTime(),groups:s,groupIds:r},{groupIds:r,groups:s}):{groups:t._pmLastGroupFetch.groups,groupIds:t._pmLastGroupFetch.groupIds}},createGeodesicPolygon:Me,getTranslation:X,findDeepCoordIndex:function(t,r){var s,h=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],p=function D(z){return function(N,G){var W=z.concat(G);if(h){if(N.lat&&N.lat===r.lat&&N.lng===r.lng)return s=W,!0}else if(N.lat&&L.latLng(N).equals(r))return s=W,!0;return Array.isArray(N)&&N.some(D(W))}};t.some(p([]));var C={};return s&&(C={indexPath:s,index:s[s.length-1],parentPath:s.slice(0,s.length-1)}),C},findDeepMarkerIndex:function(t,r){var s;t.some(function p(C){return function(D,z){var N=C.concat(z);return D._leaflet_id===r._leaflet_id?(s=N,!0):Array.isArray(D)&&D.some(p(N))}}([]));var h={};return s&&(h={indexPath:s,index:s[s.length-1],parentPath:s.slice(0,s.length-1)}),h},_getIndexFromSegment:function(t,r){if(r&&r.length===2){var s=this.findDeepCoordIndex(t,r[0]),h=this.findDeepCoordIndex(t,r[1]),p=Math.max(s.index,h.index);return s.index!==0&&h.index!==0||p===1||(p+=1),{indexA:s,indexB:h,newIndex:p,indexPath:s.indexPath,parentPath:s.parentPath}}return null},_getRotatedRectangle:function(t,r,s,h){var p=Vn(h,t),C=Vn(h,r),D=s*Math.PI/180,z=Math.cos(D),N=Math.sin(D),G=(C.x-p.x)*z+(C.y-p.y)*N,W=(C.y-p.y)*z-(C.x-p.x)*N,ie=G*z+p.x,te=G*N+p.y,ce=-W*N+p.x,ve=W*z+p.y;return[Ir(h,p),Ir(h,{x:ie,y:te}),Ir(h,C),Ir(h,{x:ce,y:ve})]},pxRadiusToMeterRadius:function(t,r,s){var h=r.project(s),p=L.point(h.x+t,h.y);return r.distance(r.unproject(p),s)}};const au=ou;L.PM=L.PM||{version:"2.15.0",Map:pt,Toolbar:Ne,Draw:_,Edit:yt,Utils:au,Matrix:iu,activeLang:"en",optIn:!1,initialize:function(t){this.addInitHooks(t)},setOptIn:function(t){this.optIn=!!t},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(t){var r=this;t instanceof L.LayerGroup&&t.eachLayer(function(s){r.reInitLayer(s)}),t.pm||L.PM.optIn&&t.options.pmIgnore!==!1||t.options.pmIgnore||(t instanceof L.Map?t.pm=new L.PM.Map(t):t instanceof L.Marker?t.options.textMarker?(t.pm=new L.PM.Edit.Text(t),t.pm._initTextMarker(),t.pm._createTextMarker(!1)):t.pm=new L.PM.Edit.Marker(t):t instanceof L.Circle?t.pm=new L.PM.Edit.Circle(t):t instanceof L.CircleMarker?t.pm=new L.PM.Edit.CircleMarker(t):t instanceof L.Rectangle?t.pm=new L.PM.Edit.Rectangle(t):t instanceof L.Polygon?t.pm=new L.PM.Edit.Polygon(t):t instanceof L.Polyline?t.pm=new L.PM.Edit.Line(t):t instanceof L.LayerGroup?t.pm=new L.PM.Edit.LayerGroup(t):t instanceof L.ImageOverlay&&(t.pm=new L.PM.Edit.ImageOverlay(t)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick:function(t){for(var r,s,h=this._map.mouseEventToLayerPoint(t),p=this._drawFirst;p;p=p.next)(r=p.layer).options.interactive&&r._containsPoint(h)&&(t.type!=="click"&&t.type!=="preclick"||!this._map._draggableMoved(r))&&(s=r);s&&(L.DomEvent.fakeStop(t),this._fireEvent([s],t))}}),L.PM.initialize()})()})();const Fv=Re("div",{id:"leaflet",class:"w-screen h-screen"},null,-1),Gv=Pe({__name:"DrawLine",emits:["elevatorAdd"],setup(e,{expose:n,emit:i}){const o=i;Mt(()=>{u(),v(),b()});let l;const a=mn();function u(){l=a.init("leaflet")}const c=new Vu,d=new Hu,f=new Uu;Ku.on("floorChange",m=>{c.updateDataList(),d.updateDataList(),f.updateDataList(),v()});function v(){c.showBeforeData(),d.showBeforeData(),f.showBeforeData()}function b(){l.pm.addControls({position:"topleft",drawCircleMarker:!1,rotateMode:!1,drawRectangle:!1,drawPolygon:!1,drawCircle:!1,drawText:!1,cutPolygon:!1,dragMode:!1}),l.pm.setGlobalOptions({snapDistance:15,continueDrawing:!0,snapMiddle:!0,allowSelfIntersectionEdit:!0,pathOptions:qu}),Wu(l),l.pm.setLang("zh"),l.on("pm:create",m=>{switch(m.shape){case"Line":c.onCreate(m);break;case"Marker":d.onCreate(m);break;case na:y=m,o("elevatorAdd",m);break}}),l.on("pm:remove",m=>{switch(m.shape){case"Line":c.onRemove(m);break;case"Marker":d.onRemove(m);break;case na:f.onRemove(m);break}})}let x;function P(m){x&&x.remove(),m!=null&&m.length&&(x=ln.polyline(m,{color:"red",weight:5}).addTo(l),l.fitBounds(x.getBounds()))}function k(){x&&x.remove()}let y=null;function E(){f.onCreate(y)}return n({drawLine:P,clearPolyline:k,saveElevator:E}),(m,S)=>{const A=jv;return le(),Ee(Rt,null,[Fv,ye(A,{class:"fixed z-999 bottom-220px right-20px"})],64)}}});function Bl(e){const n=e*17%256,i=e*29%256,o=e*13%256;return`rgb(${n},${i},${o})`}function $v(e){e??(e=Mi(fr()));const n=mn(),i=e.filter(o=>[o.start.z,o.end.z].includes(n.floorHeight()));for(const[o,l]of i.entries())ln.polyline([l.start,l.end],{color:Bl(o*40),weight:5}).addTo(n.map)}const rs=100;class Il{constructor(n,i){rt(this,"parent",null);rt(this,"cost",null);rt(this,"toEndDistance",null);rt(this,"id");rt(this,"point");rt(this,"children");this.id=n.id,this.children=n.children,this.point=n.point,this.toEndDistance=Yr(this.point,i)}}var ai,Dl,si,Al;class Vv{constructor(){Hn(this,ai);Hn(this,si);rt(this,"nodes",[]);rt(this,"openNode");rt(this,"closeList",[]);rt(this,"path",[]);rt(this,"startPoint");rt(this,"endPoint")}navigate(n,i,o){this.startPoint=i,this.endPoint=o,this.openNode=null,this.closeList=[],this.path=[];const l=Mi(JSON.parse(JSON.stringify(n)),i,o);if(!l)return;const a=Nl(l);zl(a,i,o);const u=a.map(c=>new Il(c,o));this.nodes=u,u[0].cost=0,this.openNode=u[0],this.foundRoute()}foundRoute(){if(this.openNode){const n=this.openNode,i=this.nodes.filter(l=>!this.closeList.includes(l)&&n.children.some(a=>a.id===l.id));for(const l of i){const a=n.children.findIndex(c=>c.id===l.id),u=n.cost+n.children[a].distance;(l.cost===null||u<l.cost)&&(l.cost=u,l.parent=n)}this.closeList.push(n),this.openNode=null;const o=An(this,ai,Dl).call(this);if(o)return o}}}ai=new WeakSet,Dl=function(){const n=this.nodes.filter(o=>!this.closeList.includes(o));if(!n.length)return;const i=n.reduce((o,l)=>{if(o.cost===null)return l;const a=l.cost+l.toEndDistance,u=o.cost+o.toEndDistance;return l.cost&&a<u?l:o},n[0]);if(Rn(i.point,this.endPoint)){const o=An(this,si,Al).call(this,i);return this.path=o,console.log(o),o}this.openNode=i,this.foundRoute()},si=new WeakSet,Al=function(n){const i=[n.point];let o=n;for(;o.parent;)i.push(o.parent.point),o=o.parent;return i.reverse(),i};function Mi(e,n,i){const o=[];for(const f of e)for(let v=0;v<f.length-1;v++){const b=f[v],x=f[v+1];o.push({start:b,end:x})}const l=new Map;function a(f,v){const b=l.get(f);if(!b){l.set(f,[v]);return}b.some(x=>Rn(x,v))||[f.start,f.end].some(x=>Rn(x,v))||b.push(v)}const u=o.filter(f=>f.start.z===f.end.z);for(const f of u){const v=[...u.filter(x=>x.start.z===f.start.z)],b=u.indexOf(f);v.splice(b,1);for(const x of v){if(Yu(f,x))continue;const P=Ju({x:f.start.lat,y:f.start.lng},{x:f.end.lat,y:f.end.lng},{x:x.start.lat,y:x.start.lng},{x:x.end.lat,y:x.end.lng});P&&(a(f,{...P,z:f.start.z}),a(x,{...P,z:f.start.z}))}}for(const[f,v]of l.entries()){v.sort((P,k)=>{const y=Yr(P,f.start),E=Yr(k,f.start);return y-E});const b=[f.start,...v,f.end],x=[];for(let P=0;P<b.length-1;P++){const k=b[P],y=b[P+1];x.push({start:k,end:y})}o.splice(o.indexOf(f),1,...x)}function c(){const f=[];let v=o.filter(E=>E.start.z===E.end.z);const b=v.filter(E=>E.start.z===n.z);if(!b.length)return On.error(""),!1;for(const E of b){const m=ra({x:n.lat,y:n.lng},{x:E.start.lat,y:E.start.lng},{x:E.end.lat,y:E.end.lng});m.point.z=n.z,f.push({...m,segment:E})}let x=f.filter(E=>E.distance<=rs);if(!x.length)return On.error(""),!1;x.some(E=>E.isVertical)&&(x=x.filter(E=>E.isVertical));for(const E of x){const m=E.segment,S=o.indexOf(m);console.log(S),o.splice(S,1,{start:m.start,end:E.point},{start:E.point,end:m.end}),o.unshift({start:n,end:E.point})}const P=[];v=o.filter(E=>E.start.z===E.end.z);const k=v.filter(E=>E.start.z===i.z);if(!k.length)return On.error(""),!1;for(const E of k){const m=ra({x:i.lat,y:i.lng},{x:E.start.lat,y:E.start.lng},{x:E.end.lat,y:E.end.lng});m.point.z=i.z,P.push({...m,segment:E})}let y=P.filter(E=>E.distance<=rs);if(!y.length)return On.error(""),!1;y.some(E=>E.isVertical)&&(y=y.filter(E=>E.isVertical));for(const E of y){const m=E.segment;o.splice(o.indexOf(m),1,{start:m.start,end:E.point},{start:E.point,end:m.end}),o.push({start:E.point,end:i})}return!0}let d=!0;n&&i&&(d=c());for(const f of o)f.distance=Yr(f.start,f.end);return d?o:!1}function Nl(e){for(const i of e)i.start.id=`${i.start.lat}-${i.start.lng}-${i.start.z}`,i.end.id=`${i.end.lat}-${i.end.lng}-${i.end.z}`;const n=[];for(const i of e){const o=i.start,l=i.end,a=i.distance,u=n.find(d=>d.id===o.id);if(u)u.children.find(f=>Rn(f.id,l))||u.children.push({id:l.id,type:1,distance:a});else{const d={lat:o.lat,lng:o.lng,z:o.z};n.push({point:d,children:[{id:l.id,type:1,distance:a}],id:o.id})}const c=n.find(d=>d.id===l.id);if(c)c.children.find(f=>Rn(f.id,o))||c.children.push({id:o.id,type:1,distance:a});else{const d={lat:l.lat,lng:l.lng,z:l.z};n.push({point:d,children:[{id:o.id,type:1,distance:a}],id:l.id})}}return n}function zl(e,n,i){function o(){return e.findIndex(a=>a.children.length===1&&!Rn(a.point,n)&&!Rn(a.point,i))}let l=o();for(;l>-1;){const a=e[l];e.splice(l,1),e.filter(u=>u.children.some(c=>c.id===a.id)).forEach(u=>{const c=u.children.findIndex(d=>d.id===a.id);u.children.splice(c,1)}),l=o()}}let Jn;function Hv(){return Jn}const Uv={autoClose:!1,closeOnClick:!1};var Er,eo,li,jl,ui,Fl;class Kv{constructor(){Hn(this,Er);Hn(this,li);Hn(this,ui);rt(this,"nodes",[]);rt(this,"openNode");rt(this,"closeList",[]);rt(this,"path",[]);rt(this,"intersectMarkers",[]);rt(this,"lines",[]);rt(this,"popups",[]);rt(this,"startPoint");rt(this,"endPoint");rt(this,"foundRoute",function*(){if(yield,this.openNode){An(this,Er,eo).call(this);const n=this.openNode,i=this.nodes.filter(d=>!this.closeList.includes(d)&&n.children.some(f=>f.id===d.id)),o=mn(),l=this.nodes.findIndex(d=>d.id===n.id),a=this.intersectMarkers[l];a.closePopup();const u=a.getElement();u.classList.remove("ripple"),u.style.backgroundColor="#53e553",yield;for(const d of i){const f=n.children.findIndex(b=>b.id===d.id),v=n.cost+n.children[f].distance;if(this.lines.push(ln.polyline([n.point,d.point],{color:"red",weight:5}).addTo(o.map)),d.cost===null||v<d.cost){d.cost=v,d.parent=n;const b=this.nodes.findIndex(E=>E.id===d.id),x=this.intersectMarkers[b];x.closePopup();const P=x.getElement(),k=d.cost+d.toEndDistance,y=x.bindPopup(`${d.cost}${d.toEndDistance}${k}${l}`,Uv);this.popups.push(y),y.openPopup(),P.style.backgroundColor="pink"}yield}u.style.backgroundColor="#ccc",this.closeList.push(n),this.openNode=null;const c=An(this,li,jl).call(this);if(c)return c}})}navigate(n,i,o){this.startPoint=i,this.endPoint=o,this.openNode=null,this.closeList=[],this.path=[];const l=Mi(JSON.parse(JSON.stringify(n)),i,o);if(!l)return;const a=Nl(l),u=mn(),c=Qn(u.map);zl(a,i,o);const d=a.map(v=>new Il(v,o)),f=l.filter(v=>[v.start.z,v.end.z].includes(u.floorHeight()));for(const[v,b]of f.entries()){const x=ln.polyline([b.start,b.end],{color:Bl(v*40),weight:5}).addTo(c),P=ln.divIcon({className:"line-icon",html:`${b.distance}`,iconSize:[30,30]});ln.marker(x.getCenter(),{icon:P}).addTo(c)}for(const[v,b]of d.entries()){const x=ln.divIcon({className:"my-div-icon",html:`${v}`,iconSize:[30,30],popupAnchor:[0,-20]}),P=ln.marker(b.point,{icon:x}).addTo(c);b.point.z!==u.floorHeight()&&P.setOpacity(0),this.intersectMarkers.push(P)}this.nodes=d,d[0].cost=0,this.openNode=d[0],Jn=this.foundRoute.call(this),Jn.next(),Jn.next()}}Er=new WeakSet,eo=function(){for(const n of this.lines)n.remove();this.lines=[]},li=new WeakSet,jl=function(){const n=this.nodes.filter(u=>!this.closeList.includes(u));if(!n.length)return;const i=n.reduce((u,c)=>{if(u.cost===null)return c;const d=c.cost+c.toEndDistance,f=u.cost+u.toEndDistance;return c.cost&&d<f?c:u},n[0]),o=this.nodes.findIndex(u=>u.id===i.id),l=this.intersectMarkers[o],a=l.getElement();if(Rn(i.point,this.endPoint)){console.log(JSON.parse(JSON.stringify(this.nodes)));const u=An(this,ui,Fl).call(this,i);this.path=u,a.style.backgroundColor="#53e553",this.popups.forEach(f=>f.closePopup()),An(this,Er,eo).call(this);const c=mn(),d=Qn(c.map);return ln.polyline(u,{color:"red",weight:5}).addTo(d),u}a.classList.add("ripple"),l.closePopup(),l.openPopup(),mn(),this.openNode=i,Jn=this.foundRoute.call(this),Jn.next()},ui=new WeakSet,Fl=function(n){const i=[n.point];let o=n;for(;o.parent;)i.push(o.parent.point),o=o.parent;return i.reverse(),i};const qv=Pe({__name:"Index",setup(e){const n=he({radius:100,point:""}),i={radius:[{required:!0,message:"",trigger:"blur"}],point:[{required:!0,message:"",trigger:"blur"}]},o=mn(),l=he(!1),a=tn();let u;function c(){a.value.validate(d=>{if(d){u==null||u.remove();const f=new Function(`return ${n.value.point}`)();u=ln.circle([f.lat,f.lng],{radius:n.value.radius}).addTo(o.map),l.value=!1}})}return(d,f)=>{const v=ll,b=yi,x=fs,P=Fg,k=hl;return le(),Ee(Rt,null,[ye(v,vn({type:"primary"},d.$attrs,{onClick:f[0]||(f[0]=y=>l.value=!0)}),{default:fe(()=>[wt("")]),_:1},16),ye(k,{modelValue:M(l),"onUpdate:modelValue":f[4]||(f[4]=y=>Cn(l)?l.value=y:null),width:"30vw"},{footer:fe(()=>[ye(v,{type:"primary",onClick:c},{default:fe(()=>[wt("")]),_:1}),ye(v,{onClick:f[3]||(f[3]=y=>l.value=!1)},{default:fe(()=>[wt("")]),_:1})]),default:fe(()=>[ye(M(Jr),{ref_key:"formRef",ref:a,model:M(n),rules:i},{default:fe(()=>[ye(x,{label:"",prop:"point"},{default:fe(()=>[ye(b,{modelValue:M(n).point,"onUpdate:modelValue":f[1]||(f[1]=y=>M(n).point=y),placeholder:""},null,8,["modelValue"])]),_:1}),ye(x,{label:"",prop:"radius"},{default:fe(()=>[ye(P,{modelValue:M(n).radius,"onUpdate:modelValue":f[2]||(f[2]=y=>M(n).radius=y)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}}),Wv={class:"fixed top-20px right-20px px-12px py-6px flex items-center z-999"},Yv={class:"fixed top-20px left-120px px-12px py-6px flex items-center z-999"},Jv={class:"max-h-80vh overflow-y-scroll"},Xv=Re("span",{class:"mt-16px text-#bbb"},"  [ { lat: 1534, lng: 260, z: 0 }, { lat: 1539, lng: 569, z: 250 }, { lat: 1346, lng: 575, z: 250 } ] ",-1),ty=Pe({__name:"Home",setup(e){const n=he();es.registerLanguage("json",bv);const i=tn(),o=he(!1),l=he(),a=new Vv;function u(){c.value="",l.value=fr(),d()}const c=he("");function d(){var Se,we;o.value=!0,!((we=(Se=i.value)==null?void 0:Se.dataset)!=null&&we.highlighted)&&Ye(()=>{es.highlightAll()})}function f(){c.value="",l.value=Mi(fr()),d()}function v(){localStorage.setItem(Ii,""),J.push("/navigate")}const b=Ov({source:l});function x(){b.copy(JSON.stringify(l.value,null,2)),On.success({message:"",grouping:!0})}const P=he(!1),k=he({path:""}),y={path:[{required:!0,message:"",trigger:"blur"}]};function E(){P.value=!0}const m=tn();function S(){m.value.validate(Se=>{if(Se){const we=new Function(`return ${k.value.path}`)();localStorage.setItem(Ii,JSON.stringify(we)),J.push("/navigate")}})}function A(Se){return new Function(`return ${Se}`)()}const w=he(!1),T=he({start:"",end:""}),B={start:[{required:!0,message:"",trigger:"blur"}],end:[{required:!0,message:"",trigger:"blur"}]};function I(){w.value=!0}const U=tn(),Z=he(!1),J=dc(),oe=mn();function ne(){U.value.validate(Se=>{if(Se){const we=performance.now();if(a.navigate(fr(),A(T.value.start),A(T.value.end)),console.log(a.path),console.log("",performance.now()-we),localStorage.setItem(Ii,JSON.stringify(a.path)),a.path.length===1){On.error({message:"",grouping:!0});return}a.path.length&&J.push("/navigate")}})}const{showNextButton:K}=Ls(oe),ae=new Kv;function ee(){U.value.validate(Se=>{if(Se&&(w.value=!1,K.value=!0,ae.navigate(fr(),A(T.value.start),A(T.value.end)),ae.path.length===1)){On.error({message:"",grouping:!0});return}})}function de(){Hv().next()}let V=null;const X=he(!1),ue=he([]),ke=Q(()=>ue.value.filter(Se=>!Se.list.some(we=>we.z===oe.floorHeight()))),Le=he({name:"",group:""});function Me(Se){const we=Se.layer.getLatLng();V={lat:we.lat,lng:we.lng,z:oe.floorHeight()},ue.value=JSON.parse(localStorage.getItem(Di))||[],Le.value={name:"",group:""},X.value=!0}function He(){Le.value.group=null}function Ue(){Le.value.name=null}function Fe(){if(Le.value.name){const Se={name:Le.value.name,list:[V]};ue.value.push(Se),localStorage.setItem(Di,JSON.stringify(ue.value))}else if(Le.value.group)ue.value.find(we=>we.name===Le.value.group).list.push(V),localStorage.setItem(Di,JSON.stringify(ue.value));else{On.error({message:"",grouping:!0});return}n.value.saveElevator(),X.value=!1}return(Se,we)=>{const Ie=ll,pt=hl,it=yi,qe=fs,gt=am,ct=om,Ge=hm;return le(),Ee(Rt,null,[ye(Gv,{ref_key:"drawLineRef",ref:n,onElevatorAdd:Me},null,512),Re("div",Wv,[ye(Ie,{type:"primary",onClick:u},{default:fe(()=>[wt("")]),_:1}),ye(Ie,{type:"primary",onClick:f},{default:fe(()=>[wt("")]),_:1}),ye(Ie,{type:"primary",onClick:we[0]||(we[0]=Ne=>M($v)())},{default:fe(()=>[wt("")]),_:1}),ye(Ie,{type:"primary",onClick:v},{default:fe(()=>[wt("3D")]),_:1}),ye(qv,{class:"mr-12px"}),ye(Ie,{type:"primary",onClick:E},{default:fe(()=>[wt("")]),_:1}),ye(Ie,{type:"primary",onClick:I},{default:fe(()=>[wt("")]),_:1})]),Re("div",Yv,[M(K)?(le(),Ce(Ie,{key:0,plain:"",type:"primary",onClick:de},{default:fe(()=>[wt("")]),_:1})):Oe("",!0)]),ye(pt,{modelValue:M(o),"onUpdate:modelValue":we[1]||(we[1]=Ne=>Cn(o)?o.value=Ne:null),"align-center":"",title:M(c),"destroy-on-close":""},{default:fe(()=>[ye(Ie,{type:"primary",onClick:x},{default:fe(()=>[wt("")]),_:1}),Re("pre",Jv,[wt("      "),Re("code",{ref_key:"codeRef",ref:i,style:{"font-family":"'Cascadia Code','Consolas',serif"}},bt(M(l)),513),wt(`
    `)])]),_:1},8,["modelValue","title"]),ye(pt,{modelValue:M(w),"onUpdate:modelValue":we[4]||(we[4]=Ne=>Cn(w)?w.value=Ne:null),width:"20vw","align-center":"",title:"","destroy-on-close":""},{footer:fe(()=>[Et((le(),Ce(Ie,{type:"primary",onClick:ee},{default:fe(()=>[wt("")]),_:1})),[[Ge,M(Z),void 0,{fullscreen:!0,lock:!0}]]),Et((le(),Ce(Ie,{type:"primary",onClick:ne},{default:fe(()=>[wt("")]),_:1})),[[Ge,M(Z),void 0,{fullscreen:!0,lock:!0}]])]),default:fe(()=>[ye(M(Jr),{ref_key:"formRef2",ref:U,model:M(T),rules:B},{default:fe(()=>[ye(qe,{label:"",prop:"start"},{default:fe(()=>[ye(it,{modelValue:M(T).start,"onUpdate:modelValue":we[2]||(we[2]=Ne=>M(T).start=Ne),placeholder:""},null,8,["modelValue"])]),_:1}),ye(qe,{label:"",prop:"end"},{default:fe(()=>[ye(it,{modelValue:M(T).end,"onUpdate:modelValue":we[3]||(we[3]=Ne=>M(T).end=Ne),placeholder:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),ye(pt,{modelValue:M(P),"onUpdate:modelValue":we[6]||(we[6]=Ne=>Cn(P)?P.value=Ne:null),title:"","destroy-on-close":""},{footer:fe(()=>[ye(Ie,{type:"primary",onClick:S},{default:fe(()=>[wt("")]),_:1})]),default:fe(()=>[ye(M(Jr),{ref_key:"formRef",ref:m,model:M(k),rules:y},{default:fe(()=>[ye(qe,{prop:"path"},{default:fe(()=>[ye(it,{modelValue:M(k).path,"onUpdate:modelValue":we[5]||(we[5]=Ne=>M(k).path=Ne)},null,8,["modelValue"])]),_:1}),Xv]),_:1},8,["model"])]),_:1},8,["modelValue"]),ye(pt,{modelValue:M(X),"onUpdate:modelValue":we[9]||(we[9]=Ne=>Cn(X)?X.value=Ne:null),title:"",width:"30vw"},{footer:fe(()=>[ye(Ie,{type:"primary",onClick:Fe},{default:fe(()=>[wt("")]),_:1})]),default:fe(()=>[ye(M(Jr),{model:M(Le)},{default:fe(()=>[ye(qe,{label:"",prop:"name"},{default:fe(()=>[ye(it,{modelValue:M(Le).name,"onUpdate:modelValue":we[7]||(we[7]=Ne=>M(Le).name=Ne),placeholder:"",onChange:He},null,8,["modelValue"])]),_:1}),ye(qe,{label:"",prop:"group"},{default:fe(()=>[ye(ct,{modelValue:M(Le).group,"onUpdate:modelValue":we[8]||(we[8]=Ne=>M(Le).group=Ne),onChange:Ue},{default:fe(()=>[(le(!0),Ee(Rt,null,pr(M(ke),Ne=>(le(),Ce(gt,{key:Ne.name,label:Ne.name,value:Ne.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}});export{ty as default};
