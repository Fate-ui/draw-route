var $c=Object.defineProperty;var Vc=(e,t,r)=>t in e?$c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ot=(e,t,r)=>(Vc(e,typeof t!="symbol"?t+"":t,r),r),Uc=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var nr=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)};var qn=(e,t,r)=>(Uc(e,t,"access private method"),r);import{i as _t,a as Gc,b as ki,M as Hc,S as $a,e as Kc,U as Va,g as Ua,c as wi,d as Ga,f as Ha,h as pi,j as qc,k as Ka,l as Wc,m as Jc,t as Vo,n as Yc,o as Xc,p as Zc,q as pl,r as Wt,s as Qc,u as ed,v as td,w as Co,x as Rr,y as Uo,z as tt,A as qa,B as or,C as So,D as Br,E as hl,F as Ge,G as Go,H as nd,I as rd,J as id,K as ft,L as et,N as Ir,O as gl,P as od,Q as ad,R as Wa,T as Ho,V as $n,W as Pt,X as Ai,Y as sd,Z as Ur,_ as Ni,$ as ml,a0 as ld,a1 as ud,a2 as Gr,a3 as Dr,a4 as Rt,a5 as vl,a6 as nt,a7 as Ln,a8 as yl,a9 as Vn,aa as Ja,ab as cd,ac as Qn,ad as Mi,ae as dd,af as Ko,ag as fd,ah as Ya,ai as pd,aj as xo,ak as zi,al as hi,am as ur,an as bl,ao as _l,ap as hd,aq as Ll,ar as kl,as as gd,at as Ei,au as wl,av as md,aw as vd,ax as En,ay as ni,az as yd,aA as bd,aB as _d,aC as Ld,aD as kd,aE as wd,aF as Xa,aG as hn,aH as xr,aI as Md,aJ as Ed,aK as gi,aL as Un,aM as Za,aN as mi,aO as Ml,aP as co,aQ as fo}from"./index-HZJzOR0q.js";import{i as bt,c as Z,g as fn,o as xt,w as Cd,a as an,b as Tt,r as pe,u as M,d as zn,e as Sd,f as Ie,h as El,s as dn,N as Yn,j as xd,p as nn,k as Jt,l as Re,m as Od,n as qo,q as Ke,t as gn,v as Lt,x as Yt,y as se,z as Se,A as Ce,F as At,B as ge,C as Ae,D as Pe,E as Me,G as fe,H as Nt,I as Cn,J as ye,K as yt,L as at,M as St,O as Qt,T as bn,P as Pn,Q as Cl,R as Pd,S as Sl,U as Td,V as Rd,W as xl,X as Ol,Y as Bd,Z as ar,_ as Oo,$ as Ct,a0 as dr,a1 as Hr,a2 as Er,a3 as po,a4 as Ut,a5 as Id,a6 as Or,a7 as Dd,a8 as Ad,a9 as Nd,aa as zd,ab as ji,ac as Ci,ad as vt,ae as Qa,af as jd,ag as Pl,ah as Tl,ai as Fd}from"./index-aYZXNwok.js";const $d='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',Vd=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,es=e=>Array.from(e.querySelectorAll($d)).filter(t=>Ud(t)&&Vd(t)),Ud=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Mn=(e,t,{checkForDefaultPrevented:r=!0}={})=>s=>{const a=e==null?void 0:e(s);if(r===!1||!a)return t==null?void 0:t(s)},Gd=()=>_t&&/firefox/i.test(window.navigator.userAgent);var Hd=/\s/;function Kd(e){for(var t=e.length;t--&&Hd.test(e.charAt(t)););return t}var qd=/^\s+/;function Wd(e){return e&&e.slice(0,Kd(e)+1).replace(qd,"")}var ts=NaN,Jd=/^[-+]0x[0-9a-f]+$/i,Yd=/^0b[01]+$/i,Xd=/^0o[0-7]+$/i,Zd=parseInt;function Po(e){if(typeof e=="number")return e;if(Gc(e))return ts;if(ki(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ki(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Wd(e);var r=Yd.test(e);return r||Xd.test(e)?Zd(e.slice(2),r?2:8):Jd.test(e)?ts:+e}var ns=1/0,Qd=17976931348623157e292;function ef(e){if(!e)return e===0?e:0;if(e=Po(e),e===ns||e===-ns){var t=e<0?-1:1;return t*Qd}return e===e?e:0}function tf(e){var t=ef(e),r=t%1;return t===t?r?t-r:t:0}function nf(e){return e}function rf(e,t,r,i){for(var s=e.length,a=r+(i?1:-1);i?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var of="__lodash_hash_undefined__";function af(e){return this.__data__.set(e,of),this}function sf(e){return this.__data__.has(e)}function Si(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Hc;++t<r;)this.add(e[t])}Si.prototype.add=Si.prototype.push=af;Si.prototype.has=sf;function lf(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}function uf(e,t){return e.has(t)}var cf=1,df=2;function Rl(e,t,r,i,s,a){var l=r&cf,c=e.length,d=t.length;if(c!=d&&!(l&&d>c))return!1;var f=a.get(e),h=a.get(t);if(f&&h)return f==t&&h==e;var g=-1,w=!0,x=r&df?new Si:void 0;for(a.set(e,t),a.set(t,e);++g<c;){var _=e[g],y=t[g];if(i)var C=l?i(y,_,g,t,e,a):i(_,y,g,e,t,a);if(C!==void 0){if(C)continue;w=!1;break}if(x){if(!lf(t,function(v,S){if(!uf(x,S)&&(_===v||s(_,v,r,i,a)))return x.push(S)})){w=!1;break}}else if(!(_===y||s(_,y,r,i,a))){w=!1;break}}return a.delete(e),a.delete(t),w}function ff(e){var t=-1,r=Array(e.size);return e.forEach(function(i,s){r[++t]=[s,i]}),r}function pf(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}var hf=1,gf=2,mf="[object Boolean]",vf="[object Date]",yf="[object Error]",bf="[object Map]",_f="[object Number]",Lf="[object RegExp]",kf="[object Set]",wf="[object String]",Mf="[object Symbol]",Ef="[object ArrayBuffer]",Cf="[object DataView]",rs=$a?$a.prototype:void 0,ho=rs?rs.valueOf:void 0;function Sf(e,t,r,i,s,a,l){switch(r){case Cf:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ef:return!(e.byteLength!=t.byteLength||!a(new Va(e),new Va(t)));case mf:case vf:case _f:return Kc(+e,+t);case yf:return e.name==t.name&&e.message==t.message;case Lf:case wf:return e==t+"";case bf:var c=ff;case kf:var d=i&hf;if(c||(c=pf),e.size!=t.size&&!d)return!1;var f=l.get(e);if(f)return f==t;i|=gf,l.set(e,t);var h=Rl(c(e),c(t),i,s,a,l);return l.delete(e),h;case Mf:if(ho)return ho.call(e)==ho.call(t)}return!1}var xf=1,Of=Object.prototype,Pf=Of.hasOwnProperty;function Tf(e,t,r,i,s,a){var l=r&xf,c=Ua(e),d=c.length,f=Ua(t),h=f.length;if(d!=h&&!l)return!1;for(var g=d;g--;){var w=c[g];if(!(l?w in t:Pf.call(t,w)))return!1}var x=a.get(e),_=a.get(t);if(x&&_)return x==t&&_==e;var y=!0;a.set(e,t),a.set(t,e);for(var C=l;++g<d;){w=c[g];var v=e[w],S=t[w];if(i)var D=l?i(S,v,w,t,e,a):i(v,S,w,e,t,a);if(!(D===void 0?v===S||s(v,S,r,i,a):D)){y=!1;break}C||(C=w=="constructor")}if(y&&!C){var E=e.constructor,T=t.constructor;E!=T&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof T=="function"&&T instanceof T)&&(y=!1)}return a.delete(e),a.delete(t),y}var Rf=1,is="[object Arguments]",os="[object Array]",ri="[object Object]",Bf=Object.prototype,as=Bf.hasOwnProperty;function If(e,t,r,i,s,a){var l=wi(e),c=wi(t),d=l?os:Ga(e),f=c?os:Ga(t);d=d==is?ri:d,f=f==is?ri:f;var h=d==ri,g=f==ri,w=d==f;if(w&&Ha(e)){if(!Ha(t))return!1;l=!0,h=!1}if(w&&!h)return a||(a=new pi),l||qc(e)?Rl(e,t,r,i,s,a):Sf(e,t,d,r,i,s,a);if(!(r&Rf)){var x=h&&as.call(e,"__wrapped__"),_=g&&as.call(t,"__wrapped__");if(x||_){var y=x?e.value():e,C=_?t.value():t;return a||(a=new pi),s(y,C,r,i,a)}}return w?(a||(a=new pi),Tf(e,t,r,i,s,a)):!1}function Fi(e,t,r,i,s){return e===t?!0:e==null||t==null||!Ka(e)&&!Ka(t)?e!==e&&t!==t:If(e,t,r,i,Fi,s)}var Df=1,Af=2;function Nf(e,t,r,i){var s=r.length,a=s,l=!i;if(e==null)return!a;for(e=Object(e);s--;){var c=r[s];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<a;){c=r[s];var d=c[0],f=e[d],h=c[1];if(l&&c[2]){if(f===void 0&&!(d in e))return!1}else{var g=new pi;if(i)var w=i(f,h,d,e,t,g);if(!(w===void 0?Fi(h,f,Df|Af,i,g):w))return!1}}return!0}function Bl(e){return e===e&&!ki(e)}function zf(e){for(var t=Wc(e),r=t.length;r--;){var i=t[r],s=e[i];t[r]=[i,s,Bl(s)]}return t}function Il(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function jf(e){var t=zf(e);return t.length==1&&t[0][2]?Il(t[0][0],t[0][1]):function(r){return r===e||Nf(r,e,t)}}function Ff(e,t){return e!=null&&t in Object(e)}function $f(e,t,r){t=Jc(t,e);for(var i=-1,s=t.length,a=!1;++i<s;){var l=Vo(t[i]);if(!(a=e!=null&&r(e,l)))break;e=e[l]}return a||++i!=s?a:(s=e==null?0:e.length,!!s&&Yc(s)&&Xc(l,s)&&(wi(e)||Zc(e)))}function Vf(e,t){return e!=null&&$f(e,t,Ff)}var Uf=1,Gf=2;function Hf(e,t){return pl(e)&&Bl(t)?Il(Vo(e),t):function(r){var i=Wt(r,e);return i===void 0&&i===t?Vf(r,e):Fi(t,i,Uf|Gf)}}function Kf(e){return function(t){return t==null?void 0:t[e]}}function qf(e){return function(t){return Qc(t,e)}}function Wf(e){return pl(e)?Kf(Vo(e)):qf(e)}function Jf(e){return typeof e=="function"?e:e==null?nf:typeof e=="object"?wi(e)?Hf(e[0],e[1]):jf(e):Wf(e)}var Yf=function(){return ed.Date.now()};const go=Yf;var Xf="Expected a function",Zf=Math.max,Qf=Math.min;function ss(e,t,r){var i,s,a,l,c,d,f=0,h=!1,g=!1,w=!0;if(typeof e!="function")throw new TypeError(Xf);t=Po(t)||0,ki(r)&&(h=!!r.leading,g="maxWait"in r,a=g?Zf(Po(r.maxWait)||0,t):a,w="trailing"in r?!!r.trailing:w);function x(B){var I=i,H=s;return i=s=void 0,f=B,l=e.apply(H,I),l}function _(B){return f=B,c=setTimeout(v,t),h?x(B):l}function y(B){var I=B-d,H=B-f,ee=t-I;return g?Qf(ee,a-H):ee}function C(B){var I=B-d,H=B-f;return d===void 0||I>=t||I<0||g&&H>=a}function v(){var B=go();if(C(B))return S(B);c=setTimeout(v,y(B))}function S(B){return c=void 0,w&&i?x(B):(i=s=void 0,l)}function D(){c!==void 0&&clearTimeout(c),f=0,i=d=s=c=void 0}function E(){return c===void 0?l:S(go())}function T(){var B=go(),I=C(B);if(i=arguments,s=this,d=B,I){if(c===void 0)return _(d);if(g)return clearTimeout(c),c=setTimeout(v,t),x(d)}return c===void 0&&(c=setTimeout(v,t)),l}return T.cancel=D,T.flush=E,T}var ep=Math.max,tp=Math.min;function np(e,t,r){var i=e==null?0:e.length;if(!i)return-1;var s=i-1;return r!==void 0&&(s=tf(r),s=r<0?ep(i+s,0):tp(s,i-1)),rf(e,Jf(t),s,!0)}function ls(e,t){return Fi(e,t)}function Sn(e){return e==null}function Dl(e){return e===void 0}const rp=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d");let ii;const ip=e=>{var t;if(!_t)return 0;if(ii!==void 0)return ii;const r=document.createElement("div");r.className=`${e}-scrollbar__wrap`,r.style.visibility="hidden",r.style.width="100px",r.style.position="absolute",r.style.top="-9999px",document.body.appendChild(r);const i=r.offsetWidth;r.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",r.appendChild(s);const a=s.offsetWidth;return(t=r.parentNode)==null||t.removeChild(r),ii=i-a,ii};function op(e,t){if(!_t)return;if(!t){e.scrollTop=0;return}const r=[];let i=t.offsetParent;for(;i!==null&&e!==i&&e.contains(i);)r.push(i),i=i.offsetParent;const s=t.offsetTop+r.reduce((d,f)=>d+f.offsetTop,0),a=s+t.offsetHeight,l=e.scrollTop,c=l+e.clientHeight;s<l?e.scrollTop=s:a>c&&(e.scrollTop=a-e.clientHeight)}const ap=(...e)=>t=>{e.forEach(r=>{bt(r)?r(t):r.value=t})},Gn={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},sp=e=>td[e||"default"];var vi=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(vi||{});const Al=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),Nl=e=>e,lp=["class","style"],up=/^on[A-Z]/,cp=(e={})=>{const{excludeListeners:t=!1,excludeKeys:r}=e,i=Z(()=>((r==null?void 0:r.value)||[]).concat(lp)),s=fn();return s?Z(()=>{var a;return Co(Object.entries((a=s.proxy)==null?void 0:a.$attrs).filter(([l])=>!i.value.includes(l)&&!(t&&up.test(l))))}):Z(()=>({}))},zl=(e,t,r)=>{let i={offsetX:0,offsetY:0};const s=c=>{const d=c.clientX,f=c.clientY,{offsetX:h,offsetY:g}=i,w=e.value.getBoundingClientRect(),x=w.left,_=w.top,y=w.width,C=w.height,v=document.documentElement.clientWidth,S=document.documentElement.clientHeight,D=-x+h,E=-_+g,T=v-x-y+h,B=S-_-C+g,I=ee=>{const Y=Math.min(Math.max(h+ee.clientX-d,D),T),re=Math.min(Math.max(g+ee.clientY-f,E),B);i={offsetX:Y,offsetY:re},e.value&&(e.value.style.transform=`translate(${Rr(Y)}, ${Rr(re)})`)},H=()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",I),document.addEventListener("mouseup",H)},a=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",s)},l=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",s)};xt(()=>{Cd(()=>{r.value?a():l()})}),an(()=>{l()})};var dp={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const fp=e=>(t,r)=>pp(t,r,M(e)),pp=(e,t,r)=>Wt(r,e,e).replace(/\{(\w+)\}/g,(i,s)=>{var a;return`${(a=t==null?void 0:t[s])!=null?a:`{${s}}`}`}),hp=e=>{const t=Z(()=>M(e).name),r=zn(e)?e:pe(e);return{lang:t,locale:r,t:fp(e)}},jl=Symbol("localeContextKey"),_r=e=>{const t=e||Tt(jl,pe());return hp(Z(()=>t.value||dp))},Fl=(e,t={})=>{zn(e)||Uo("[useLockscreen]","You need to pass a ref param to this function");const r=t.ns||tt("popup"),i=Sd(()=>r.bm("parent","hidden"));if(!_t||qa(document.body,i.value))return;let s=0,a=!1,l="0";const c=()=>{setTimeout(()=>{Br(document==null?void 0:document.body,i.value),a&&document&&(document.body.style.width=l)},200)};Ie(e,d=>{if(!d){c();return}a=!qa(document.body,i.value),a&&(l=document.body.style.width),s=ip(r.namespace.value);const f=document.documentElement.clientHeight<document.body.scrollHeight,h=or(document.body,"overflowY");s>0&&(f||h==="scroll")&&a&&(document.body.style.width=`calc(100% - ${s}px)`),So(document.body,i.value)}),El(()=>c())},gp=hl({type:Ge(Boolean),default:null}),mp=hl({type:Ge(Function)}),$l=e=>{const t=`update:${e}`,r=`onUpdate:${e}`,i=[t],s={[e]:gp,[r]:mp};return{useModelToggle:({indicator:l,toggleReason:c,shouldHideWhenRouteChanges:d,shouldProceed:f,onShow:h,onHide:g})=>{const w=fn(),{emit:x}=w,_=w.props,y=Z(()=>bt(_[r])),C=Z(()=>_[e]===null),v=I=>{l.value!==!0&&(l.value=!0,c&&(c.value=I),bt(h)&&h(I))},S=I=>{l.value!==!1&&(l.value=!1,c&&(c.value=I),bt(g)&&g(I))},D=I=>{if(_.disabled===!0||bt(f)&&!f())return;const H=y.value&&_t;H&&x(t,!0),(C.value||!H)&&v(I)},E=I=>{if(_.disabled===!0||!_t)return;const H=y.value&&_t;H&&x(t,!1),(C.value||!H)&&S(I)},T=I=>{Go(I)&&(_.disabled&&I?y.value&&x(t,!1):l.value!==I&&(I?v():S()))},B=()=>{l.value?E():D()};return Ie(()=>_[e],T),d&&w.appContext.config.globalProperties.$route!==void 0&&Ie(()=>({...w.proxy.$route}),()=>{d.value&&l.value&&E()}),xt(()=>{T(_[e])}),{hide:E,show:D,toggle:B,hasUpdateHandler:y}},useModelToggleProps:s,useModelToggleEmits:i}};$l("modelValue");var Gt="top",rn="bottom",on="right",Ht="left",Wo="auto",Kr=[Gt,rn,on,Ht],fr="start",Ar="end",vp="clippingParents",Vl="viewport",Cr="popper",yp="reference",us=Kr.reduce(function(e,t){return e.concat([t+"-"+fr,t+"-"+Ar])},[]),$i=[].concat(Kr,[Wo]).reduce(function(e,t){return e.concat([t,t+"-"+fr,t+"-"+Ar])},[]),bp="beforeRead",_p="read",Lp="afterRead",kp="beforeMain",wp="main",Mp="afterMain",Ep="beforeWrite",Cp="write",Sp="afterWrite",xp=[bp,_p,Lp,kp,wp,Mp,Ep,Cp,Sp];function _n(e){return e?(e.nodeName||"").toLowerCase():null}function pn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function pr(e){var t=pn(e).Element;return e instanceof t||e instanceof Element}function en(e){var t=pn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Jo(e){if(typeof ShadowRoot>"u")return!1;var t=pn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Op(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var i=t.styles[r]||{},s=t.attributes[r]||{},a=t.elements[r];!en(a)||!_n(a)||(Object.assign(a.style,i),Object.keys(s).forEach(function(l){var c=s[l];c===!1?a.removeAttribute(l):a.setAttribute(l,c===!0?"":c)}))})}function Pp(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(i){var s=t.elements[i],a=t.attributes[i]||{},l=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:r[i]),c=l.reduce(function(d,f){return d[f]="",d},{});!en(s)||!_n(s)||(Object.assign(s.style,c),Object.keys(a).forEach(function(d){s.removeAttribute(d)}))})}}var Ul={name:"applyStyles",enabled:!0,phase:"write",fn:Op,effect:Pp,requires:["computeStyles"]};function yn(e){return e.split("-")[0]}var Xn=Math.max,xi=Math.min,hr=Math.round;function gr(e,t){t===void 0&&(t=!1);var r=e.getBoundingClientRect(),i=1,s=1;if(en(e)&&t){var a=e.offsetHeight,l=e.offsetWidth;l>0&&(i=hr(r.width)/l||1),a>0&&(s=hr(r.height)/a||1)}return{width:r.width/i,height:r.height/s,top:r.top/s,right:r.right/i,bottom:r.bottom/s,left:r.left/i,x:r.left/i,y:r.top/s}}function Yo(e){var t=gr(e),r=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:i}}function Gl(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Jo(r)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function On(e){return pn(e).getComputedStyle(e)}function Tp(e){return["table","td","th"].indexOf(_n(e))>=0}function Hn(e){return((pr(e)?e.ownerDocument:e.document)||window.document).documentElement}function Vi(e){return _n(e)==="html"?e:e.assignedSlot||e.parentNode||(Jo(e)?e.host:null)||Hn(e)}function cs(e){return!en(e)||On(e).position==="fixed"?null:e.offsetParent}function Rp(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&en(e)){var i=On(e);if(i.position==="fixed")return null}var s=Vi(e);for(Jo(s)&&(s=s.host);en(s)&&["html","body"].indexOf(_n(s))<0;){var a=On(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function qr(e){for(var t=pn(e),r=cs(e);r&&Tp(r)&&On(r).position==="static";)r=cs(r);return r&&(_n(r)==="html"||_n(r)==="body"&&On(r).position==="static")?t:r||Rp(e)||t}function Xo(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Pr(e,t,r){return Xn(e,xi(t,r))}function Bp(e,t,r){var i=Pr(e,t,r);return i>r?r:i}function Hl(){return{top:0,right:0,bottom:0,left:0}}function Kl(e){return Object.assign({},Hl(),e)}function ql(e,t){return t.reduce(function(r,i){return r[i]=e,r},{})}var Ip=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Kl(typeof e!="number"?e:ql(e,Kr))};function Dp(e){var t,r=e.state,i=e.name,s=e.options,a=r.elements.arrow,l=r.modifiersData.popperOffsets,c=yn(r.placement),d=Xo(c),f=[Ht,on].indexOf(c)>=0,h=f?"height":"width";if(!(!a||!l)){var g=Ip(s.padding,r),w=Yo(a),x=d==="y"?Gt:Ht,_=d==="y"?rn:on,y=r.rects.reference[h]+r.rects.reference[d]-l[d]-r.rects.popper[h],C=l[d]-r.rects.reference[d],v=qr(a),S=v?d==="y"?v.clientHeight||0:v.clientWidth||0:0,D=y/2-C/2,E=g[x],T=S-w[h]-g[_],B=S/2-w[h]/2+D,I=Pr(E,B,T),H=d;r.modifiersData[i]=(t={},t[H]=I,t.centerOffset=I-B,t)}}function Ap(e){var t=e.state,r=e.options,i=r.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||!Gl(t.elements.popper,s)||(t.elements.arrow=s))}var Np={name:"arrow",enabled:!0,phase:"main",fn:Dp,effect:Ap,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function mr(e){return e.split("-")[1]}var zp={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jp(e){var t=e.x,r=e.y,i=window,s=i.devicePixelRatio||1;return{x:hr(t*s)/s||0,y:hr(r*s)/s||0}}function ds(e){var t,r=e.popper,i=e.popperRect,s=e.placement,a=e.variation,l=e.offsets,c=e.position,d=e.gpuAcceleration,f=e.adaptive,h=e.roundOffsets,g=e.isFixed,w=l.x,x=w===void 0?0:w,_=l.y,y=_===void 0?0:_,C=typeof h=="function"?h({x,y}):{x,y};x=C.x,y=C.y;var v=l.hasOwnProperty("x"),S=l.hasOwnProperty("y"),D=Ht,E=Gt,T=window;if(f){var B=qr(r),I="clientHeight",H="clientWidth";if(B===pn(r)&&(B=Hn(r),On(B).position!=="static"&&c==="absolute"&&(I="scrollHeight",H="scrollWidth")),B=B,s===Gt||(s===Ht||s===on)&&a===Ar){E=rn;var ee=g&&B===T&&T.visualViewport?T.visualViewport.height:B[I];y-=ee-i.height,y*=d?1:-1}if(s===Ht||(s===Gt||s===rn)&&a===Ar){D=on;var Y=g&&B===T&&T.visualViewport?T.visualViewport.width:B[H];x-=Y-i.width,x*=d?1:-1}}var re=Object.assign({position:c},f&&zp),te=h===!0?jp({x,y}):{x,y};if(x=te.x,y=te.y,d){var K;return Object.assign({},re,(K={},K[E]=S?"0":"",K[D]=v?"0":"",K.transform=(T.devicePixelRatio||1)<=1?"translate("+x+"px, "+y+"px)":"translate3d("+x+"px, "+y+"px, 0)",K))}return Object.assign({},re,(t={},t[E]=S?y+"px":"",t[D]=v?x+"px":"",t.transform="",t))}function Fp(e){var t=e.state,r=e.options,i=r.gpuAcceleration,s=i===void 0?!0:i,a=r.adaptive,l=a===void 0?!0:a,c=r.roundOffsets,d=c===void 0?!0:c,f={placement:yn(t.placement),variation:mr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,ds(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,ds(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Wl={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Fp,data:{}},oi={passive:!0};function $p(e){var t=e.state,r=e.instance,i=e.options,s=i.scroll,a=s===void 0?!0:s,l=i.resize,c=l===void 0?!0:l,d=pn(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&f.forEach(function(h){h.addEventListener("scroll",r.update,oi)}),c&&d.addEventListener("resize",r.update,oi),function(){a&&f.forEach(function(h){h.removeEventListener("scroll",r.update,oi)}),c&&d.removeEventListener("resize",r.update,oi)}}var Jl={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$p,data:{}},Vp={left:"right",right:"left",bottom:"top",top:"bottom"};function yi(e){return e.replace(/left|right|bottom|top/g,function(t){return Vp[t]})}var Up={start:"end",end:"start"};function fs(e){return e.replace(/start|end/g,function(t){return Up[t]})}function Zo(e){var t=pn(e),r=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:r,scrollTop:i}}function Qo(e){return gr(Hn(e)).left+Zo(e).scrollLeft}function Gp(e){var t=pn(e),r=Hn(e),i=t.visualViewport,s=r.clientWidth,a=r.clientHeight,l=0,c=0;return i&&(s=i.width,a=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(l=i.offsetLeft,c=i.offsetTop)),{width:s,height:a,x:l+Qo(e),y:c}}function Hp(e){var t,r=Hn(e),i=Zo(e),s=(t=e.ownerDocument)==null?void 0:t.body,a=Xn(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),l=Xn(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),c=-i.scrollLeft+Qo(e),d=-i.scrollTop;return On(s||r).direction==="rtl"&&(c+=Xn(r.clientWidth,s?s.clientWidth:0)-a),{width:a,height:l,x:c,y:d}}function ea(e){var t=On(e),r=t.overflow,i=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+i)}function Yl(e){return["html","body","#document"].indexOf(_n(e))>=0?e.ownerDocument.body:en(e)&&ea(e)?e:Yl(Vi(e))}function Tr(e,t){var r;t===void 0&&(t=[]);var i=Yl(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=pn(i),l=s?[a].concat(a.visualViewport||[],ea(i)?i:[]):i,c=t.concat(l);return s?c:c.concat(Tr(Vi(l)))}function To(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Kp(e){var t=gr(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function ps(e,t){return t===Vl?To(Gp(e)):pr(t)?Kp(t):To(Hp(Hn(e)))}function qp(e){var t=Tr(Vi(e)),r=["absolute","fixed"].indexOf(On(e).position)>=0,i=r&&en(e)?qr(e):e;return pr(i)?t.filter(function(s){return pr(s)&&Gl(s,i)&&_n(s)!=="body"}):[]}function Wp(e,t,r){var i=t==="clippingParents"?qp(e):[].concat(t),s=[].concat(i,[r]),a=s[0],l=s.reduce(function(c,d){var f=ps(e,d);return c.top=Xn(f.top,c.top),c.right=xi(f.right,c.right),c.bottom=xi(f.bottom,c.bottom),c.left=Xn(f.left,c.left),c},ps(e,a));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Xl(e){var t=e.reference,r=e.element,i=e.placement,s=i?yn(i):null,a=i?mr(i):null,l=t.x+t.width/2-r.width/2,c=t.y+t.height/2-r.height/2,d;switch(s){case Gt:d={x:l,y:t.y-r.height};break;case rn:d={x:l,y:t.y+t.height};break;case on:d={x:t.x+t.width,y:c};break;case Ht:d={x:t.x-r.width,y:c};break;default:d={x:t.x,y:t.y}}var f=s?Xo(s):null;if(f!=null){var h=f==="y"?"height":"width";switch(a){case fr:d[f]=d[f]-(t[h]/2-r[h]/2);break;case Ar:d[f]=d[f]+(t[h]/2-r[h]/2);break}}return d}function Nr(e,t){t===void 0&&(t={});var r=t,i=r.placement,s=i===void 0?e.placement:i,a=r.boundary,l=a===void 0?vp:a,c=r.rootBoundary,d=c===void 0?Vl:c,f=r.elementContext,h=f===void 0?Cr:f,g=r.altBoundary,w=g===void 0?!1:g,x=r.padding,_=x===void 0?0:x,y=Kl(typeof _!="number"?_:ql(_,Kr)),C=h===Cr?yp:Cr,v=e.rects.popper,S=e.elements[w?C:h],D=Wp(pr(S)?S:S.contextElement||Hn(e.elements.popper),l,d),E=gr(e.elements.reference),T=Xl({reference:E,element:v,strategy:"absolute",placement:s}),B=To(Object.assign({},v,T)),I=h===Cr?B:E,H={top:D.top-I.top+y.top,bottom:I.bottom-D.bottom+y.bottom,left:D.left-I.left+y.left,right:I.right-D.right+y.right},ee=e.modifiersData.offset;if(h===Cr&&ee){var Y=ee[s];Object.keys(H).forEach(function(re){var te=[on,rn].indexOf(re)>=0?1:-1,K=[Gt,rn].indexOf(re)>=0?"y":"x";H[re]+=Y[K]*te})}return H}function Jp(e,t){t===void 0&&(t={});var r=t,i=r.placement,s=r.boundary,a=r.rootBoundary,l=r.padding,c=r.flipVariations,d=r.allowedAutoPlacements,f=d===void 0?$i:d,h=mr(i),g=h?c?us:us.filter(function(_){return mr(_)===h}):Kr,w=g.filter(function(_){return f.indexOf(_)>=0});w.length===0&&(w=g);var x=w.reduce(function(_,y){return _[y]=Nr(e,{placement:y,boundary:s,rootBoundary:a,padding:l})[yn(y)],_},{});return Object.keys(x).sort(function(_,y){return x[_]-x[y]})}function Yp(e){if(yn(e)===Wo)return[];var t=yi(e);return[fs(e),t,fs(t)]}function Xp(e){var t=e.state,r=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var s=r.mainAxis,a=s===void 0?!0:s,l=r.altAxis,c=l===void 0?!0:l,d=r.fallbackPlacements,f=r.padding,h=r.boundary,g=r.rootBoundary,w=r.altBoundary,x=r.flipVariations,_=x===void 0?!0:x,y=r.allowedAutoPlacements,C=t.options.placement,v=yn(C),S=v===C,D=d||(S||!_?[yi(C)]:Yp(C)),E=[C].concat(D).reduce(function(We,$e){return We.concat(yn($e)===Wo?Jp(t,{placement:$e,boundary:h,rootBoundary:g,padding:f,flipVariations:_,allowedAutoPlacements:y}):$e)},[]),T=t.rects.reference,B=t.rects.popper,I=new Map,H=!0,ee=E[0],Y=0;Y<E.length;Y++){var re=E[Y],te=yn(re),K=mr(re)===fr,ae=[Gt,rn].indexOf(te)>=0,J=ae?"width":"height",ce=Nr(t,{placement:re,boundary:h,rootBoundary:g,altBoundary:w,padding:f}),U=ae?K?on:Ht:K?rn:Gt;T[J]>B[J]&&(U=yi(U));var Q=yi(U),de=[];if(a&&de.push(ce[te]<=0),c&&de.push(ce[U]<=0,ce[Q]<=0),de.every(function(We){return We})){ee=re,H=!1;break}I.set(re,de)}if(H)for(var we=_?3:1,ke=function(We){var $e=E.find(function(Te){var xe=I.get(Te);if(xe)return xe.slice(0,We).every(function(De){return De})});if($e)return ee=$e,"break"},Ee=we;Ee>0;Ee--){var qe=ke(Ee);if(qe==="break")break}t.placement!==ee&&(t.modifiersData[i]._skip=!0,t.placement=ee,t.reset=!0)}}var Zp={name:"flip",enabled:!0,phase:"main",fn:Xp,requiresIfExists:["offset"],data:{_skip:!1}};function hs(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function gs(e){return[Gt,on,rn,Ht].some(function(t){return e[t]>=0})}function Qp(e){var t=e.state,r=e.name,i=t.rects.reference,s=t.rects.popper,a=t.modifiersData.preventOverflow,l=Nr(t,{elementContext:"reference"}),c=Nr(t,{altBoundary:!0}),d=hs(l,i),f=hs(c,s,a),h=gs(d),g=gs(f);t.modifiersData[r]={referenceClippingOffsets:d,popperEscapeOffsets:f,isReferenceHidden:h,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":g})}var eh={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Qp};function th(e,t,r){var i=yn(e),s=[Ht,Gt].indexOf(i)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,l=a[0],c=a[1];return l=l||0,c=(c||0)*s,[Ht,on].indexOf(i)>=0?{x:c,y:l}:{x:l,y:c}}function nh(e){var t=e.state,r=e.options,i=e.name,s=r.offset,a=s===void 0?[0,0]:s,l=$i.reduce(function(h,g){return h[g]=th(g,t.rects,a),h},{}),c=l[t.placement],d=c.x,f=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=f),t.modifiersData[i]=l}var rh={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:nh};function ih(e){var t=e.state,r=e.name;t.modifiersData[r]=Xl({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Zl={name:"popperOffsets",enabled:!0,phase:"read",fn:ih,data:{}};function oh(e){return e==="x"?"y":"x"}function ah(e){var t=e.state,r=e.options,i=e.name,s=r.mainAxis,a=s===void 0?!0:s,l=r.altAxis,c=l===void 0?!1:l,d=r.boundary,f=r.rootBoundary,h=r.altBoundary,g=r.padding,w=r.tether,x=w===void 0?!0:w,_=r.tetherOffset,y=_===void 0?0:_,C=Nr(t,{boundary:d,rootBoundary:f,padding:g,altBoundary:h}),v=yn(t.placement),S=mr(t.placement),D=!S,E=Xo(v),T=oh(E),B=t.modifiersData.popperOffsets,I=t.rects.reference,H=t.rects.popper,ee=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,Y=typeof ee=="number"?{mainAxis:ee,altAxis:ee}:Object.assign({mainAxis:0,altAxis:0},ee),re=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,te={x:0,y:0};if(B){if(a){var K,ae=E==="y"?Gt:Ht,J=E==="y"?rn:on,ce=E==="y"?"height":"width",U=B[E],Q=U+C[ae],de=U-C[J],we=x?-H[ce]/2:0,ke=S===fr?I[ce]:H[ce],Ee=S===fr?-H[ce]:-I[ce],qe=t.elements.arrow,We=x&&qe?Yo(qe):{width:0,height:0},$e=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Hl(),Te=$e[ae],xe=$e[J],De=Pr(0,I[ce],We[ce]),wt=D?I[ce]/2-we-De-Te-Y.mainAxis:ke-De-Te-Y.mainAxis,st=D?-I[ce]/2+we+De+xe+Y.mainAxis:Ee+De+xe+Y.mainAxis,Ye=t.elements.arrow&&qr(t.elements.arrow),Mt=Ye?E==="y"?Ye.clientTop||0:Ye.clientLeft||0:0,pt=(K=re==null?void 0:re[E])!=null?K:0,Ue=U+wt-pt-Mt,ze=U+st-pt,Xe=Pr(x?xi(Q,Ue):Q,U,x?Xn(de,ze):de);B[E]=Xe,te[E]=Xe-U}if(c){var It,Et=E==="x"?Gt:Ht,R=E==="x"?rn:on,b=B[T],k=T==="y"?"height":"width",P=b+C[Et],j=b-C[R],F=[Gt,Ht].indexOf(v)!==-1,V=(It=re==null?void 0:re[T])!=null?It:0,X=F?P:b-I[k]-H[k]-V+Y.altAxis,G=F?b+I[k]+H[k]-V-Y.altAxis:j,ie=x&&F?Bp(X,b,G):Pr(x?X:P,b,x?G:j);B[T]=ie,te[T]=ie-b}t.modifiersData[i]=te}}var sh={name:"preventOverflow",enabled:!0,phase:"main",fn:ah,requiresIfExists:["offset"]};function lh(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function uh(e){return e===pn(e)||!en(e)?Zo(e):lh(e)}function ch(e){var t=e.getBoundingClientRect(),r=hr(t.width)/e.offsetWidth||1,i=hr(t.height)/e.offsetHeight||1;return r!==1||i!==1}function dh(e,t,r){r===void 0&&(r=!1);var i=en(t),s=en(t)&&ch(t),a=Hn(t),l=gr(e,s),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(i||!i&&!r)&&((_n(t)!=="body"||ea(a))&&(c=uh(t)),en(t)?(d=gr(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):a&&(d.x=Qo(a))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function fh(e){var t=new Map,r=new Set,i=[];e.forEach(function(a){t.set(a.name,a)});function s(a){r.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(c){if(!r.has(c)){var d=t.get(c);d&&s(d)}}),i.push(a)}return e.forEach(function(a){r.has(a.name)||s(a)}),i}function ph(e){var t=fh(e);return xp.reduce(function(r,i){return r.concat(t.filter(function(s){return s.phase===i}))},[])}function hh(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function gh(e){var t=e.reduce(function(r,i){var s=r[i.name];return r[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,r},{});return Object.keys(t).map(function(r){return t[r]})}var ms={placement:"bottom",modifiers:[],strategy:"absolute"};function vs(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function ta(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,i=r===void 0?[]:r,s=t.defaultOptions,a=s===void 0?ms:s;return function(l,c,d){d===void 0&&(d=a);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},ms,a),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},h=[],g=!1,w={state:f,setOptions:function(y){var C=typeof y=="function"?y(f.options):y;_(),f.options=Object.assign({},a,f.options,C),f.scrollParents={reference:pr(l)?Tr(l):l.contextElement?Tr(l.contextElement):[],popper:Tr(c)};var v=ph(gh([].concat(i,f.options.modifiers)));return f.orderedModifiers=v.filter(function(S){return S.enabled}),x(),w.update()},forceUpdate:function(){if(!g){var y=f.elements,C=y.reference,v=y.popper;if(vs(C,v)){f.rects={reference:dh(C,qr(v),f.options.strategy==="fixed"),popper:Yo(v)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(H){return f.modifiersData[H.name]=Object.assign({},H.data)});for(var S=0;S<f.orderedModifiers.length;S++){if(f.reset===!0){f.reset=!1,S=-1;continue}var D=f.orderedModifiers[S],E=D.fn,T=D.options,B=T===void 0?{}:T,I=D.name;typeof E=="function"&&(f=E({state:f,options:B,name:I,instance:w})||f)}}}},update:hh(function(){return new Promise(function(y){w.forceUpdate(),y(f)})}),destroy:function(){_(),g=!0}};if(!vs(l,c))return w;w.setOptions(d).then(function(y){!g&&d.onFirstUpdate&&d.onFirstUpdate(y)});function x(){f.orderedModifiers.forEach(function(y){var C=y.name,v=y.options,S=v===void 0?{}:v,D=y.effect;if(typeof D=="function"){var E=D({state:f,name:C,instance:w,options:S}),T=function(){};h.push(E||T)}})}function _(){h.forEach(function(y){return y()}),h=[]}return w}}ta();var mh=[Jl,Zl,Wl,Ul];ta({defaultModifiers:mh});var vh=[Jl,Zl,Wl,Ul,rh,Zp,sh,Np,eh],yh=ta({defaultModifiers:vh});const bh=(e,t,r={})=>{const i={name:"updateState",enabled:!0,phase:"write",fn:({state:d})=>{const f=_h(d);Object.assign(l.value,f)},requires:["computeStyles"]},s=Z(()=>{const{onFirstUpdate:d,placement:f,strategy:h,modifiers:g}=M(r);return{onFirstUpdate:d,placement:f||"bottom",strategy:h||"absolute",modifiers:[...g||[],i,{name:"applyStyles",enabled:!1}]}}),a=dn(),l=pe({styles:{popper:{position:M(s).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),c=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return Ie(s,d=>{const f=M(a);f&&f.setOptions(d)},{deep:!0}),Ie([e,t],([d,f])=>{c(),!(!d||!f)&&(a.value=yh(d,f,M(s)))}),an(()=>{c()}),{state:Z(()=>{var d;return{...((d=M(a))==null?void 0:d.state)||{}}}),styles:Z(()=>M(l).styles),attributes:Z(()=>M(l).attributes),update:()=>{var d;return(d=M(a))==null?void 0:d.update()},forceUpdate:()=>{var d;return(d=M(a))==null?void 0:d.forceUpdate()},instanceRef:Z(()=>M(a))}};function _h(e){const t=Object.keys(e.elements),r=Co(t.map(s=>[s,e.styles[s]||{}])),i=Co(t.map(s=>[s,e.attributes[s]]));return{styles:r,attributes:i}}const na=e=>{if(!e)return{onClick:Yn,onMousedown:Yn,onMouseup:Yn};let t=!1,r=!1;return{onClick:l=>{t&&r&&e(l),t=r=!1},onMousedown:l=>{t=l.target===l.currentTarget},onMouseup:l=>{r=l.target===l.currentTarget}}};function ys(){let e;const t=(i,s)=>{r(),e=window.setTimeout(i,s)},r=()=>window.clearTimeout(e);return nd(()=>r()),{registerTimeout:t,cancelTimeout:r}}let sr=[];const bs=e=>{const t=e;t.key===Gn.esc&&sr.forEach(r=>r(t))},Lh=e=>{xt(()=>{sr.length===0&&document.addEventListener("keydown",bs),_t&&sr.push(e)}),an(()=>{sr=sr.filter(t=>t!==e),sr.length===0&&_t&&document.removeEventListener("keydown",bs)})};let _s;const Ql=()=>{const e=rd(),t=id(),r=Z(()=>`${e.value}-popper-container-${t.prefix}`),i=Z(()=>`#${r.value}`);return{id:r,selector:i}},kh=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},wh=()=>{const{id:e,selector:t}=Ql();return xd(()=>{_t&&!_s&&!document.body.querySelector(t.value)&&(_s=kh(e.value))}),{id:e,selector:t}},Mh=ft({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),Eh=({showAfter:e,hideAfter:t,autoClose:r,open:i,close:s})=>{const{registerTimeout:a}=ys(),{registerTimeout:l,cancelTimeout:c}=ys();return{onOpen:h=>{a(()=>{i(h);const g=M(r);et(g)&&g>0&&l(()=>{s(h)},g)},M(e))},onClose:h=>{c(),a(()=>{s(h)},M(t))}}},eu=Symbol("elForwardRef"),Ch=e=>{nn(eu,{setForwardRef:r=>{e.value=r}})},Sh=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),Ls=pe(0),tu=2e3,nu=Symbol("zIndexContextKey"),ra=e=>{const t=e||(fn()?Tt(nu,void 0):void 0),r=Z(()=>{const a=M(t);return et(a)?a:tu}),i=Z(()=>r.value+Ls.value);return{initialZIndex:r,currentZIndex:i,nextZIndex:()=>(Ls.value++,i.value)}};function xh(e){const t=pe();function r(){if(e.value==null)return;const{selectionStart:s,selectionEnd:a,value:l}=e.value;if(s==null||a==null)return;const c=l.slice(0,Math.max(0,s)),d=l.slice(Math.max(0,a));t.value={selectionStart:s,selectionEnd:a,value:l,beforeTxt:c,afterTxt:d}}function i(){if(e.value==null||t.value==null)return;const{value:s}=e.value,{beforeTxt:a,afterTxt:l,selectionStart:c}=t.value;if(a==null||l==null||c==null)return;let d=s.length;if(s.endsWith(l))d=s.length-l.length;else if(s.startsWith(a))d=a.length;else{const f=a[c-1],h=s.indexOf(f,c-1);h!==-1&&(d=h+1)}e.value.setSelectionRange(d,d)}return[r,i]}function Oh(e,{afterFocus:t,beforeBlur:r,afterBlur:i}={}){const s=fn(),{emit:a}=s,l=dn(),c=pe(!1),d=g=>{c.value||(c.value=!0,a("focus",g),t==null||t())},f=g=>{var w;bt(r)&&r(g)||g.relatedTarget&&((w=l.value)!=null&&w.contains(g.relatedTarget))||(c.value=!1,a("blur",g),i==null||i())},h=()=>{var g;(g=e.value)==null||g.focus()};return Ie(l,g=>{g&&g.setAttribute("tabindex","-1")}),Ir(l,"click",h),{wrapperRef:l,isFocused:c,handleFocus:d,handleBlur:f}}const ru=Symbol(),Oi=pe();function Ui(e,t=void 0){const r=fn()?Tt(ru,Oi):Oi;return e?Z(()=>{var i,s;return(s=(i=r.value)==null?void 0:i[e])!=null?s:t}):r}function ia(e,t){const r=Ui(),i=tt(e,Z(()=>{var c;return((c=r.value)==null?void 0:c.namespace)||gl})),s=_r(Z(()=>{var c;return(c=r.value)==null?void 0:c.locale})),a=ra(Z(()=>{var c;return((c=r.value)==null?void 0:c.zIndex)||tu})),l=Z(()=>{var c;return M(t)||((c=r.value)==null?void 0:c.size)||""});return Ph(Z(()=>M(r)||{})),{ns:i,locale:s,zIndex:a,size:l}}const Ph=(e,t,r=!1)=>{var i;const s=!!fn(),a=s?Ui():void 0,l=(i=t==null?void 0:t.provide)!=null?i:s?nn:void 0;if(!l)return;const c=Z(()=>{const d=M(e);return a!=null&&a.value?Th(a.value,d):d});return l(ru,c),l(jl,Z(()=>c.value.locale)),l(od,Z(()=>c.value.namespace)),l(nu,Z(()=>c.value.zIndex)),l(ad,{size:Z(()=>c.value.size||"")}),(r||!Oi.value)&&(Oi.value=c.value),c},Th=(e,t)=>{var r;const i=[...new Set([...Wa(e),...Wa(t)])],s={};for(const a of i)s[a]=(r=t[a])!=null?r:e[a];return s},ks={};let ln;const Rh=`
  height:0 !important;
  visibility:hidden !important;
  ${Gd()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Bh=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Ih(e){const t=window.getComputedStyle(e),r=t.getPropertyValue("box-sizing"),i=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),s=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:Bh.map(l=>`${l}:${t.getPropertyValue(l)}`).join(";"),paddingSize:i,borderSize:s,boxSizing:r}}function ws(e,t=1,r){var i;ln||(ln=document.createElement("textarea"),document.body.appendChild(ln));const{paddingSize:s,borderSize:a,boxSizing:l,contextStyle:c}=Ih(e);ln.setAttribute("style",`${c};${Rh}`),ln.value=e.value||e.placeholder||"";let d=ln.scrollHeight;const f={};l==="border-box"?d=d+a:l==="content-box"&&(d=d-s),ln.value="";const h=ln.scrollHeight-s;if(et(t)){let g=h*t;l==="border-box"&&(g=g+s+a),d=Math.max(g,d),f.minHeight=`${g}px`}if(et(r)){let g=h*r;l==="border-box"&&(g=g+s+a),d=Math.min(g,d)}return f.height=`${d}px`,(i=ln.parentNode)==null||i.removeChild(ln),ln=void 0,f}const Dh=ft({id:{type:String,default:void 0},size:Ho,disabled:Boolean,modelValue:{type:Ge([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Ge([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:$n},prefixIcon:{type:$n},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Ge([Object,Array,String]),default:()=>Nl({})},autofocus:{type:Boolean,default:!1}}),Ah={[Pt]:e=>Jt(e),input:e=>Jt(e),change:e=>Jt(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Nh=["role"],zh=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],jh=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],Fh=Re({name:"ElInput",inheritAttrs:!1}),$h=Re({...Fh,props:Dh,emits:Ah,setup(e,{expose:t,emit:r}){const i=e,s=Od(),a=qo(),l=Z(()=>{const V={};return i.containerRole==="combobox"&&(V["aria-haspopup"]=s["aria-haspopup"],V["aria-owns"]=s["aria-owns"],V["aria-expanded"]=s["aria-expanded"]),V}),c=Z(()=>[i.type==="textarea"?C.b():y.b(),y.m(x.value),y.is("disabled",_.value),y.is("exceed",We.value),{[y.b("group")]:a.prepend||a.append,[y.bm("group","append")]:a.append,[y.bm("group","prepend")]:a.prepend,[y.m("prefix")]:a.prefix||i.prefixIcon,[y.m("suffix")]:a.suffix||i.suffixIcon||i.clearable||i.showPassword,[y.bm("suffix","password-clear")]:we.value&&ke.value},s.class]),d=Z(()=>[y.e("wrapper"),y.is("focus",Y.value)]),f=cp({excludeKeys:Z(()=>Object.keys(l.value))}),{form:h,formItem:g}=Ai(),{inputId:w}=sd(i,{formItemContext:g}),x=Ur(),_=Ni(),y=tt("input"),C=tt("textarea"),v=dn(),S=dn(),D=pe(!1),E=pe(!1),T=pe(!1),B=pe(),I=dn(i.inputStyle),H=Z(()=>v.value||S.value),{wrapperRef:ee,isFocused:Y,handleFocus:re,handleBlur:te}=Oh(H,{afterBlur(){var V;i.validateEvent&&((V=g==null?void 0:g.validate)==null||V.call(g,"blur").catch(X=>Dr()))}}),K=Z(()=>{var V;return(V=h==null?void 0:h.statusIcon)!=null?V:!1}),ae=Z(()=>(g==null?void 0:g.validateState)||""),J=Z(()=>ae.value&&ml[ae.value]),ce=Z(()=>T.value?ld:ud),U=Z(()=>[s.style,i.inputStyle]),Q=Z(()=>[i.inputStyle,I.value,{resize:i.resize}]),de=Z(()=>Sn(i.modelValue)?"":String(i.modelValue)),we=Z(()=>i.clearable&&!_.value&&!i.readonly&&!!de.value&&(Y.value||D.value)),ke=Z(()=>i.showPassword&&!_.value&&!i.readonly&&!!de.value&&(!!de.value||Y.value)),Ee=Z(()=>i.showWordLimit&&!!f.value.maxlength&&(i.type==="text"||i.type==="textarea")&&!_.value&&!i.readonly&&!i.showPassword),qe=Z(()=>de.value.length),We=Z(()=>!!Ee.value&&qe.value>Number(f.value.maxlength)),$e=Z(()=>!!a.suffix||!!i.suffixIcon||we.value||i.showPassword||Ee.value||!!ae.value&&K.value),[Te,xe]=xh(v);Gr(S,V=>{if(st(),!Ee.value||i.resize!=="both")return;const X=V[0],{width:G}=X.contentRect;B.value={right:`calc(100% - ${G+15+6}px)`}});const De=()=>{const{type:V,autosize:X}=i;if(!(!_t||V!=="textarea"||!S.value))if(X){const G=Qt(X)?X.minRows:void 0,ie=Qt(X)?X.maxRows:void 0,me=ws(S.value,G,ie);I.value={overflowY:"hidden",...me},Ke(()=>{S.value.offsetHeight,I.value=me})}else I.value={minHeight:ws(S.value).minHeight}},st=(V=>{let X=!1;return()=>{var G;if(X||!i.autosize)return;((G=S.value)==null?void 0:G.offsetParent)===null||(V(),X=!0)}})(De),Ye=()=>{const V=H.value,X=i.formatter?i.formatter(de.value):de.value;!V||V.value===X||(V.value=X)},Mt=async V=>{Te();let{value:X}=V.target;if(i.formatter&&(X=i.parser?i.parser(X):X),!E.value){if(X===de.value){Ye();return}r(Pt,X),r("input",X),await Ke(),Ye(),xe()}},pt=V=>{r("change",V.target.value)},Ue=V=>{r("compositionstart",V),E.value=!0},ze=V=>{var X;r("compositionupdate",V);const G=(X=V.target)==null?void 0:X.value,ie=G[G.length-1]||"";E.value=!Al(ie)},Xe=V=>{r("compositionend",V),E.value&&(E.value=!1,Mt(V))},It=()=>{T.value=!T.value,Et()},Et=async()=>{var V;await Ke(),(V=H.value)==null||V.focus()},R=()=>{var V;return(V=H.value)==null?void 0:V.blur()},b=V=>{D.value=!1,r("mouseleave",V)},k=V=>{D.value=!0,r("mouseenter",V)},P=V=>{r("keydown",V)},j=()=>{var V;(V=H.value)==null||V.select()},F=()=>{r(Pt,""),r("change",""),r("clear"),r("input","")};return Ie(()=>i.modelValue,()=>{var V;Ke(()=>De()),i.validateEvent&&((V=g==null?void 0:g.validate)==null||V.call(g,"change").catch(X=>Dr()))}),Ie(de,()=>Ye()),Ie(()=>i.type,async()=>{await Ke(),Ye(),De()}),xt(()=>{!i.formatter&&i.parser,Ye(),Ke(De)}),t({input:v,textarea:S,ref:H,textareaStyle:Q,autosize:gn(i,"autosize"),focus:Et,blur:R,select:j,clear:F,resizeTextarea:De}),(V,X)=>Lt((se(),Se("div",Cn(M(l),{class:M(c),style:M(U),role:V.containerRole,onMouseenter:k,onMouseleave:b}),[Ce(" input "),V.type!=="textarea"?(se(),Se(At,{key:0},[Ce(" prepend slot "),V.$slots.prepend?(se(),Se("div",{key:0,class:ge(M(y).be("group","prepend"))},[Ae(V.$slots,"prepend")],2)):Ce("v-if",!0),Pe("div",{ref_key:"wrapperRef",ref:ee,class:ge(M(d))},[Ce(" prefix slot "),V.$slots.prefix||V.prefixIcon?(se(),Se("span",{key:0,class:ge(M(y).e("prefix"))},[Pe("span",{class:ge(M(y).e("prefix-inner"))},[Ae(V.$slots,"prefix"),V.prefixIcon?(se(),Me(M(Rt),{key:0,class:ge(M(y).e("icon"))},{default:fe(()=>[(se(),Me(Nt(V.prefixIcon)))]),_:1},8,["class"])):Ce("v-if",!0)],2)],2)):Ce("v-if",!0),Pe("input",Cn({id:M(w),ref_key:"input",ref:v,class:M(y).e("inner")},M(f),{type:V.showPassword?T.value?"text":"password":V.type,disabled:M(_),formatter:V.formatter,parser:V.parser,readonly:V.readonly,autocomplete:V.autocomplete,tabindex:V.tabindex,"aria-label":V.label,placeholder:V.placeholder,style:V.inputStyle,form:i.form,autofocus:i.autofocus,onCompositionstart:Ue,onCompositionupdate:ze,onCompositionend:Xe,onInput:Mt,onFocus:X[0]||(X[0]=(...G)=>M(re)&&M(re)(...G)),onBlur:X[1]||(X[1]=(...G)=>M(te)&&M(te)(...G)),onChange:pt,onKeydown:P}),null,16,zh),Ce(" suffix slot "),M($e)?(se(),Se("span",{key:1,class:ge(M(y).e("suffix"))},[Pe("span",{class:ge(M(y).e("suffix-inner"))},[!M(we)||!M(ke)||!M(Ee)?(se(),Se(At,{key:0},[Ae(V.$slots,"suffix"),V.suffixIcon?(se(),Me(M(Rt),{key:0,class:ge(M(y).e("icon"))},{default:fe(()=>[(se(),Me(Nt(V.suffixIcon)))]),_:1},8,["class"])):Ce("v-if",!0)],64)):Ce("v-if",!0),M(we)?(se(),Me(M(Rt),{key:1,class:ge([M(y).e("icon"),M(y).e("clear")]),onMousedown:yt(M(Yn),["prevent"]),onClick:F},{default:fe(()=>[ye(M(vl))]),_:1},8,["class","onMousedown"])):Ce("v-if",!0),M(ke)?(se(),Me(M(Rt),{key:2,class:ge([M(y).e("icon"),M(y).e("password")]),onClick:It},{default:fe(()=>[(se(),Me(Nt(M(ce))))]),_:1},8,["class"])):Ce("v-if",!0),M(Ee)?(se(),Se("span",{key:3,class:ge(M(y).e("count"))},[Pe("span",{class:ge(M(y).e("count-inner"))},at(M(qe))+" / "+at(M(f).maxlength),3)],2)):Ce("v-if",!0),M(ae)&&M(J)&&M(K)?(se(),Me(M(Rt),{key:4,class:ge([M(y).e("icon"),M(y).e("validateIcon"),M(y).is("loading",M(ae)==="validating")])},{default:fe(()=>[(se(),Me(Nt(M(J))))]),_:1},8,["class"])):Ce("v-if",!0)],2)],2)):Ce("v-if",!0)],2),Ce(" append slot "),V.$slots.append?(se(),Se("div",{key:1,class:ge(M(y).be("group","append"))},[Ae(V.$slots,"append")],2)):Ce("v-if",!0)],64)):(se(),Se(At,{key:1},[Ce(" textarea "),Pe("textarea",Cn({id:M(w),ref_key:"textarea",ref:S,class:M(C).e("inner")},M(f),{tabindex:V.tabindex,disabled:M(_),readonly:V.readonly,autocomplete:V.autocomplete,style:M(Q),"aria-label":V.label,placeholder:V.placeholder,form:i.form,autofocus:i.autofocus,onCompositionstart:Ue,onCompositionupdate:ze,onCompositionend:Xe,onInput:Mt,onFocus:X[2]||(X[2]=(...G)=>M(re)&&M(re)(...G)),onBlur:X[3]||(X[3]=(...G)=>M(te)&&M(te)(...G)),onChange:pt,onKeydown:P}),null,16,jh),M(Ee)?(se(),Se("span",{key:0,style:St(B.value),class:ge(M(y).e("count"))},at(M(qe))+" / "+at(M(f).maxlength),7)):Ce("v-if",!0)],64))],16,Nh)),[[Yt,V.type!=="hidden"]])}});var Vh=nt($h,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Wr=Ln(Vh),cr=4,Uh={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Gh=({move:e,size:t,bar:r})=>({[r.size]:t,transform:`translate${r.axis}(${e}%)`}),iu=Symbol("scrollbarContextKey"),Hh=ft({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Kh="Thumb",qh=Re({__name:"thumb",props:Hh,setup(e){const t=e,r=Tt(iu),i=tt("scrollbar");r||Uo(Kh,"can not inject scrollbar context");const s=pe(),a=pe(),l=pe({}),c=pe(!1);let d=!1,f=!1,h=_t?document.onselectstart:null;const g=Z(()=>Uh[t.vertical?"vertical":"horizontal"]),w=Z(()=>Gh({size:t.size,move:t.move,bar:g.value})),x=Z(()=>s.value[g.value.offset]**2/r.wrapElement[g.value.scrollSize]/t.ratio/a.value[g.value.offset]),_=B=>{var I;if(B.stopPropagation(),B.ctrlKey||[1,2].includes(B.button))return;(I=window.getSelection())==null||I.removeAllRanges(),C(B);const H=B.currentTarget;H&&(l.value[g.value.axis]=H[g.value.offset]-(B[g.value.client]-H.getBoundingClientRect()[g.value.direction]))},y=B=>{if(!a.value||!s.value||!r.wrapElement)return;const I=Math.abs(B.target.getBoundingClientRect()[g.value.direction]-B[g.value.client]),H=a.value[g.value.offset]/2,ee=(I-H)*100*x.value/s.value[g.value.offset];r.wrapElement[g.value.scroll]=ee*r.wrapElement[g.value.scrollSize]/100},C=B=>{B.stopImmediatePropagation(),d=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",S),h=document.onselectstart,document.onselectstart=()=>!1},v=B=>{if(!s.value||!a.value||d===!1)return;const I=l.value[g.value.axis];if(!I)return;const H=(s.value.getBoundingClientRect()[g.value.direction]-B[g.value.client])*-1,ee=a.value[g.value.offset]-I,Y=(H-ee)*100*x.value/s.value[g.value.offset];r.wrapElement[g.value.scroll]=Y*r.wrapElement[g.value.scrollSize]/100},S=()=>{d=!1,l.value[g.value.axis]=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",S),T(),f&&(c.value=!1)},D=()=>{f=!1,c.value=!!t.size},E=()=>{f=!0,c.value=d};an(()=>{T(),document.removeEventListener("mouseup",S)});const T=()=>{document.onselectstart!==h&&(document.onselectstart=h)};return Ir(gn(r,"scrollbarElement"),"mousemove",D),Ir(gn(r,"scrollbarElement"),"mouseleave",E),(B,I)=>(se(),Me(bn,{name:M(i).b("fade"),persisted:""},{default:fe(()=>[Lt(Pe("div",{ref_key:"instance",ref:s,class:ge([M(i).e("bar"),M(i).is(M(g).key)]),onMousedown:y},[Pe("div",{ref_key:"thumb",ref:a,class:ge(M(i).e("thumb")),style:St(M(w)),onMousedown:_},null,38)],34),[[Yt,B.always||c.value]])]),_:1},8,["name"]))}});var Ms=nt(qh,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const Wh=ft({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),Jh=Re({__name:"bar",props:Wh,setup(e,{expose:t}){const r=e,i=pe(0),s=pe(0);return t({handleScroll:l=>{if(l){const c=l.offsetHeight-cr,d=l.offsetWidth-cr;s.value=l.scrollTop*100/c*r.ratioY,i.value=l.scrollLeft*100/d*r.ratioX}}}),(l,c)=>(se(),Se(At,null,[ye(Ms,{move:i.value,ratio:l.ratioX,size:l.width,always:l.always},null,8,["move","ratio","size","always"]),ye(Ms,{move:s.value,ratio:l.ratioY,size:l.height,vertical:"",always:l.always},null,8,["move","ratio","size","always"])],64))}});var Yh=nt(Jh,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const Xh=ft({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Ge([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),Zh={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(et)},Qh="ElScrollbar",eg=Re({name:Qh}),tg=Re({...eg,props:Xh,emits:Zh,setup(e,{expose:t,emit:r}){const i=e,s=tt("scrollbar");let a,l;const c=pe(),d=pe(),f=pe(),h=pe("0"),g=pe("0"),w=pe(),x=pe(1),_=pe(1),y=Z(()=>{const I={};return i.height&&(I.height=Rr(i.height)),i.maxHeight&&(I.maxHeight=Rr(i.maxHeight)),[i.wrapStyle,I]}),C=Z(()=>[i.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!i.native}]),v=Z(()=>[s.e("view"),i.viewClass]),S=()=>{var I;d.value&&((I=w.value)==null||I.handleScroll(d.value),r("scroll",{scrollTop:d.value.scrollTop,scrollLeft:d.value.scrollLeft}))};function D(I,H){Qt(I)?d.value.scrollTo(I):et(I)&&et(H)&&d.value.scrollTo(I,H)}const E=I=>{et(I)&&(d.value.scrollTop=I)},T=I=>{et(I)&&(d.value.scrollLeft=I)},B=()=>{if(!d.value)return;const I=d.value.offsetHeight-cr,H=d.value.offsetWidth-cr,ee=I**2/d.value.scrollHeight,Y=H**2/d.value.scrollWidth,re=Math.max(ee,i.minSize),te=Math.max(Y,i.minSize);x.value=ee/(I-ee)/(re/(I-re)),_.value=Y/(H-Y)/(te/(H-te)),g.value=re+cr<I?`${re}px`:"",h.value=te+cr<H?`${te}px`:""};return Ie(()=>i.noresize,I=>{I?(a==null||a(),l==null||l()):({stop:a}=Gr(f,B),l=Ir("resize",B))},{immediate:!0}),Ie(()=>[i.maxHeight,i.height],()=>{i.native||Ke(()=>{var I;B(),d.value&&((I=w.value)==null||I.handleScroll(d.value))})}),nn(iu,Pn({scrollbarElement:c,wrapElement:d})),xt(()=>{i.native||Ke(()=>{B()})}),Cl(()=>B()),t({wrapRef:d,update:B,scrollTo:D,setScrollTop:E,setScrollLeft:T,handleScroll:S}),(I,H)=>(se(),Se("div",{ref_key:"scrollbarRef",ref:c,class:ge(M(s).b())},[Pe("div",{ref_key:"wrapRef",ref:d,class:ge(M(C)),style:St(M(y)),onScroll:S},[(se(),Me(Nt(I.tag),{id:I.id,ref_key:"resizeRef",ref:f,class:ge(M(v)),style:St(I.viewStyle),role:I.role,"aria-label":I.ariaLabel,"aria-orientation":I.ariaOrientation},{default:fe(()=>[Ae(I.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),I.native?Ce("v-if",!0):(se(),Me(Yh,{key:0,ref_key:"barRef",ref:w,height:g.value,width:h.value,always:I.always,"ratio-x":_.value,"ratio-y":x.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var ng=nt(tg,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const rg=Ln(ng),oa=Symbol("popper"),ou=Symbol("popperContent"),ig=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],au=ft({role:{type:String,values:ig,default:"tooltip"}}),og=Re({name:"ElPopper",inheritAttrs:!1}),ag=Re({...og,props:au,setup(e,{expose:t}){const r=e,i=pe(),s=pe(),a=pe(),l=pe(),c=Z(()=>r.role),d={triggerRef:i,popperInstanceRef:s,contentRef:a,referenceRef:l,role:c};return t(d),nn(oa,d),(f,h)=>Ae(f.$slots,"default")}});var sg=nt(ag,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const su=ft({arrowOffset:{type:Number,default:5}}),lg=Re({name:"ElPopperArrow",inheritAttrs:!1}),ug=Re({...lg,props:su,setup(e,{expose:t}){const r=e,i=tt("popper"),{arrowOffset:s,arrowRef:a,arrowStyle:l}=Tt(ou,void 0);return Ie(()=>r.arrowOffset,c=>{s.value=c}),an(()=>{a.value=void 0}),t({arrowRef:a}),(c,d)=>(se(),Se("span",{ref_key:"arrowRef",ref:a,class:ge(M(i).e("arrow")),style:St(M(l)),"data-popper-arrow":""},null,6))}});var cg=nt(ug,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const dg="ElOnlyChild",fg=Re({name:dg,setup(e,{slots:t,attrs:r}){var i;const s=Tt(eu),a=Sh((i=s==null?void 0:s.setForwardRef)!=null?i:Yn);return()=>{var l;const c=(l=t.default)==null?void 0:l.call(t,r);if(!c||c.length>1)return null;const d=lu(c);return d?Lt(Pd(d,r),[[a]]):null}}});function lu(e){if(!e)return null;const t=e;for(const r of t){if(Qt(r))switch(r.type){case Td:continue;case Sl:case"svg":return Es(r);case At:return lu(r.children);default:return r}return Es(r)}return null}function Es(e){const t=tt("only-child");return ye("span",{class:t.e("content")},[e])}const uu=ft({virtualRef:{type:Ge(Object)},virtualTriggering:Boolean,onMouseenter:{type:Ge(Function)},onMouseleave:{type:Ge(Function)},onClick:{type:Ge(Function)},onKeydown:{type:Ge(Function)},onFocus:{type:Ge(Function)},onBlur:{type:Ge(Function)},onContextmenu:{type:Ge(Function)},id:String,open:Boolean}),pg=Re({name:"ElPopperTrigger",inheritAttrs:!1}),hg=Re({...pg,props:uu,setup(e,{expose:t}){const r=e,{role:i,triggerRef:s}=Tt(oa,void 0);Ch(s);const a=Z(()=>c.value?r.id:void 0),l=Z(()=>{if(i&&i.value==="tooltip")return r.open&&r.id?r.id:void 0}),c=Z(()=>{if(i&&i.value!=="tooltip")return i.value}),d=Z(()=>c.value?`${r.open}`:void 0);let f;return xt(()=>{Ie(()=>r.virtualRef,h=>{h&&(s.value=yl(h))},{immediate:!0}),Ie(s,(h,g)=>{f==null||f(),f=void 0,Vn(h)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(w=>{var x;const _=r[w];_&&(h.addEventListener(w.slice(2).toLowerCase(),_),(x=g==null?void 0:g.removeEventListener)==null||x.call(g,w.slice(2).toLowerCase(),_))}),f=Ie([a,l,c,d],w=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((x,_)=>{Sn(w[_])?h.removeAttribute(x):h.setAttribute(x,w[_])})},{immediate:!0})),Vn(g)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(w=>g.removeAttribute(w))},{immediate:!0})}),an(()=>{f==null||f(),f=void 0}),t({triggerRef:s}),(h,g)=>h.virtualTriggering?Ce("v-if",!0):(se(),Me(M(fg),Cn({key:0},h.$attrs,{"aria-controls":M(a),"aria-describedby":M(l),"aria-expanded":M(d),"aria-haspopup":M(c)}),{default:fe(()=>[Ae(h.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var gg=nt(hg,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]);const mo="focus-trap.focus-after-trapped",vo="focus-trap.focus-after-released",mg="focus-trap.focusout-prevented",Cs={cancelable:!0,bubbles:!1},vg={cancelable:!0,bubbles:!1},Ss="focusAfterTrapped",xs="focusAfterReleased",cu=Symbol("elFocusTrap"),aa=pe(),Gi=pe(0),sa=pe(0);let ai=0;const du=e=>{const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0||i===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t},Os=(e,t)=>{for(const r of e)if(!yg(r,t))return r},yg=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},bg=e=>{const t=du(e),r=Os(t,e),i=Os(t.reverse(),e);return[r,i]},_g=e=>e instanceof HTMLInputElement&&"select"in e,Dn=(e,t)=>{if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),sa.value=window.performance.now(),e!==r&&_g(e)&&t&&e.select()}};function Ps(e,t){const r=[...e],i=e.indexOf(t);return i!==-1&&r.splice(i,1),r}const Lg=()=>{let e=[];return{push:i=>{const s=e[0];s&&i!==s&&s.pause(),e=Ps(e,i),e.unshift(i)},remove:i=>{var s,a;e=Ps(e,i),(a=(s=e[0])==null?void 0:s.resume)==null||a.call(s)}}},kg=(e,t=!1)=>{const r=document.activeElement;for(const i of e)if(Dn(i,t),document.activeElement!==r)return},Ts=Lg(),wg=()=>Gi.value>sa.value,si=()=>{aa.value="pointer",Gi.value=window.performance.now()},Rs=()=>{aa.value="keyboard",Gi.value=window.performance.now()},Mg=()=>(xt(()=>{ai===0&&(document.addEventListener("mousedown",si),document.addEventListener("touchstart",si),document.addEventListener("keydown",Rs)),ai++}),an(()=>{ai--,ai<=0&&(document.removeEventListener("mousedown",si),document.removeEventListener("touchstart",si),document.removeEventListener("keydown",Rs))}),{focusReason:aa,lastUserFocusTimestamp:Gi,lastAutomatedFocusTimestamp:sa}),li=e=>new CustomEvent(mg,{...vg,detail:e}),Eg=Re({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Ss,xs,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const r=pe();let i,s;const{focusReason:a}=Mg();Lh(_=>{e.trapped&&!l.paused&&t("release-requested",_)});const l={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},c=_=>{if(!e.loop&&!e.trapped||l.paused)return;const{key:y,altKey:C,ctrlKey:v,metaKey:S,currentTarget:D,shiftKey:E}=_,{loop:T}=e,B=y===Gn.tab&&!C&&!v&&!S,I=document.activeElement;if(B&&I){const H=D,[ee,Y]=bg(H);if(ee&&Y){if(!E&&I===Y){const te=li({focusReason:a.value});t("focusout-prevented",te),te.defaultPrevented||(_.preventDefault(),T&&Dn(ee,!0))}else if(E&&[ee,H].includes(I)){const te=li({focusReason:a.value});t("focusout-prevented",te),te.defaultPrevented||(_.preventDefault(),T&&Dn(Y,!0))}}else if(I===H){const te=li({focusReason:a.value});t("focusout-prevented",te),te.defaultPrevented||_.preventDefault()}}};nn(cu,{focusTrapRef:r,onKeydown:c}),Ie(()=>e.focusTrapEl,_=>{_&&(r.value=_)},{immediate:!0}),Ie([r],([_],[y])=>{_&&(_.addEventListener("keydown",c),_.addEventListener("focusin",h),_.addEventListener("focusout",g)),y&&(y.removeEventListener("keydown",c),y.removeEventListener("focusin",h),y.removeEventListener("focusout",g))});const d=_=>{t(Ss,_)},f=_=>t(xs,_),h=_=>{const y=M(r);if(!y)return;const C=_.target,v=_.relatedTarget,S=C&&y.contains(C);e.trapped||v&&y.contains(v)||(i=v),S&&t("focusin",_),!l.paused&&e.trapped&&(S?s=C:Dn(s,!0))},g=_=>{const y=M(r);if(!(l.paused||!y))if(e.trapped){const C=_.relatedTarget;!Sn(C)&&!y.contains(C)&&setTimeout(()=>{if(!l.paused&&e.trapped){const v=li({focusReason:a.value});t("focusout-prevented",v),v.defaultPrevented||Dn(s,!0)}},0)}else{const C=_.target;C&&y.contains(C)||t("focusout",_)}};async function w(){await Ke();const _=M(r);if(_){Ts.push(l);const y=_.contains(document.activeElement)?i:document.activeElement;if(i=y,!_.contains(y)){const v=new Event(mo,Cs);_.addEventListener(mo,d),_.dispatchEvent(v),v.defaultPrevented||Ke(()=>{let S=e.focusStartEl;Jt(S)||(Dn(S),document.activeElement!==S&&(S="first")),S==="first"&&kg(du(_),!0),(document.activeElement===y||S==="container")&&Dn(_)})}}}function x(){const _=M(r);if(_){_.removeEventListener(mo,d);const y=new CustomEvent(vo,{...Cs,detail:{focusReason:a.value}});_.addEventListener(vo,f),_.dispatchEvent(y),!y.defaultPrevented&&(a.value=="keyboard"||!wg()||_.contains(document.activeElement))&&Dn(i??document.body),_.removeEventListener(vo,f),Ts.remove(l)}}return xt(()=>{e.trapped&&w(),Ie(()=>e.trapped,_=>{_?w():x()})}),an(()=>{e.trapped&&x()}),{onKeydown:c}}});function Cg(e,t,r,i,s,a){return Ae(e.$slots,"default",{handleKeydown:e.onKeydown})}var la=nt(Eg,[["render",Cg],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const Sg=["fixed","absolute"],xg=ft({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Ge(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:$i,default:"bottom"},popperOptions:{type:Ge(Object),default:()=>({})},strategy:{type:String,values:Sg,default:"absolute"}}),fu=ft({...xg,id:String,style:{type:Ge([String,Array,Object])},className:{type:Ge([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Ge([String,Array,Object])},popperStyle:{type:Ge([String,Array,Object])},referenceEl:{type:Ge(Object)},triggerTargetEl:{type:Ge(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),Og={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},Pg=(e,t=[])=>{const{placement:r,strategy:i,popperOptions:s}=e,a={placement:r,strategy:i,...s,modifiers:[...Rg(e),...t]};return Bg(a,s==null?void 0:s.modifiers),a},Tg=e=>{if(_t)return yl(e)};function Rg(e){const{offset:t,gpuAcceleration:r,fallbackPlacements:i}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:i}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function Bg(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const Ig=0,Dg=e=>{const{popperInstanceRef:t,contentRef:r,triggerRef:i,role:s}=Tt(oa,void 0),a=pe(),l=pe(),c=Z(()=>({name:"eventListeners",enabled:!!e.visible})),d=Z(()=>{var v;const S=M(a),D=(v=M(l))!=null?v:Ig;return{name:"arrow",enabled:!Dl(S),options:{element:S,padding:D}}}),f=Z(()=>({onFirstUpdate:()=>{_()},...Pg(e,[M(d),M(c)])})),h=Z(()=>Tg(e.referenceEl)||M(i)),{attributes:g,state:w,styles:x,update:_,forceUpdate:y,instanceRef:C}=bh(h,r,f);return Ie(C,v=>t.value=v),xt(()=>{Ie(()=>{var v;return(v=M(h))==null?void 0:v.getBoundingClientRect()},()=>{_()})}),{attributes:g,arrowRef:a,contentRef:r,instanceRef:C,state:w,styles:x,role:s,forceUpdate:y,update:_}},Ag=(e,{attributes:t,styles:r,role:i})=>{const{nextZIndex:s}=ra(),a=tt("popper"),l=Z(()=>M(t).popper),c=pe(et(e.zIndex)?e.zIndex:s()),d=Z(()=>[a.b(),a.is("pure",e.pure),a.is(e.effect),e.popperClass]),f=Z(()=>[{zIndex:M(c)},M(r).popper,e.popperStyle||{}]),h=Z(()=>i.value==="dialog"?"false":void 0),g=Z(()=>M(r).arrow||{});return{ariaModal:h,arrowStyle:g,contentAttrs:l,contentClass:d,contentStyle:f,contentZIndex:c,updateZIndex:()=>{c.value=et(e.zIndex)?e.zIndex:s()}}},Ng=(e,t)=>{const r=pe(!1),i=pe();return{focusStartRef:i,trapped:r,onFocusAfterReleased:f=>{var h;((h=f.detail)==null?void 0:h.focusReason)!=="pointer"&&(i.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:f=>{e.visible&&!r.value&&(f.target&&(i.value=f.target),r.value=!0)},onFocusoutPrevented:f=>{e.trapping||(f.detail.focusReason==="pointer"&&f.preventDefault(),r.value=!1)},onReleaseRequested:()=>{r.value=!1,t("close")}}},zg=Re({name:"ElPopperContent"}),jg=Re({...zg,props:fu,emits:Og,setup(e,{expose:t,emit:r}){const i=e,{focusStartRef:s,trapped:a,onFocusAfterReleased:l,onFocusAfterTrapped:c,onFocusInTrap:d,onFocusoutPrevented:f,onReleaseRequested:h}=Ng(i,r),{attributes:g,arrowRef:w,contentRef:x,styles:_,instanceRef:y,role:C,update:v}=Dg(i),{ariaModal:S,arrowStyle:D,contentAttrs:E,contentClass:T,contentStyle:B,updateZIndex:I}=Ag(i,{styles:_,attributes:g,role:C}),H=Tt(Ja,void 0),ee=pe();nn(ou,{arrowStyle:D,arrowRef:w,arrowOffset:ee}),H&&(H.addInputId||H.removeInputId)&&nn(Ja,{...H,addInputId:Yn,removeInputId:Yn});let Y;const re=(K=!0)=>{v(),K&&I()},te=()=>{re(!1),i.visible&&i.focusOnShow?a.value=!0:i.visible===!1&&(a.value=!1)};return xt(()=>{Ie(()=>i.triggerTargetEl,(K,ae)=>{Y==null||Y(),Y=void 0;const J=M(K||x.value),ce=M(ae||x.value);Vn(J)&&(Y=Ie([C,()=>i.ariaLabel,S,()=>i.id],U=>{["role","aria-label","aria-modal","id"].forEach((Q,de)=>{Sn(U[de])?J.removeAttribute(Q):J.setAttribute(Q,U[de])})},{immediate:!0})),ce!==J&&Vn(ce)&&["role","aria-label","aria-modal","id"].forEach(U=>{ce.removeAttribute(U)})},{immediate:!0}),Ie(()=>i.visible,te,{immediate:!0})}),an(()=>{Y==null||Y(),Y=void 0}),t({popperContentRef:x,popperInstanceRef:y,updatePopper:re,contentStyle:B}),(K,ae)=>(se(),Se("div",Cn({ref_key:"contentRef",ref:x},M(E),{style:M(B),class:M(T),tabindex:"-1",onMouseenter:ae[0]||(ae[0]=J=>K.$emit("mouseenter",J)),onMouseleave:ae[1]||(ae[1]=J=>K.$emit("mouseleave",J))}),[ye(M(la),{trapped:M(a),"trap-on-focus-in":!0,"focus-trap-el":M(x),"focus-start-el":M(s),onFocusAfterTrapped:M(c),onFocusAfterReleased:M(l),onFocusin:M(d),onFocusoutPrevented:M(f),onReleaseRequested:M(h)},{default:fe(()=>[Ae(K.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var Fg=nt(jg,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const $g=Ln(sg),ua=Symbol("elTooltip"),ca=ft({...Mh,...fu,appendTo:{type:Ge([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:Ge(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),pu=ft({...uu,disabled:Boolean,trigger:{type:Ge([String,Array]),default:"hover"},triggerKeys:{type:Ge(Array),default:()=>[Gn.enter,Gn.space]}}),{useModelToggleProps:Vg,useModelToggleEmits:Ug,useModelToggle:Gg}=$l("visible"),Hg=ft({...au,...Vg,...ca,...pu,...su,showArrow:{type:Boolean,default:!0}}),Kg=[...Ug,"before-show","before-hide","show","hide","open","close"],qg=(e,t)=>Rd(e)?e.includes(t):e===t,rr=(e,t,r)=>i=>{qg(M(e),t)&&r(i)},Wg=Re({name:"ElTooltipTrigger"}),Jg=Re({...Wg,props:pu,setup(e,{expose:t}){const r=e,i=tt("tooltip"),{controlled:s,id:a,open:l,onOpen:c,onClose:d,onToggle:f}=Tt(ua,void 0),h=pe(null),g=()=>{if(M(s)||r.disabled)return!0},w=gn(r,"trigger"),x=Mn(g,rr(w,"hover",c)),_=Mn(g,rr(w,"hover",d)),y=Mn(g,rr(w,"click",E=>{E.button===0&&f(E)})),C=Mn(g,rr(w,"focus",c)),v=Mn(g,rr(w,"focus",d)),S=Mn(g,rr(w,"contextmenu",E=>{E.preventDefault(),f(E)})),D=Mn(g,E=>{const{code:T}=E;r.triggerKeys.includes(T)&&(E.preventDefault(),f(E))});return t({triggerRef:h}),(E,T)=>(se(),Me(M(gg),{id:M(a),"virtual-ref":E.virtualRef,open:M(l),"virtual-triggering":E.virtualTriggering,class:ge(M(i).e("trigger")),onBlur:M(v),onClick:M(y),onContextmenu:M(S),onFocus:M(C),onMouseenter:M(x),onMouseleave:M(_),onKeydown:M(D)},{default:fe(()=>[Ae(E.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var Yg=nt(Jg,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const Xg=Re({name:"ElTooltipContent",inheritAttrs:!1}),Zg=Re({...Xg,props:ca,setup(e,{expose:t}){const r=e,{selector:i}=Ql(),s=tt("tooltip"),a=pe(null),l=pe(!1),{controlled:c,id:d,open:f,trigger:h,onClose:g,onOpen:w,onShow:x,onHide:_,onBeforeShow:y,onBeforeHide:C}=Tt(ua,void 0),v=Z(()=>r.transition||`${s.namespace.value}-fade-in-linear`),S=Z(()=>r.persistent);an(()=>{l.value=!0});const D=Z(()=>M(S)?!0:M(f)),E=Z(()=>r.disabled?!1:M(f)),T=Z(()=>r.appendTo||i.value),B=Z(()=>{var U;return(U=r.style)!=null?U:{}}),I=Z(()=>!M(f)),H=()=>{_()},ee=()=>{if(M(c))return!0},Y=Mn(ee,()=>{r.enterable&&M(h)==="hover"&&w()}),re=Mn(ee,()=>{M(h)==="hover"&&g()}),te=()=>{var U,Q;(Q=(U=a.value)==null?void 0:U.updatePopper)==null||Q.call(U),y==null||y()},K=()=>{C==null||C()},ae=()=>{x(),ce=cd(Z(()=>{var U;return(U=a.value)==null?void 0:U.popperContentRef}),()=>{if(M(c))return;M(h)!=="hover"&&g()})},J=()=>{r.virtualTriggering||g()};let ce;return Ie(()=>M(f),U=>{U||ce==null||ce()},{flush:"post"}),Ie(()=>r.content,()=>{var U,Q;(Q=(U=a.value)==null?void 0:U.updatePopper)==null||Q.call(U)}),t({contentRef:a}),(U,Q)=>(se(),Me(xl,{disabled:!U.teleported,to:M(T)},[ye(bn,{name:M(v),onAfterLeave:H,onBeforeEnter:te,onAfterEnter:ae,onBeforeLeave:K},{default:fe(()=>[M(D)?Lt((se(),Me(M(Fg),Cn({key:0,id:M(d),ref_key:"contentRef",ref:a},U.$attrs,{"aria-label":U.ariaLabel,"aria-hidden":M(I),"boundaries-padding":U.boundariesPadding,"fallback-placements":U.fallbackPlacements,"gpu-acceleration":U.gpuAcceleration,offset:U.offset,placement:U.placement,"popper-options":U.popperOptions,strategy:U.strategy,effect:U.effect,enterable:U.enterable,pure:U.pure,"popper-class":U.popperClass,"popper-style":[U.popperStyle,M(B)],"reference-el":U.referenceEl,"trigger-target-el":U.triggerTargetEl,visible:M(E),"z-index":U.zIndex,onMouseenter:M(Y),onMouseleave:M(re),onBlur:J,onClose:M(g)}),{default:fe(()=>[l.value?Ce("v-if",!0):Ae(U.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Yt,M(E)]]):Ce("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var Qg=nt(Zg,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const em=["innerHTML"],tm={key:1},nm=Re({name:"ElTooltip"}),rm=Re({...nm,props:Hg,emits:Kg,setup(e,{expose:t,emit:r}){const i=e;wh();const s=Qn(),a=pe(),l=pe(),c=()=>{var v;const S=M(a);S&&((v=S.popperInstanceRef)==null||v.update())},d=pe(!1),f=pe(),{show:h,hide:g,hasUpdateHandler:w}=Gg({indicator:d,toggleReason:f}),{onOpen:x,onClose:_}=Eh({showAfter:gn(i,"showAfter"),hideAfter:gn(i,"hideAfter"),autoClose:gn(i,"autoClose"),open:h,close:g}),y=Z(()=>Go(i.visible)&&!w.value);nn(ua,{controlled:y,id:s,open:Ol(d),trigger:gn(i,"trigger"),onOpen:v=>{x(v)},onClose:v=>{_(v)},onToggle:v=>{M(d)?_(v):x(v)},onShow:()=>{r("show",f.value)},onHide:()=>{r("hide",f.value)},onBeforeShow:()=>{r("before-show",f.value)},onBeforeHide:()=>{r("before-hide",f.value)},updatePopper:c}),Ie(()=>i.disabled,v=>{v&&d.value&&(d.value=!1)});const C=v=>{var S,D;const E=(D=(S=l.value)==null?void 0:S.contentRef)==null?void 0:D.popperContentRef,T=(v==null?void 0:v.relatedTarget)||document.activeElement;return E&&E.contains(T)};return Bd(()=>d.value&&g()),t({popperRef:a,contentRef:l,isFocusInsideContent:C,updatePopper:c,onOpen:x,onClose:_,hide:g}),(v,S)=>(se(),Me(M($g),{ref_key:"popperRef",ref:a,role:v.role},{default:fe(()=>[ye(Yg,{disabled:v.disabled,trigger:v.trigger,"trigger-keys":v.triggerKeys,"virtual-ref":v.virtualRef,"virtual-triggering":v.virtualTriggering},{default:fe(()=>[v.$slots.default?Ae(v.$slots,"default",{key:0}):Ce("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ye(Qg,{ref_key:"contentRef",ref:l,"aria-label":v.ariaLabel,"boundaries-padding":v.boundariesPadding,content:v.content,disabled:v.disabled,effect:v.effect,enterable:v.enterable,"fallback-placements":v.fallbackPlacements,"hide-after":v.hideAfter,"gpu-acceleration":v.gpuAcceleration,offset:v.offset,persistent:v.persistent,"popper-class":v.popperClass,"popper-style":v.popperStyle,placement:v.placement,"popper-options":v.popperOptions,pure:v.pure,"raw-content":v.rawContent,"reference-el":v.referenceEl,"trigger-target-el":v.triggerTargetEl,"show-after":v.showAfter,strategy:v.strategy,teleported:v.teleported,transition:v.transition,"virtual-triggering":v.virtualTriggering,"z-index":v.zIndex,"append-to":v.appendTo},{default:fe(()=>[Ae(v.$slots,"content",{},()=>[v.rawContent?(se(),Se("span",{key:0,innerHTML:v.content},null,8,em)):(se(),Se("span",tm,at(v.content),1))]),v.showArrow?(se(),Me(M(cg),{key:0,"arrow-offset":v.arrowOffset},null,8,["arrow-offset"])):Ce("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var im=nt(rm,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const om=Ln(im),am=ft({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),sm=["textContent"],lm=Re({name:"ElBadge"}),um=Re({...lm,props:am,setup(e,{expose:t}){const r=e,i=tt("badge"),s=Z(()=>r.isDot?"":et(r.value)&&et(r.max)?r.max<r.value?`${r.max}+`:`${r.value}`:`${r.value}`);return t({content:s}),(a,l)=>(se(),Se("div",{class:ge(M(i).b())},[Ae(a.$slots,"default"),ye(bn,{name:`${M(i).namespace.value}-zoom-in-center`,persisted:""},{default:fe(()=>[Lt(Pe("sup",{class:ge([M(i).e("content"),M(i).em("content",a.type),M(i).is("fixed",!!a.$slots.default),M(i).is("dot",a.isDot)]),textContent:at(M(s))},null,10,sm),[[Yt,!a.hidden&&(M(s)||a.isDot)]])]),_:1},8,["name"])],2))}});var cm=nt(um,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const dm=Ln(cm),hu=Symbol("buttonGroupContextKey"),fm=(e,t)=>{Mi({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},Z(()=>e.type==="text"));const r=Tt(hu,void 0),i=Ui("button"),{form:s}=Ai(),a=Ur(Z(()=>r==null?void 0:r.size)),l=Ni(),c=pe(),d=qo(),f=Z(()=>e.type||(r==null?void 0:r.type)||""),h=Z(()=>{var _,y,C;return(C=(y=e.autoInsertSpace)!=null?y:(_=i.value)==null?void 0:_.autoInsertSpace)!=null?C:!1}),g=Z(()=>e.tag==="button"?{ariaDisabled:l.value||e.loading,disabled:l.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),w=Z(()=>{var _;const y=(_=d.default)==null?void 0:_.call(d);if(h.value&&(y==null?void 0:y.length)===1){const C=y[0];if((C==null?void 0:C.type)===Sl){const v=C.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(v.trim())}}return!1});return{_disabled:l,_size:a,_type:f,_ref:c,_props:g,shouldAddSpace:w,handleClick:_=>{e.nativeType==="reset"&&(s==null||s.resetFields()),t("click",_)}}},pm=["default","primary","success","warning","info","danger","text",""],hm=["button","submit","reset"],Ro=ft({size:Ho,disabled:Boolean,type:{type:String,values:pm,default:""},icon:{type:$n},nativeType:{type:String,values:hm,default:"button"},loading:Boolean,loadingIcon:{type:$n,default:()=>dd},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Ge([String,Object]),default:"button"}}),gm={click:e=>e instanceof MouseEvent};function Bt(e,t){mm(e)&&(e="100%");var r=vm(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function ui(e){return Math.min(1,Math.max(0,e))}function mm(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function vm(e){return typeof e=="string"&&e.indexOf("%")!==-1}function gu(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function ci(e){return e<=1?"".concat(Number(e)*100,"%"):e}function Wn(e){return e.length===1?"0"+e:String(e)}function ym(e,t,r){return{r:Bt(e,255)*255,g:Bt(t,255)*255,b:Bt(r,255)*255}}function Bs(e,t,r){e=Bt(e,255),t=Bt(t,255),r=Bt(r,255);var i=Math.max(e,t,r),s=Math.min(e,t,r),a=0,l=0,c=(i+s)/2;if(i===s)l=0,a=0;else{var d=i-s;switch(l=c>.5?d/(2-i-s):d/(i+s),i){case e:a=(t-r)/d+(t<r?6:0);break;case t:a=(r-e)/d+2;break;case r:a=(e-t)/d+4;break}a/=6}return{h:a,s:l,l:c}}function yo(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*(6*r):r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function bm(e,t,r){var i,s,a;if(e=Bt(e,360),t=Bt(t,100),r=Bt(r,100),t===0)s=r,a=r,i=r;else{var l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=yo(c,l,e+1/3),s=yo(c,l,e),a=yo(c,l,e-1/3)}return{r:i*255,g:s*255,b:a*255}}function Is(e,t,r){e=Bt(e,255),t=Bt(t,255),r=Bt(r,255);var i=Math.max(e,t,r),s=Math.min(e,t,r),a=0,l=i,c=i-s,d=i===0?0:c/i;if(i===s)a=0;else{switch(i){case e:a=(t-r)/c+(t<r?6:0);break;case t:a=(r-e)/c+2;break;case r:a=(e-t)/c+4;break}a/=6}return{h:a,s:d,v:l}}function _m(e,t,r){e=Bt(e,360)*6,t=Bt(t,100),r=Bt(r,100);var i=Math.floor(e),s=e-i,a=r*(1-t),l=r*(1-s*t),c=r*(1-(1-s)*t),d=i%6,f=[r,l,a,a,c,r][d],h=[c,r,r,l,a,a][d],g=[a,a,c,r,r,l][d];return{r:f*255,g:h*255,b:g*255}}function Ds(e,t,r,i){var s=[Wn(Math.round(e).toString(16)),Wn(Math.round(t).toString(16)),Wn(Math.round(r).toString(16))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function Lm(e,t,r,i,s){var a=[Wn(Math.round(e).toString(16)),Wn(Math.round(t).toString(16)),Wn(Math.round(r).toString(16)),Wn(km(i))];return s&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function km(e){return Math.round(parseFloat(e)*255).toString(16)}function As(e){return qt(e)/255}function qt(e){return parseInt(e,16)}function wm(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var Bo={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Mm(e){var t={r:0,g:0,b:0},r=1,i=null,s=null,a=null,l=!1,c=!1;return typeof e=="string"&&(e=Sm(e)),typeof e=="object"&&(wn(e.r)&&wn(e.g)&&wn(e.b)?(t=ym(e.r,e.g,e.b),l=!0,c=String(e.r).substr(-1)==="%"?"prgb":"rgb"):wn(e.h)&&wn(e.s)&&wn(e.v)?(i=ci(e.s),s=ci(e.v),t=_m(e.h,i,s),l=!0,c="hsv"):wn(e.h)&&wn(e.s)&&wn(e.l)&&(i=ci(e.s),a=ci(e.l),t=bm(e.h,i,a),l=!0,c="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(r=e.a)),r=gu(r),{ok:l,format:e.format||c,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}var Em="[-\\+]?\\d+%?",Cm="[-\\+]?\\d*\\.\\d+%?",jn="(?:".concat(Cm,")|(?:").concat(Em,")"),bo="[\\s|\\(]+(".concat(jn,")[,|\\s]+(").concat(jn,")[,|\\s]+(").concat(jn,")\\s*\\)?"),_o="[\\s|\\(]+(".concat(jn,")[,|\\s]+(").concat(jn,")[,|\\s]+(").concat(jn,")[,|\\s]+(").concat(jn,")\\s*\\)?"),un={CSS_UNIT:new RegExp(jn),rgb:new RegExp("rgb"+bo),rgba:new RegExp("rgba"+_o),hsl:new RegExp("hsl"+bo),hsla:new RegExp("hsla"+_o),hsv:new RegExp("hsv"+bo),hsva:new RegExp("hsva"+_o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Sm(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(Bo[e])e=Bo[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=un.rgb.exec(e);return r?{r:r[1],g:r[2],b:r[3]}:(r=un.rgba.exec(e),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=un.hsl.exec(e),r?{h:r[1],s:r[2],l:r[3]}:(r=un.hsla.exec(e),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=un.hsv.exec(e),r?{h:r[1],s:r[2],v:r[3]}:(r=un.hsva.exec(e),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=un.hex8.exec(e),r?{r:qt(r[1]),g:qt(r[2]),b:qt(r[3]),a:As(r[4]),format:t?"name":"hex8"}:(r=un.hex6.exec(e),r?{r:qt(r[1]),g:qt(r[2]),b:qt(r[3]),format:t?"name":"hex"}:(r=un.hex4.exec(e),r?{r:qt(r[1]+r[1]),g:qt(r[2]+r[2]),b:qt(r[3]+r[3]),a:As(r[4]+r[4]),format:t?"name":"hex8"}:(r=un.hex3.exec(e),r?{r:qt(r[1]+r[1]),g:qt(r[2]+r[2]),b:qt(r[3]+r[3]),format:t?"name":"hex"}:!1)))))))))}function wn(e){return!!un.CSS_UNIT.exec(String(e))}var xm=function(){function e(t,r){t===void 0&&(t=""),r===void 0&&(r={});var i;if(t instanceof e)return t;typeof t=="number"&&(t=wm(t)),this.originalInput=t;var s=Mm(t);this.originalInput=t,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=r.format)!==null&&i!==void 0?i:s.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),r,i,s,a=t.r/255,l=t.g/255,c=t.b/255;return a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),l<=.03928?i=l/12.92:i=Math.pow((l+.055)/1.055,2.4),c<=.03928?s=c/12.92:s=Math.pow((c+.055)/1.055,2.4),.2126*r+.7152*i+.0722*s},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=gu(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=Is(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=Is(this.r,this.g,this.b),r=Math.round(t.h*360),i=Math.round(t.s*100),s=Math.round(t.v*100);return this.a===1?"hsv(".concat(r,", ").concat(i,"%, ").concat(s,"%)"):"hsva(".concat(r,", ").concat(i,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=Bs(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=Bs(this.r,this.g,this.b),r=Math.round(t.h*360),i=Math.round(t.s*100),s=Math.round(t.l*100);return this.a===1?"hsl(".concat(r,", ").concat(i,"%, ").concat(s,"%)"):"hsla(".concat(r,", ").concat(i,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),Ds(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),Lm(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),r=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(r,", ").concat(i,")"):"rgba(".concat(t,", ").concat(r,", ").concat(i,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(r){return"".concat(Math.round(Bt(r,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(r){return Math.round(Bt(r,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+Ds(this.r,this.g,this.b,!1),r=0,i=Object.entries(Bo);r<i.length;r++){var s=i[r],a=s[0],l=s[1];if(t===l)return a}return!1},e.prototype.toString=function(t){var r=!!t;t=t??this.format;var i=!1,s=this.a<1&&this.a>=0,a=!r&&s&&(t.startsWith("hex")||t==="name");return a?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(i=this.toRgbString()),t==="prgb"&&(i=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(i=this.toHexString()),t==="hex3"&&(i=this.toHexString(!0)),t==="hex4"&&(i=this.toHex8String(!0)),t==="hex8"&&(i=this.toHex8String()),t==="name"&&(i=this.toName()),t==="hsl"&&(i=this.toHslString()),t==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l+=t/100,r.l=ui(r.l),new e(r)},e.prototype.brighten=function(t){t===void 0&&(t=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),new e(r)},e.prototype.darken=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l-=t/100,r.l=ui(r.l),new e(r)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s-=t/100,r.s=ui(r.s),new e(r)},e.prototype.saturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s+=t/100,r.s=ui(r.s),new e(r)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var r=this.toHsl(),i=(r.h+t)%360;return r.h=i<0?360+i:i,new e(r)},e.prototype.mix=function(t,r){r===void 0&&(r=50);var i=this.toRgb(),s=new e(t).toRgb(),a=r/100,l={r:(s.r-i.r)*a+i.r,g:(s.g-i.g)*a+i.g,b:(s.b-i.b)*a+i.b,a:(s.a-i.a)*a+i.a};return new e(l)},e.prototype.analogous=function(t,r){t===void 0&&(t=6),r===void 0&&(r=30);var i=this.toHsl(),s=360/r,a=[this];for(i.h=(i.h-(s*t>>1)+720)%360;--t;)i.h=(i.h+s)%360,a.push(new e(i));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var r=this.toHsv(),i=r.h,s=r.s,a=r.v,l=[],c=1/t;t--;)l.push(new e({h:i,s,v:a})),a=(a+c)%1;return l},e.prototype.splitcomplement=function(){var t=this.toHsl(),r=t.h;return[this,new e({h:(r+72)%360,s:t.s,l:t.l}),new e({h:(r+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var r=this.toRgb(),i=new e(t).toRgb(),s=r.a+i.a*(1-r.a);return new e({r:(r.r*r.a+i.r*i.a*(1-r.a))/s,g:(r.g*r.a+i.g*i.a*(1-r.a))/s,b:(r.b*r.a+i.b*i.a*(1-r.a))/s,a:s})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var r=this.toHsl(),i=r.h,s=[this],a=360/t,l=1;l<t;l++)s.push(new e({h:(i+l*a)%360,s:r.s,l:r.l}));return s},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function Bn(e,t=20){return e.mix("#141414",t).toString()}function Om(e){const t=Ni(),r=tt("button");return Z(()=>{let i={};const s=e.color;if(s){const a=new xm(s),l=e.dark?a.tint(20).toString():Bn(a,20);if(e.plain)i=r.cssVarBlock({"bg-color":e.dark?Bn(a,90):a.tint(90).toString(),"text-color":s,"border-color":e.dark?Bn(a,50):a.tint(50).toString(),"hover-text-color":`var(${r.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":l,"active-text-color":`var(${r.cssVarName("color-white")})`,"active-border-color":l}),t.value&&(i[r.cssVarBlockName("disabled-bg-color")]=e.dark?Bn(a,90):a.tint(90).toString(),i[r.cssVarBlockName("disabled-text-color")]=e.dark?Bn(a,50):a.tint(50).toString(),i[r.cssVarBlockName("disabled-border-color")]=e.dark?Bn(a,80):a.tint(80).toString());else{const c=e.dark?Bn(a,30):a.tint(30).toString(),d=a.isDark()?`var(${r.cssVarName("color-white")})`:`var(${r.cssVarName("color-black")})`;if(i=r.cssVarBlock({"bg-color":s,"text-color":d,"border-color":s,"hover-bg-color":c,"hover-text-color":d,"hover-border-color":c,"active-bg-color":l,"active-border-color":l}),t.value){const f=e.dark?Bn(a,50):a.tint(50).toString();i[r.cssVarBlockName("disabled-bg-color")]=f,i[r.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${r.cssVarName("color-white")})`,i[r.cssVarBlockName("disabled-border-color")]=f}}}return i})}const Pm=Re({name:"ElButton"}),Tm=Re({...Pm,props:Ro,emits:gm,setup(e,{expose:t,emit:r}){const i=e,s=Om(i),a=tt("button"),{_ref:l,_size:c,_type:d,_disabled:f,_props:h,shouldAddSpace:g,handleClick:w}=fm(i,r);return t({ref:l,size:c,type:d,disabled:f,shouldAddSpace:g}),(x,_)=>(se(),Me(Nt(x.tag),Cn({ref_key:"_ref",ref:l},M(h),{class:[M(a).b(),M(a).m(M(d)),M(a).m(M(c)),M(a).is("disabled",M(f)),M(a).is("loading",x.loading),M(a).is("plain",x.plain),M(a).is("round",x.round),M(a).is("circle",x.circle),M(a).is("text",x.text),M(a).is("link",x.link),M(a).is("has-bg",x.bg)],style:M(s),onClick:M(w)}),{default:fe(()=>[x.loading?(se(),Se(At,{key:0},[x.$slots.loading?Ae(x.$slots,"loading",{key:0}):(se(),Me(M(Rt),{key:1,class:ge(M(a).is("loading"))},{default:fe(()=>[(se(),Me(Nt(x.loadingIcon)))]),_:1},8,["class"]))],64)):x.icon||x.$slots.icon?(se(),Me(M(Rt),{key:1},{default:fe(()=>[x.icon?(se(),Me(Nt(x.icon),{key:0})):Ae(x.$slots,"icon",{key:1})]),_:3})):Ce("v-if",!0),x.$slots.default?(se(),Se("span",{key:2,class:ge({[M(a).em("text","expand")]:M(g)})},[Ae(x.$slots,"default")],2)):Ce("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Rm=nt(Tm,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const Bm={size:Ro.size,type:Ro.type},Im=Re({name:"ElButtonGroup"}),Dm=Re({...Im,props:Bm,setup(e){const t=e;nn(hu,Pn({size:gn(t,"size"),type:gn(t,"type")}));const r=tt("button");return(i,s)=>(se(),Se("div",{class:ge(`${M(r).b("group")}`)},[Ae(i.$slots,"default")],2))}});var mu=nt(Dm,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const da=Ln(Rm,{ButtonGroup:mu});Ko(mu);const An=new Map;let Ns;_t&&(document.addEventListener("mousedown",e=>Ns=e),document.addEventListener("mouseup",e=>{for(const t of An.values())for(const{documentHandler:r}of t)r(e,Ns)}));function zs(e,t){let r=[];return Array.isArray(t.arg)?r=t.arg:Vn(t.arg)&&r.push(t.arg),function(i,s){const a=t.instance.popperRef,l=i.target,c=s==null?void 0:s.target,d=!t||!t.instance,f=!l||!c,h=e.contains(l)||e.contains(c),g=e===l,w=r.length&&r.some(_=>_==null?void 0:_.contains(l))||r.length&&r.includes(c),x=a&&(a.contains(l)||a.contains(c));d||f||h||g||w||x||t.value(i,s)}}const Am={beforeMount(e,t){An.has(e)||An.set(e,[]),An.get(e).push({documentHandler:zs(e,t),bindingFn:t.value})},updated(e,t){An.has(e)||An.set(e,[]);const r=An.get(e),i=r.findIndex(a=>a.bindingFn===t.oldValue),s={documentHandler:zs(e,t),bindingFn:t.value};i>=0?r.splice(i,1,s):r.push(s)},unmounted(e){An.delete(e)}},Nm=100,zm=600,js={beforeMount(e,t){const r=t.value,{interval:i=Nm,delay:s=zm}=bt(r)?{}:r;let a,l;const c=()=>bt(r)?r():r.handler(),d=()=>{l&&(clearTimeout(l),l=void 0),a&&(clearInterval(a),a=void 0)};e.addEventListener("mousedown",f=>{f.button===0&&(d(),c(),document.addEventListener("mouseup",()=>d(),{once:!0}),l=setTimeout(()=>{a=setInterval(()=>{c()},i)},s))})}},Io="_trap-focus-children",Jn=[],Fs=e=>{if(Jn.length===0)return;const t=Jn[Jn.length-1][Io];if(t.length>0&&e.code===Gn.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const r=e.shiftKey,i=e.target===t[0],s=e.target===t[t.length-1];i&&r&&(e.preventDefault(),t[t.length-1].focus()),s&&!r&&(e.preventDefault(),t[0].focus())}},jm={beforeMount(e){e[Io]=es(e),Jn.push(e),Jn.length<=1&&document.addEventListener("keydown",Fs)},updated(e){Ke(()=>{e[Io]=es(e)})},unmounted(){Jn.shift(),Jn.length===0&&document.removeEventListener("keydown",Fs)}},vu=ft({type:{type:String,values:["success","info","warning","danger",""],default:""},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:{type:String,default:""},size:{type:String,values:fd,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Fm={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},$m=Re({name:"ElTag"}),Vm=Re({...$m,props:vu,emits:Fm,setup(e,{emit:t}){const r=e,i=Ur(),s=tt("tag"),a=Z(()=>{const{type:d,hit:f,effect:h,closable:g,round:w}=r;return[s.b(),s.is("closable",g),s.m(d),s.m(i.value),s.m(h),s.is("hit",f),s.is("round",w)]}),l=d=>{t("close",d)},c=d=>{t("click",d)};return(d,f)=>d.disableTransitions?(se(),Se("span",{key:0,class:ge(M(a)),style:St({backgroundColor:d.color}),onClick:c},[Pe("span",{class:ge(M(s).e("content"))},[Ae(d.$slots,"default")],2),d.closable?(se(),Me(M(Rt),{key:0,class:ge(M(s).e("close")),onClick:yt(l,["stop"])},{default:fe(()=>[ye(M(Ya))]),_:1},8,["class","onClick"])):Ce("v-if",!0)],6)):(se(),Me(bn,{key:1,name:`${M(s).namespace.value}-zoom-in-center`,appear:""},{default:fe(()=>[Pe("span",{class:ge(M(a)),style:St({backgroundColor:d.color}),onClick:c},[Pe("span",{class:ge(M(s).e("content"))},[Ae(d.$slots,"default")],2),d.closable?(se(),Me(M(Rt),{key:0,class:ge(M(s).e("close")),onClick:yt(l,["stop"])},{default:fe(()=>[ye(M(Ya))]),_:1},8,["class","onClick"])):Ce("v-if",!0)],6)]),_:3},8,["name"]))}});var Um=nt(Vm,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const Gm=Ln(Um),Hm=ft({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:Ge([String,Array,Object])},zIndex:{type:Ge([String,Number])}}),Km={click:e=>e instanceof MouseEvent},qm="overlay";var Wm=Re({name:"ElOverlay",props:Hm,emits:Km,setup(e,{slots:t,emit:r}){const i=tt(qm),s=d=>{r("click",d)},{onClick:a,onMousedown:l,onMouseup:c}=na(e.customMaskEvent?void 0:s);return()=>e.mask?ye("div",{class:[i.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:l,onMouseup:c},[Ae(t,"default")],vi.STYLE|vi.CLASS|vi.PROPS,["onClick","onMouseup","onMousedown"]):ar("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Ae(t,"default")])}});const yu=Wm,bu=Symbol("dialogInjectionKey"),_u=ft({center:Boolean,alignCenter:Boolean,closeIcon:{type:$n},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),Jm={close:()=>!0},Ym=["aria-level"],Xm=["aria-label"],Zm=["id"],Qm=Re({name:"ElDialogContent"}),ev=Re({...Qm,props:_u,emits:Jm,setup(e){const t=e,{t:r}=_r(),{Close:i}=pd,{dialogRef:s,headerRef:a,bodyId:l,ns:c,style:d}=Tt(bu),{focusTrapRef:f}=Tt(cu),h=Z(()=>[c.b(),c.is("fullscreen",t.fullscreen),c.is("draggable",t.draggable),c.is("align-center",t.alignCenter),{[c.m("center")]:t.center},t.customClass]),g=ap(f,s),w=Z(()=>t.draggable);return zl(s,a,w),(x,_)=>(se(),Se("div",{ref:M(g),class:ge(M(h)),style:St(M(d)),tabindex:"-1"},[Pe("header",{ref_key:"headerRef",ref:a,class:ge(M(c).e("header"))},[Ae(x.$slots,"header",{},()=>[Pe("span",{role:"heading","aria-level":x.ariaLevel,class:ge(M(c).e("title"))},at(x.title),11,Ym)]),x.showClose?(se(),Se("button",{key:0,"aria-label":M(r)("el.dialog.close"),class:ge(M(c).e("headerbtn")),type:"button",onClick:_[0]||(_[0]=y=>x.$emit("close"))},[ye(M(Rt),{class:ge(M(c).e("close"))},{default:fe(()=>[(se(),Me(Nt(x.closeIcon||M(i))))]),_:1},8,["class"])],10,Xm)):Ce("v-if",!0)],2),Pe("div",{id:M(l),class:ge(M(c).e("body"))},[Ae(x.$slots,"default")],10,Zm),x.$slots.footer?(se(),Se("footer",{key:0,class:ge(M(c).e("footer"))},[Ae(x.$slots,"footer")],2)):Ce("v-if",!0)],6))}});var tv=nt(ev,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const nv=ft({..._u,appendToBody:Boolean,appendTo:{type:Ge(String),default:"body"},beforeClose:{type:Ge(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),rv={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Pt]:e=>Go(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},iv=(e,t)=>{var r;const s=fn().emit,{nextZIndex:a}=ra();let l="";const c=Qn(),d=Qn(),f=pe(!1),h=pe(!1),g=pe(!1),w=pe((r=e.zIndex)!=null?r:a());let x,_;const y=Ui("namespace",gl),C=Z(()=>{const J={},ce=`--${y.value}-dialog`;return e.fullscreen||(e.top&&(J[`${ce}-margin-top`]=e.top),e.width&&(J[`${ce}-width`]=Rr(e.width))),J}),v=Z(()=>e.alignCenter?{display:"flex"}:{});function S(){s("opened")}function D(){s("closed"),s(Pt,!1),e.destroyOnClose&&(g.value=!1)}function E(){s("close")}function T(){_==null||_(),x==null||x(),e.openDelay&&e.openDelay>0?{stop:x}=xo(()=>ee(),e.openDelay):ee()}function B(){x==null||x(),_==null||_(),e.closeDelay&&e.closeDelay>0?{stop:_}=xo(()=>Y(),e.closeDelay):Y()}function I(){function J(ce){ce||(h.value=!0,f.value=!1)}e.beforeClose?e.beforeClose(J):B()}function H(){e.closeOnClickModal&&I()}function ee(){_t&&(f.value=!0)}function Y(){f.value=!1}function re(){s("openAutoFocus")}function te(){s("closeAutoFocus")}function K(J){var ce;((ce=J.detail)==null?void 0:ce.focusReason)==="pointer"&&J.preventDefault()}e.lockScroll&&Fl(f);function ae(){e.closeOnPressEscape&&I()}return Ie(()=>e.modelValue,J=>{J?(h.value=!1,T(),g.value=!0,w.value=Dl(e.zIndex)?a():w.value++,Ke(()=>{s("open"),t.value&&(t.value.scrollTop=0)})):f.value&&B()}),Ie(()=>e.fullscreen,J=>{t.value&&(J?(l=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=l)}),xt(()=>{e.modelValue&&(f.value=!0,g.value=!0,T())}),{afterEnter:S,afterLeave:D,beforeLeave:E,handleClose:I,onModalClick:H,close:B,doClose:Y,onOpenAutoFocus:re,onCloseAutoFocus:te,onCloseRequested:ae,onFocusoutPrevented:K,titleId:c,bodyId:d,closed:h,style:C,overlayDialogStyle:v,rendered:g,visible:f,zIndex:w}},ov=["aria-label","aria-labelledby","aria-describedby"],av=Re({name:"ElDialog",inheritAttrs:!1}),sv=Re({...av,props:nv,emits:rv,setup(e,{expose:t}){const r=e,i=qo();Mi({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},Z(()=>!!i.title)),Mi({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},Z(()=>!!r.customClass));const s=tt("dialog"),a=pe(),l=pe(),c=pe(),{visible:d,titleId:f,bodyId:h,style:g,overlayDialogStyle:w,rendered:x,zIndex:_,afterEnter:y,afterLeave:C,beforeLeave:v,handleClose:S,onModalClick:D,onOpenAutoFocus:E,onCloseAutoFocus:T,onCloseRequested:B,onFocusoutPrevented:I}=iv(r,a);nn(bu,{dialogRef:a,headerRef:l,bodyId:h,ns:s,rendered:x,style:g});const H=na(D),ee=Z(()=>r.draggable&&!r.fullscreen);return t({visible:d,dialogContentRef:c}),(Y,re)=>(se(),Me(xl,{to:Y.appendTo,disabled:Y.appendTo!=="body"?!1:!Y.appendToBody},[ye(bn,{name:"dialog-fade",onAfterEnter:M(y),onAfterLeave:M(C),onBeforeLeave:M(v),persisted:""},{default:fe(()=>[Lt(ye(M(yu),{"custom-mask-event":"",mask:Y.modal,"overlay-class":Y.modalClass,"z-index":M(_)},{default:fe(()=>[Pe("div",{role:"dialog","aria-modal":"true","aria-label":Y.title||void 0,"aria-labelledby":Y.title?void 0:M(f),"aria-describedby":M(h),class:ge(`${M(s).namespace.value}-overlay-dialog`),style:St(M(w)),onClick:re[0]||(re[0]=(...te)=>M(H).onClick&&M(H).onClick(...te)),onMousedown:re[1]||(re[1]=(...te)=>M(H).onMousedown&&M(H).onMousedown(...te)),onMouseup:re[2]||(re[2]=(...te)=>M(H).onMouseup&&M(H).onMouseup(...te))},[ye(M(la),{loop:"",trapped:M(d),"focus-start-el":"container",onFocusAfterTrapped:M(E),onFocusAfterReleased:M(T),onFocusoutPrevented:M(I),onReleaseRequested:M(B)},{default:fe(()=>[M(x)?(se(),Me(tv,Cn({key:0,ref_key:"dialogContentRef",ref:c},Y.$attrs,{"custom-class":Y.customClass,center:Y.center,"align-center":Y.alignCenter,"close-icon":Y.closeIcon,draggable:M(ee),fullscreen:Y.fullscreen,"show-close":Y.showClose,title:Y.title,"aria-level":Y.headerAriaLevel,onClose:M(S)}),Oo({header:fe(()=>[Y.$slots.title?Ae(Y.$slots,"title",{key:1}):Ae(Y.$slots,"header",{key:0,close:M(S),titleId:M(f),titleClass:M(s).e("title")})]),default:fe(()=>[Ae(Y.$slots,"default")]),_:2},[Y.$slots.footer?{name:"footer",fn:fe(()=>[Ae(Y.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):Ce("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,ov)]),_:3},8,["mask","overlay-class","z-index"]),[[Yt,M(d)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var lv=nt(sv,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Lu=Ln(lv),uv=ft({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Ho,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||et(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),cv={[zi]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[hi]:e=>et(e)||Sn(e),[Pt]:e=>et(e)||Sn(e)},dv=["aria-label","onKeydown"],fv=["aria-label","onKeydown"],pv=Re({name:"ElInputNumber"}),hv=Re({...pv,props:uv,emits:cv,setup(e,{expose:t,emit:r}){const i=e,{t:s}=_r(),a=tt("input-number"),l=pe(),c=Pn({currentValue:i.modelValue,userInput:null}),{formItem:d}=Ai(),f=Z(()=>et(i.modelValue)&&i.modelValue<=i.min),h=Z(()=>et(i.modelValue)&&i.modelValue>=i.max),g=Z(()=>{const K=v(i.step);return ur(i.precision)?Math.max(v(i.modelValue),K):(K>i.precision,i.precision)}),w=Z(()=>i.controls&&i.controlsPosition==="right"),x=Ur(),_=Ni(),y=Z(()=>{if(c.userInput!==null)return c.userInput;let K=c.currentValue;if(Sn(K))return"";if(et(K)){if(Number.isNaN(K))return"";ur(i.precision)||(K=K.toFixed(i.precision))}return K}),C=(K,ae)=>{if(ur(ae)&&(ae=g.value),ae===0)return Math.round(K);let J=String(K);const ce=J.indexOf(".");if(ce===-1||!J.replace(".","").split("")[ce+ae])return K;const de=J.length;return J.charAt(de-1)==="5"&&(J=`${J.slice(0,Math.max(0,de-1))}6`),Number.parseFloat(Number(J).toFixed(ae))},v=K=>{if(Sn(K))return 0;const ae=K.toString(),J=ae.indexOf(".");let ce=0;return J!==-1&&(ce=ae.length-J-1),ce},S=(K,ae=1)=>et(K)?C(K+i.step*ae):c.currentValue,D=()=>{if(i.readonly||_.value||h.value)return;const K=Number(y.value)||0,ae=S(K);B(ae),r(hi,c.currentValue)},E=()=>{if(i.readonly||_.value||f.value)return;const K=Number(y.value)||0,ae=S(K,-1);B(ae),r(hi,c.currentValue)},T=(K,ae)=>{const{max:J,min:ce,step:U,precision:Q,stepStrictly:de,valueOnClear:we}=i;J<ce&&Uo("InputNumber","min should not be greater than max.");let ke=Number(K);if(Sn(K)||Number.isNaN(ke))return null;if(K===""){if(we===null)return null;ke=Jt(we)?{min:ce,max:J}[we]:we}return de&&(ke=C(Math.round(ke/U)*U,Q)),ur(Q)||(ke=C(ke,Q)),(ke>J||ke<ce)&&(ke=ke>J?J:ce,ae&&r(Pt,ke)),ke},B=(K,ae=!0)=>{var J;const ce=c.currentValue,U=T(K);if(!ae){r(Pt,U);return}ce!==U&&(c.userInput=null,r(Pt,U),r(zi,U,ce),i.validateEvent&&((J=d==null?void 0:d.validate)==null||J.call(d,"change").catch(Q=>Dr())),c.currentValue=U)},I=K=>{c.userInput=K;const ae=K===""?null:Number(K);r(hi,ae),B(ae,!1)},H=K=>{const ae=K!==""?Number(K):"";(et(ae)&&!Number.isNaN(ae)||K==="")&&B(ae),c.userInput=null},ee=()=>{var K,ae;(ae=(K=l.value)==null?void 0:K.focus)==null||ae.call(K)},Y=()=>{var K,ae;(ae=(K=l.value)==null?void 0:K.blur)==null||ae.call(K)},re=K=>{r("focus",K)},te=K=>{var ae;r("blur",K),i.validateEvent&&((ae=d==null?void 0:d.validate)==null||ae.call(d,"blur").catch(J=>Dr()))};return Ie(()=>i.modelValue,K=>{const ae=T(c.userInput),J=T(K,!0);!et(ae)&&(!ae||ae!==J)&&(c.currentValue=J,c.userInput=null)},{immediate:!0}),xt(()=>{var K;const{min:ae,max:J,modelValue:ce}=i,U=(K=l.value)==null?void 0:K.input;if(U.setAttribute("role","spinbutton"),Number.isFinite(J)?U.setAttribute("aria-valuemax",String(J)):U.removeAttribute("aria-valuemax"),Number.isFinite(ae)?U.setAttribute("aria-valuemin",String(ae)):U.removeAttribute("aria-valuemin"),U.setAttribute("aria-valuenow",c.currentValue||c.currentValue===0?String(c.currentValue):""),U.setAttribute("aria-disabled",String(_.value)),!et(ce)&&ce!=null){let Q=Number(ce);Number.isNaN(Q)&&(Q=null),r(Pt,Q)}}),Cl(()=>{var K,ae;const J=(K=l.value)==null?void 0:K.input;J==null||J.setAttribute("aria-valuenow",`${(ae=c.currentValue)!=null?ae:""}`)}),t({focus:ee,blur:Y}),(K,ae)=>(se(),Se("div",{class:ge([M(a).b(),M(a).m(M(x)),M(a).is("disabled",M(_)),M(a).is("without-controls",!K.controls),M(a).is("controls-right",M(w))]),onDragstart:ae[1]||(ae[1]=yt(()=>{},["prevent"]))},[K.controls?Lt((se(),Se("span",{key:0,role:"button","aria-label":M(s)("el.inputNumber.decrease"),class:ge([M(a).e("decrease"),M(a).is("disabled",M(f))]),onKeydown:Ct(E,["enter"])},[ye(M(Rt),null,{default:fe(()=>[M(w)?(se(),Me(M(bl),{key:0})):(se(),Me(M(_l),{key:1}))]),_:1})],42,dv)),[[M(js),E]]):Ce("v-if",!0),K.controls?Lt((se(),Se("span",{key:1,role:"button","aria-label":M(s)("el.inputNumber.increase"),class:ge([M(a).e("increase"),M(a).is("disabled",M(h))]),onKeydown:Ct(D,["enter"])},[ye(M(Rt),null,{default:fe(()=>[M(w)?(se(),Me(M(hd),{key:0})):(se(),Me(M(Ll),{key:1}))]),_:1})],42,fv)),[[M(js),D]]):Ce("v-if",!0),ye(M(Wr),{id:K.id,ref_key:"input",ref:l,type:"number",step:K.step,"model-value":M(y),placeholder:K.placeholder,readonly:K.readonly,disabled:M(_),size:M(x),max:K.max,min:K.min,name:K.name,label:K.label,"validate-event":!1,onWheel:ae[0]||(ae[0]=yt(()=>{},["prevent"])),onKeydown:[Ct(yt(D,["prevent"]),["up"]),Ct(yt(E,["prevent"]),["down"])],onBlur:te,onFocus:re,onInput:I,onChange:H},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var gv=nt(hv,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const mv=Ln(gv),ku=Symbol("ElSelectGroup"),Hi=Symbol("ElSelect");function vv(e,t){const r=Tt(Hi),i=Tt(ku,{disabled:!1}),s=Z(()=>Qt(e.value)),a=Z(()=>r.props.multiple?g(r.props.modelValue,e.value):w(e.value,r.props.modelValue)),l=Z(()=>{if(r.props.multiple){const y=r.props.modelValue||[];return!a.value&&y.length>=r.props.multipleLimit&&r.props.multipleLimit>0}else return!1}),c=Z(()=>e.label||(s.value?"":e.value)),d=Z(()=>e.value||e.label||""),f=Z(()=>e.disabled||t.groupDisabled||l.value),h=fn(),g=(y=[],C)=>{if(s.value){const v=r.props.valueKey;return y&&y.some(S=>dr(Wt(S,v))===Wt(C,v))}else return y&&y.includes(C)},w=(y,C)=>{if(s.value){const{valueKey:v}=r.props;return Wt(y,v)===Wt(C,v)}else return y===C},x=()=>{!e.disabled&&!i.disabled&&(r.hoverIndex=r.optionsArray.indexOf(h.proxy))};Ie(()=>c.value,()=>{!e.created&&!r.props.remote&&r.setSelected()}),Ie(()=>e.value,(y,C)=>{const{remote:v,valueKey:S}=r.props;if(Object.is(y,C)||(r.onOptionDestroy(C,h.proxy),r.onOptionCreate(h.proxy)),!e.created&&!v){if(S&&Qt(y)&&Qt(C)&&y[S]===C[S])return;r.setSelected()}}),Ie(()=>i.disabled,()=>{t.groupDisabled=i.disabled},{immediate:!0});const{queryChange:_}=dr(r);return Ie(_,y=>{const{query:C}=M(y),v=new RegExp(rp(C),"i");t.visible=v.test(c.value)||e.created,t.visible||r.filteredOptionsCount--},{immediate:!0}),{select:r,currentLabel:c,currentValue:d,itemSelected:a,isDisabled:f,hoverItem:x}}const yv=Re({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const t=tt("select"),r=Qn(),i=Z(()=>[t.be("dropdown","item"),t.is("disabled",M(c)),{selected:M(l),hover:M(g)}]),s=Pn({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:a,itemSelected:l,isDisabled:c,select:d,hoverItem:f}=vv(e,s),{visible:h,hover:g}=Hr(s),w=fn().proxy;d.onOptionCreate(w),an(()=>{const _=w.value,{selected:y}=d,v=(d.props.multiple?y:[y]).some(S=>S.value===w.value);Ke(()=>{d.cachedOptions.get(_)===w&&!v&&d.cachedOptions.delete(_)}),d.onOptionDestroy(_,w)});function x(){e.disabled!==!0&&s.groupDisabled!==!0&&d.handleOptionSelect(w)}return{ns:t,id:r,containerKls:i,currentLabel:a,itemSelected:l,isDisabled:c,select:d,hoverItem:f,visible:h,hover:g,selectOptionClick:x,states:s}}}),bv=["id","aria-disabled","aria-selected"];function _v(e,t,r,i,s,a){return Lt((se(),Se("li",{id:e.id,class:ge(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMouseenter:t[0]||(t[0]=(...l)=>e.hoverItem&&e.hoverItem(...l)),onClick:t[1]||(t[1]=yt((...l)=>e.selectOptionClick&&e.selectOptionClick(...l),["stop"]))},[Ae(e.$slots,"default",{},()=>[Pe("span",null,at(e.currentLabel),1)])],42,bv)),[[Yt,e.visible]])}var fa=nt(yv,[["render",_v],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const Lv=Re({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Tt(Hi),t=tt("select"),r=Z(()=>e.props.popperClass),i=Z(()=>e.props.multiple),s=Z(()=>e.props.fitInputWidth),a=pe("");function l(){var c;a.value=`${(c=e.selectWrapper)==null?void 0:c.offsetWidth}px`}return xt(()=>{l(),Gr(e.selectWrapper,l)}),{ns:t,minWidth:a,popperClass:r,isMultiple:i,isFitInputWidth:s}}});function kv(e,t,r,i,s,a){return se(),Se("div",{class:ge([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:St({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(se(),Se("div",{key:0,class:ge(e.ns.be("dropdown","header"))},[Ae(e.$slots,"header")],2)):Ce("v-if",!0),Ae(e.$slots,"default"),e.$slots.footer?(se(),Se("div",{key:1,class:ge(e.ns.be("dropdown","footer"))},[Ae(e.$slots,"footer")],2)):Ce("v-if",!0)],6)}var wv=nt(Lv,[["render",kv],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function Mv(e){const{t}=_r();return Pn({options:new Map,cachedOptions:new Map,disabledOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1,focused:!1})}const Ev=(e,t,r)=>{const{t:i}=_r(),s=tt("select");Mi({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},Z(()=>e.suffixTransition===!1));const a=pe(null),l=pe(null),c=pe(null),d=pe(null),f=pe(null),h=pe(null),g=pe(null),w=pe(null),x=pe(),_=dn({query:""}),y=dn(""),C=pe([]);let v=0;const{form:S,formItem:D}=Ai(),E=Z(()=>!e.filterable||e.multiple||!t.visible),T=Z(()=>e.disabled||(S==null?void 0:S.disabled)),B=Z(()=>{const q=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!T.value&&t.inputHovering&&q}),I=Z(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),H=Z(()=>s.is("reverse",I.value&&t.visible&&e.suffixTransition)),ee=Z(()=>(S==null?void 0:S.statusIcon)&&(D==null?void 0:D.validateState)&&ml[D==null?void 0:D.validateState]),Y=Z(()=>e.remote?300:0),re=Z(()=>e.loading?e.loadingText||i("el.select.loading"):e.remote&&t.query===""&&t.options.size===0?!1:e.filterable&&t.query&&t.options.size>0&&t.filteredOptionsCount===0?e.noMatchText||i("el.select.noMatch"):t.options.size===0?e.noDataText||i("el.select.noData"):null),te=Z(()=>{const q=Array.from(t.options.values()),ue=[];return C.value.forEach(ve=>{const Oe=q.findIndex(rt=>rt.currentLabel===ve);Oe>-1&&ue.push(q[Oe])}),ue.length>=q.length?ue:q}),K=Z(()=>Array.from(t.cachedOptions.values())),ae=Z(()=>{const q=te.value.filter(ue=>!ue.created).some(ue=>ue.currentLabel===t.query);return e.filterable&&e.allowCreate&&t.query!==""&&!q}),J=Ur(),ce=Z(()=>["small"].includes(J.value)?"small":"default"),U=Z({get(){return t.visible&&re.value!==!1},set(q){t.visible=q}});Ie([()=>T.value,()=>J.value,()=>S==null?void 0:S.size],()=>{Ke(()=>{Q()})}),Ie(()=>e.placeholder,q=>{t.cachedPlaceHolder=t.currentPlaceholder=q,e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(t.currentPlaceholder="")}),Ie(()=>e.modelValue,(q,ue)=>{e.multiple&&(Q(),q&&q.length>0||l.value&&t.query!==""?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",de(t.query))),Ee(),e.filterable&&!e.multiple&&(t.inputLength=20),!ls(q,ue)&&e.validateEvent&&(D==null||D.validate("change").catch(ve=>Dr()))},{flush:"post",deep:!0}),Ie(()=>t.visible,q=>{var ue,ve,Oe,rt,ct;q?((ve=(ue=d.value)==null?void 0:ue.updatePopper)==null||ve.call(ue),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,(rt=(Oe=c.value)==null?void 0:Oe.focus)==null||rt.call(Oe),e.multiple?(ct=l.value)==null||ct.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),de(t.query),!e.multiple&&!e.remote&&(_.value.query="",Er(_),Er(y)))):(e.filterable&&(bt(e.filterMethod)&&e.filterMethod(""),bt(e.remoteMethod)&&e.remoteMethod("")),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,We(),Ke(()=>{l.value&&l.value.value===""&&t.selected.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),r.emit("visible-change",q)}),Ie(()=>t.options.entries(),()=>{var q,ue,ve;if(!_t)return;(ue=(q=d.value)==null?void 0:q.updatePopper)==null||ue.call(q),e.multiple&&Q();const Oe=((ve=g.value)==null?void 0:ve.querySelectorAll("input"))||[];(!e.filterable&&!e.defaultFirstOption&&!ur(e.modelValue)||!Array.from(Oe).includes(document.activeElement))&&Ee(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&ke()},{flush:"post"}),Ie(()=>t.hoverIndex,q=>{et(q)&&q>-1?x.value=te.value[q]||{}:x.value={},te.value.forEach(ue=>{ue.hover=x.value===ue})});const Q=()=>{Ke(()=>{var q,ue;if(!a.value)return;const ve=a.value.$el.querySelector("input");v=v||(ve.clientHeight>0?ve.clientHeight+2:0);const Oe=h.value,rt=getComputedStyle(ve).getPropertyValue(s.cssVarName("input-height")),ct=Number.parseFloat(rt)||sp(J.value||(S==null?void 0:S.size)),Dt=J.value||ct===v||v<=0?ct:v;!(ve.offsetParent===null)&&(ve.style.height=`${(t.selected.length===0?Dt:Math.max(Oe?Oe.clientHeight+(Oe.clientHeight>Dt?6:0):0,Dt))-2}px`),t.visible&&re.value!==!1&&((ue=(q=d.value)==null?void 0:q.updatePopper)==null||ue.call(q))})},de=async q=>{if(!(t.previousQuery===q||t.isOnComposition)){if(t.previousQuery===null&&(bt(e.filterMethod)||bt(e.remoteMethod))){t.previousQuery=q;return}t.previousQuery=q,Ke(()=>{var ue,ve;t.visible&&((ve=(ue=d.value)==null?void 0:ue.updatePopper)==null||ve.call(ue))}),t.hoverIndex=-1,e.multiple&&e.filterable&&Ke(()=>{if(!T.value){const ue=l.value.value.length*15+20;t.inputLength=e.collapseTags?Math.min(50,ue):ue,we()}Q()}),e.remote&&bt(e.remoteMethod)?(t.hoverIndex=-1,e.remoteMethod(q)):bt(e.filterMethod)?(e.filterMethod(q),Er(y)):(t.filteredOptionsCount=t.optionsCount,_.value.query=q,Er(_),Er(y)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&(await Ke(),ke())}},we=()=>{t.currentPlaceholder!==""&&(t.currentPlaceholder=l.value.value?"":t.cachedPlaceHolder)},ke=()=>{const q=te.value.filter(Oe=>Oe.visible&&!Oe.disabled&&!Oe.states.groupDisabled),ue=q.find(Oe=>Oe.created),ve=q[0];t.hoverIndex=Xe(te.value,ue||ve)},Ee=()=>{var q;if(e.multiple)t.selectedLabel="";else{const ve=qe(e.modelValue);(q=ve.props)!=null&&q.created?(t.createdLabel=ve.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=ve.currentLabel,t.selected=ve,e.filterable&&(t.query=t.selectedLabel);return}const ue=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(ve=>{ue.push(qe(ve))}),t.selected=ue,Ke(()=>{Q()})},qe=q=>{let ue;const ve=po(q).toLowerCase()==="object",Oe=po(q).toLowerCase()==="null",rt=po(q).toLowerCase()==="undefined";for(let Ft=t.cachedOptions.size-1;Ft>=0;Ft--){const zt=K.value[Ft];if(ve?Wt(zt.value,e.valueKey)===Wt(q,e.valueKey):zt.value===q){ue={value:q,currentLabel:zt.currentLabel,isDisabled:zt.isDisabled};break}}if(ue)return ue;const ct=ve?q.label:!Oe&&!rt?q:"",Dt={value:q,currentLabel:ct};return e.multiple&&(Dt.hitState=!1),Dt},We=()=>{setTimeout(()=>{const q=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(ue=>te.value.findIndex(ve=>Wt(ve,q)===Wt(ue,q)))):t.hoverIndex=-1:t.hoverIndex=te.value.findIndex(ue=>He(ue)===He(t.selected))},300)},$e=()=>{var q,ue;Te(),(ue=(q=d.value)==null?void 0:q.updatePopper)==null||ue.call(q),e.multiple&&Q()},Te=()=>{var q;t.inputWidth=(q=a.value)==null?void 0:q.$el.offsetWidth},xe=()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,de(t.query))},De=ss(()=>{xe()},Y.value),wt=ss(q=>{de(q.target.value)},Y.value),st=q=>{ls(e.modelValue,q)||r.emit(zi,q)},Ye=q=>np(q,ue=>!t.disabledOptions.has(ue)),Mt=q=>{if(q.code!==Gn.delete){if(q.target.value.length<=0&&!P()){const ue=e.modelValue.slice(),ve=Ye(ue);if(ve<0)return;ue.splice(ve,1),r.emit(Pt,ue),st(ue)}q.target.value.length===1&&e.modelValue.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}},pt=(q,ue)=>{const ve=t.selected.indexOf(ue);if(ve>-1&&!T.value){const Oe=e.modelValue.slice();Oe.splice(ve,1),r.emit(Pt,Oe),st(Oe),r.emit("remove-tag",ue.value)}q.stopPropagation(),X()},Ue=q=>{q.stopPropagation();const ue=e.multiple?[]:"";if(!Jt(ue))for(const ve of t.selected)ve.isDisabled&&ue.push(ve.value);r.emit(Pt,ue),st(ue),t.hoverIndex=-1,t.visible=!1,r.emit("clear"),X()},ze=q=>{var ue;if(e.multiple){const ve=(e.modelValue||[]).slice(),Oe=Xe(ve,q.value);Oe>-1?ve.splice(Oe,1):(e.multipleLimit<=0||ve.length<e.multipleLimit)&&ve.push(q.value),r.emit(Pt,ve),st(ve),q.created&&(t.query="",de(""),t.inputLength=20),e.filterable&&((ue=l.value)==null||ue.focus())}else r.emit(Pt,q.value),st(q.value),t.visible=!1;It(),!t.visible&&Ke(()=>{Et(q)})},Xe=(q=[],ue)=>{if(!Qt(ue))return q.indexOf(ue);const ve=e.valueKey;let Oe=-1;return q.some((rt,ct)=>dr(Wt(rt,ve))===Wt(ue,ve)?(Oe=ct,!0):!1),Oe},It=()=>{const q=l.value||a.value;q&&(q==null||q.focus())},Et=q=>{var ue,ve,Oe,rt,ct;const Dt=Array.isArray(q)?q[0]:q;let Ft=null;if(Dt!=null&&Dt.value){const zt=te.value.filter(Xt=>Xt.value===Dt.value);zt.length>0&&(Ft=zt[0].$el)}if(d.value&&Ft){const zt=(rt=(Oe=(ve=(ue=d.value)==null?void 0:ue.popperRef)==null?void 0:ve.contentRef)==null?void 0:Oe.querySelector)==null?void 0:rt.call(Oe,`.${s.be("dropdown","wrap")}`);zt&&op(zt,Ft)}(ct=w.value)==null||ct.handleScroll()},R=q=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(q.value,q),t.cachedOptions.set(q.value,q),q.disabled&&t.disabledOptions.set(q.value,q)},b=(q,ue)=>{t.options.get(q)===ue&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(q))},k=q=>{q.code!==Gn.backspace&&P(!1),t.inputLength=l.value.value.length*15+20,Q()},P=q=>{if(!Array.isArray(t.selected))return;const ue=Ye(t.selected.map(Oe=>Oe.value)),ve=t.selected[ue];if(ve)return q===!0||q===!1?(ve.hitState=q,q):(ve.hitState=!ve.hitState,ve.hitState)},j=q=>{const ue=q.target.value;if(q.type==="compositionend")t.isOnComposition=!1,Ke(()=>de(ue));else{const ve=ue[ue.length-1]||"";t.isOnComposition=!Al(ve)}},F=()=>{Ke(()=>Et(t.selected))},V=q=>{t.focused||((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),t.focused=!0,r.emit("focus",q))},X=()=>{var q,ue;t.visible?(q=l.value||a.value)==null||q.focus():(ue=a.value)==null||ue.focus()},G=()=>{var q,ue,ve;t.visible=!1,(q=a.value)==null||q.blur(),(ve=(ue=c.value)==null?void 0:ue.blur)==null||ve.call(ue)},ie=q=>{var ue,ve,Oe;(ue=d.value)!=null&&ue.isFocusInsideContent(q)||(ve=f.value)!=null&&ve.isFocusInsideContent(q)||(Oe=g.value)!=null&&Oe.contains(q.relatedTarget)||(t.visible&&_e(),t.focused=!1,r.emit("blur",q))},me=q=>{Ue(q)},_e=()=>{t.visible=!1},Le=q=>{t.visible&&(q.preventDefault(),q.stopPropagation(),t.visible=!1)},je=q=>{q&&!t.mouseEnter||T.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:(!d.value||!d.value.isFocusInsideContent())&&(t.visible=!t.visible),X())},Fe=()=>{t.visible?te.value[t.hoverIndex]&&ze(te.value[t.hoverIndex]):je()},He=q=>Qt(q.value)?Wt(q.value,e.valueKey):q.value,it=Z(()=>te.value.filter(q=>q.visible).every(q=>q.disabled)),lt=Z(()=>e.multiple?t.selected.slice(0,e.maxCollapseTags):[]),ht=Z(()=>e.multiple?t.selected.slice(e.maxCollapseTags):[]),gt=q=>{if(!t.visible){t.visible=!0;return}if(!(t.options.size===0||t.filteredOptionsCount===0)&&!t.isOnComposition&&!it.value){q==="next"?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):q==="prev"&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const ue=te.value[t.hoverIndex];(ue.disabled===!0||ue.states.groupDisabled===!0||!ue.visible)&&gt(q),Ke(()=>Et(x.value))}},ut=()=>{t.mouseEnter=!0},Kt=()=>{t.mouseEnter=!1},mt=(q,ue)=>{var ve,Oe;pt(q,ue),(Oe=(ve=f.value)==null?void 0:ve.updatePopper)==null||Oe.call(ve)},Ze=Z(()=>({maxWidth:`${M(t.inputWidth)-32-(ee.value?22:0)}px`,width:"100%"}));return{optionList:C,optionsArray:te,hoverOption:x,selectSize:J,handleResize:$e,debouncedOnInputChange:De,debouncedQueryChange:wt,deletePrevTag:Mt,deleteTag:pt,deleteSelected:Ue,handleOptionSelect:ze,scrollToOption:Et,readonly:E,resetInputHeight:Q,showClose:B,iconComponent:I,iconReverse:H,showNewOption:ae,collapseTagSize:ce,setSelected:Ee,managePlaceholder:we,selectDisabled:T,emptyText:re,toggleLastOptionHitState:P,resetInputState:k,handleComposition:j,onOptionCreate:R,onOptionDestroy:b,handleMenuEnter:F,handleFocus:V,focus:X,blur:G,handleBlur:ie,handleClearClick:me,handleClose:_e,handleKeydownEscape:Le,toggleMenu:je,selectOption:Fe,getValueKey:He,navigateOptions:gt,handleDeleteTooltipTag:mt,dropMenuVisible:U,queryChange:_,groupQueryChange:y,showTagList:lt,collapseTagList:ht,selectTagsStyle:Ze,reference:a,input:l,iOSInput:c,tooltipRef:d,tagTooltipRef:f,tags:h,selectWrapper:g,scrollbar:w,handleMouseEnter:ut,handleMouseLeave:Kt}};var Cv=Re({name:"ElOptions",emits:["update-options"],setup(e,{slots:t,emit:r}){let i=[];function s(a,l){if(a.length!==l.length)return!1;for(const[c]of a.entries())if(a[c]!=l[c])return!1;return!0}return()=>{var a,l;const c=(a=t.default)==null?void 0:a.call(t),d=[];function f(h){Array.isArray(h)&&h.forEach(g=>{var w,x,_,y;const C=(w=(g==null?void 0:g.type)||{})==null?void 0:w.name;C==="ElOptionGroup"?f(!Jt(g.children)&&!Array.isArray(g.children)&&bt((x=g.children)==null?void 0:x.default)?(_=g.children)==null?void 0:_.default():g.children):C==="ElOption"?d.push((y=g.props)==null?void 0:y.label):Array.isArray(g.children)&&f(g.children)})}return c.length&&f((l=c[0])==null?void 0:l.children),s(d,i)||(i=d,r("update-options",d)),c}}});const $s="ElSelect",Sv=Re({name:$s,componentName:$s,components:{ElInput:Wr,ElSelectMenu:wv,ElOption:fa,ElOptions:Cv,ElTag:Gm,ElScrollbar:rg,ElTooltip:om,ElIcon:Rt},directives:{ClickOutside:Am},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:kl},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:ca.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:$n,default:vl},fitInputWidth:Boolean,suffixIcon:{type:$n,default:bl},tagType:{...vu.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:$i,default:"bottom-start"},ariaLabel:{type:String,default:void 0}},emits:[Pt,zi,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const r=tt("select"),i=tt("input"),{t:s}=_r(),a=Qn(),l=Mv(e),{optionList:c,optionsArray:d,hoverOption:f,selectSize:h,readonly:g,handleResize:w,collapseTagSize:x,debouncedOnInputChange:_,debouncedQueryChange:y,deletePrevTag:C,deleteTag:v,deleteSelected:S,handleOptionSelect:D,scrollToOption:E,setSelected:T,resetInputHeight:B,managePlaceholder:I,showClose:H,selectDisabled:ee,iconComponent:Y,iconReverse:re,showNewOption:te,emptyText:K,toggleLastOptionHitState:ae,resetInputState:J,handleComposition:ce,onOptionCreate:U,onOptionDestroy:Q,handleMenuEnter:de,handleFocus:we,focus:ke,blur:Ee,handleBlur:qe,handleClearClick:We,handleClose:$e,handleKeydownEscape:Te,toggleMenu:xe,selectOption:De,getValueKey:wt,navigateOptions:st,handleDeleteTooltipTag:Ye,dropMenuVisible:Mt,reference:pt,input:Ue,iOSInput:ze,tooltipRef:Xe,tagTooltipRef:It,tags:Et,selectWrapper:R,scrollbar:b,queryChange:k,groupQueryChange:P,handleMouseEnter:j,handleMouseLeave:F,showTagList:V,collapseTagList:X,selectTagsStyle:G}=Ev(e,l,t),{inputWidth:ie,selected:me,inputLength:_e,filteredOptionsCount:Le,visible:je,selectedLabel:Fe,hoverIndex:He,query:it,inputHovering:lt,currentPlaceholder:ht,menuVisibleOnFocus:gt,isOnComposition:ut,options:Kt,cachedOptions:mt,optionsCount:Ze,prefixWidth:q}=Hr(l),ue=Z(()=>{const jt=[r.b()],sn=M(h);return sn&&jt.push(r.m(sn)),e.disabled&&jt.push(r.m("disabled")),jt}),ve=Z(()=>[r.e("tags"),r.is("disabled",M(ee))]),Oe=Z(()=>[r.b("tags-wrapper"),{"has-prefix":M(q)&&M(me).length}]),rt=Z(()=>[r.e("input"),r.is(M(h)),r.is("disabled",M(ee))]),ct=Z(()=>[r.e("input"),r.is(M(h)),r.em("input","iOS")]),Dt=Z(()=>[r.is("empty",!e.allowCreate&&!!M(it)&&M(Le)===0)]),Ft=Z(()=>({maxWidth:`${M(ie)>123&&M(me).length>e.maxCollapseTags?M(ie)-123:M(ie)-75}px`})),zt=Z(()=>({marginLeft:`${M(q)}px`,flexGrow:1,width:`${M(_e)/(M(ie)-32)}%`,maxWidth:`${M(ie)-42}px`}));nn(Hi,Pn({props:e,options:Kt,optionsArray:d,cachedOptions:mt,optionsCount:Ze,filteredOptionsCount:Le,hoverIndex:He,handleOptionSelect:D,onOptionCreate:U,onOptionDestroy:Q,selectWrapper:R,selected:me,setSelected:T,queryChange:k,groupQueryChange:P})),xt(()=>{l.cachedPlaceHolder=ht.value=e.placeholder||(()=>s("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(ht.value=""),Gr(R,w),e.remote&&e.multiple&&B(),Ke(()=>{const jt=pt.value&&pt.value.$el;if(jt&&(ie.value=jt.getBoundingClientRect().width,t.slots.prefix)){const sn=jt.querySelector(`.${i.e("prefix")}`);q.value=Math.max(sn.getBoundingClientRect().width+11,30)}}),T()}),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(Pt,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(Pt,"");const Xt=Z(()=>{var jt,sn;return(sn=(jt=Xe.value)==null?void 0:jt.popperRef)==null?void 0:sn.contentRef});return{isIOS:gd,onOptionsRendered:jt=>{c.value=jt},prefixWidth:q,selectSize:h,readonly:g,handleResize:w,collapseTagSize:x,debouncedOnInputChange:_,debouncedQueryChange:y,deletePrevTag:C,deleteTag:v,handleDeleteTooltipTag:Ye,deleteSelected:S,handleOptionSelect:D,scrollToOption:E,inputWidth:ie,selected:me,inputLength:_e,filteredOptionsCount:Le,visible:je,selectedLabel:Fe,hoverIndex:He,query:it,inputHovering:lt,currentPlaceholder:ht,menuVisibleOnFocus:gt,isOnComposition:ut,options:Kt,resetInputHeight:B,managePlaceholder:I,showClose:H,selectDisabled:ee,iconComponent:Y,iconReverse:re,showNewOption:te,emptyText:K,toggleLastOptionHitState:ae,resetInputState:J,handleComposition:ce,handleMenuEnter:de,handleFocus:we,focus:ke,blur:Ee,handleBlur:qe,handleClearClick:We,handleClose:$e,handleKeydownEscape:Te,toggleMenu:xe,selectOption:De,getValueKey:wt,navigateOptions:st,dropMenuVisible:Mt,reference:pt,input:Ue,iOSInput:ze,tooltipRef:Xe,popperPaneRef:Xt,tags:Et,selectWrapper:R,scrollbar:b,wrapperKls:ue,tagsKls:ve,tagWrapperKls:Oe,inputKls:rt,iOSInputKls:ct,scrollbarKls:Dt,selectTagsStyle:G,nsSelect:r,tagTextStyle:Ft,inputStyle:zt,handleMouseEnter:j,handleMouseLeave:F,showTagList:V,collapseTagList:X,tagTooltipRef:It,contentId:a,hoverOption:f}}}),xv=["disabled","autocomplete","aria-activedescendant","aria-controls","aria-expanded","aria-label"],Ov=["disabled"],Pv={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function Tv(e,t,r,i,s,a){const l=Ut("el-tag"),c=Ut("el-tooltip"),d=Ut("el-icon"),f=Ut("el-input"),h=Ut("el-option"),g=Ut("el-options"),w=Ut("el-scrollbar"),x=Ut("el-select-menu"),_=Id("click-outside");return Lt((se(),Se("div",{ref:"selectWrapper",class:ge(e.wrapperKls),onMouseenter:t[22]||(t[22]=(...y)=>e.handleMouseEnter&&e.handleMouseEnter(...y)),onMouseleave:t[23]||(t[23]=(...y)=>e.handleMouseLeave&&e.handleMouseLeave(...y)),onClick:t[24]||(t[24]=yt((...y)=>e.toggleMenu&&e.toggleMenu(...y),["stop"]))},[ye(c,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:fe(()=>{var y,C;return[Pe("div",{class:"select-trigger",onMouseenter:t[20]||(t[20]=v=>e.inputHovering=!0),onMouseleave:t[21]||(t[21]=v=>e.inputHovering=!1)},[e.multiple?(se(),Se("div",{key:0,ref:"tags",tabindex:"-1",class:ge(e.tagsKls),style:St(e.selectTagsStyle),onClick:t[15]||(t[15]=(...v)=>e.focus&&e.focus(...v))},[e.collapseTags&&e.selected.length?(se(),Me(bn,{key:0,onAfterLeave:e.resetInputHeight},{default:fe(()=>[Pe("span",{class:ge(e.tagWrapperKls)},[(se(!0),Se(At,null,Or(e.showTagList,v=>(se(),Me(l,{key:e.getValueKey(v),closable:!e.selectDisabled&&!v.isDisabled,size:e.collapseTagSize,hit:v.hitState,type:e.tagType,"disable-transitions":"",onClose:S=>e.deleteTag(S,v)},{default:fe(()=>[Pe("span",{class:ge(e.nsSelect.e("tags-text")),style:St(e.tagTextStyle)},at(v.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),e.selected.length>e.maxCollapseTags?(se(),Me(l,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:fe(()=>[e.collapseTagsTooltip?(se(),Me(c,{key:0,ref:"tagTooltipRef",disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:fe(()=>[Pe("span",{class:ge(e.nsSelect.e("tags-text"))},"+ "+at(e.selected.length-e.maxCollapseTags),3)]),content:fe(()=>[Pe("div",{class:ge(e.nsSelect.e("collapse-tags"))},[(se(!0),Se(At,null,Or(e.collapseTagList,v=>(se(),Se("div",{key:e.getValueKey(v),class:ge(e.nsSelect.e("collapse-tag"))},[ye(l,{class:"in-tooltip",closable:!e.selectDisabled&&!v.isDisabled,size:e.collapseTagSize,hit:v.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:S=>e.handleDeleteTooltipTag(S,v)},{default:fe(()=>[Pe("span",{class:ge(e.nsSelect.e("tags-text")),style:St({maxWidth:e.inputWidth-75+"px"})},at(v.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(se(),Se("span",{key:1,class:ge(e.nsSelect.e("tags-text"))},"+ "+at(e.selected.length-e.maxCollapseTags),3))]),_:1},8,["size","type"])):Ce("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):Ce("v-if",!0),e.collapseTags?Ce("v-if",!0):(se(),Me(bn,{key:1,onAfterLeave:e.resetInputHeight},{default:fe(()=>[Pe("span",{class:ge(e.tagWrapperKls),style:St(e.prefixWidth&&e.selected.length?{marginLeft:`${e.prefixWidth}px`}:"")},[(se(!0),Se(At,null,Or(e.selected,v=>(se(),Me(l,{key:e.getValueKey(v),closable:!e.selectDisabled&&!v.isDisabled,size:e.collapseTagSize,hit:v.hitState,type:e.tagType,"disable-transitions":"",onClose:S=>e.deleteTag(S,v)},{default:fe(()=>[Pe("span",{class:ge(e.nsSelect.e("tags-text")),style:St({maxWidth:e.inputWidth-75+"px"})},at(v.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],6)]),_:1},8,["onAfterLeave"])),e.filterable&&!e.selectDisabled?Lt((se(),Se("input",{key:2,ref:"input","onUpdate:modelValue":t[0]||(t[0]=v=>e.query=v),type:"text",class:ge(e.inputKls),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:St(e.inputStyle),role:"combobox","aria-activedescendant":((y=e.hoverOption)==null?void 0:y.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:t[1]||(t[1]=(...v)=>e.handleFocus&&e.handleFocus(...v)),onBlur:t[2]||(t[2]=(...v)=>e.handleBlur&&e.handleBlur(...v)),onKeyup:t[3]||(t[3]=(...v)=>e.managePlaceholder&&e.managePlaceholder(...v)),onKeydown:[t[4]||(t[4]=(...v)=>e.resetInputState&&e.resetInputState(...v)),t[5]||(t[5]=Ct(yt(v=>e.navigateOptions("next"),["prevent"]),["down"])),t[6]||(t[6]=Ct(yt(v=>e.navigateOptions("prev"),["prevent"]),["up"])),t[7]||(t[7]=Ct((...v)=>e.handleKeydownEscape&&e.handleKeydownEscape(...v),["esc"])),t[8]||(t[8]=Ct(yt((...v)=>e.selectOption&&e.selectOption(...v),["stop","prevent"]),["enter"])),t[9]||(t[9]=Ct((...v)=>e.deletePrevTag&&e.deletePrevTag(...v),["delete"])),t[10]||(t[10]=Ct(v=>e.visible=!1,["tab"]))],onCompositionstart:t[11]||(t[11]=(...v)=>e.handleComposition&&e.handleComposition(...v)),onCompositionupdate:t[12]||(t[12]=(...v)=>e.handleComposition&&e.handleComposition(...v)),onCompositionend:t[13]||(t[13]=(...v)=>e.handleComposition&&e.handleComposition(...v)),onInput:t[14]||(t[14]=(...v)=>e.debouncedQueryChange&&e.debouncedQueryChange(...v))},null,46,xv)),[[Dd,e.query]]):Ce("v-if",!0)],6)):Ce("v-if",!0),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(se(),Se("input",{key:1,ref:"iOSInput",class:ge(e.iOSInputKls),disabled:e.selectDisabled,type:"text"},null,10,Ov)):Ce("v-if",!0),ye(f,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[16]||(t[16]=v=>e.selectedLabel=v),type:"text",placeholder:typeof e.currentPlaceholder=="function"?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:ge([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,role:"combobox","aria-activedescendant":((C=e.hoverOption)==null?void 0:C.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropMenuVisible,label:e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[17]||(t[17]=Ct(yt(v=>e.navigateOptions("next"),["stop","prevent"]),["down"])),t[18]||(t[18]=Ct(yt(v=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),Ct(yt(e.selectOption,["stop","prevent"]),["enter"]),Ct(e.handleKeydownEscape,["esc"]),t[19]||(t[19]=Ct(v=>e.visible=!1,["tab"]))]},Oo({suffix:fe(()=>[e.iconComponent&&!e.showClose?(se(),Me(d,{key:0,class:ge([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:fe(()=>[(se(),Me(Nt(e.iconComponent)))]),_:1},8,["class"])):Ce("v-if",!0),e.showClose&&e.clearIcon?(se(),Me(d,{key:1,class:ge([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:fe(()=>[(se(),Me(Nt(e.clearIcon)))]),_:1},8,["class","onClick"])):Ce("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:fe(()=>[Pe("div",Pv,[Ae(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","aria-activedescendant","aria-controls","aria-expanded","label","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]}),content:fe(()=>[ye(x,null,Oo({default:fe(()=>[Lt(ye(w,{id:e.contentId,ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:ge(e.scrollbarKls),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},{default:fe(()=>[e.showNewOption?(se(),Me(h,{key:0,value:e.query,created:!0},null,8,["value"])):Ce("v-if",!0),ye(g,{onUpdateOptions:e.onOptionsRendered},{default:fe(()=>[Ae(e.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[Yt,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(se(),Se(At,{key:0},[e.$slots.empty?Ae(e.$slots,"empty",{key:0}):(se(),Se("p",{key:1,class:ge(e.nsSelect.be("dropdown","empty"))},at(e.emptyText),3))],64)):Ce("v-if",!0)]),_:2},[e.$slots.header?{name:"header",fn:fe(()=>[Ae(e.$slots,"header")])}:void 0,e.$slots.footer?{name:"footer",fn:fe(()=>[Ae(e.$slots,"footer")])}:void 0]),1024)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[_,e.handleClose,e.popperPaneRef]])}var Rv=nt(Sv,[["render",Tv],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const Bv=Re({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=tt("select"),r=pe(!0),i=fn(),s=pe([]);nn(ku,Pn({...Hr(e)}));const a=Tt(Hi);xt(()=>{s.value=l(i.subTree)});const l=d=>{const f=[];return Array.isArray(d.children)&&d.children.forEach(h=>{var g;h.type&&h.type.name==="ElOption"&&h.component&&h.component.proxy?f.push(h.component.proxy):(g=h.children)!=null&&g.length&&f.push(...l(h))}),f},{groupQueryChange:c}=dr(a);return Ie(c,()=>{r.value=s.value.some(d=>d.visible===!0)},{flush:"post"}),{visible:r,ns:t}}});function Iv(e,t,r,i,s,a){return Lt((se(),Se("ul",{class:ge(e.ns.be("group","wrap"))},[Pe("li",{class:ge(e.ns.be("group","title"))},at(e.label),3),Pe("li",null,[Pe("ul",{class:ge(e.ns.b("group"))},[Ae(e.$slots,"default")],2)])],2)),[[Yt,e.visible]])}var wu=nt(Bv,[["render",Iv],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const Dv=Ln(Rv,{Option:fa,OptionGroup:wu}),Av=Ko(fa);Ko(wu);function Nv(e){let t;const r=pe(!1),i=Pn({...e,originalPosition:"",originalOverflow:"",visible:!1});function s(w){i.text=w}function a(){const w=i.parent,x=g.ns;if(!w.vLoadingAddClassList){let _=w.getAttribute("loading-number");_=Number.parseInt(_)-1,_?w.setAttribute("loading-number",_.toString()):(Br(w,x.bm("parent","relative")),w.removeAttribute("loading-number")),Br(w,x.bm("parent","hidden"))}l(),h.unmount()}function l(){var w,x;(x=(w=g.$el)==null?void 0:w.parentNode)==null||x.removeChild(g.$el)}function c(){var w;e.beforeClose&&!e.beforeClose()||(r.value=!0,clearTimeout(t),t=window.setTimeout(d,400),i.visible=!1,(w=e.closed)==null||w.call(e))}function d(){if(!r.value)return;const w=i.parent;r.value=!1,w.vLoadingAddClassList=void 0,a()}const f=Re({name:"ElLoading",setup(w,{expose:x}){const{ns:_,zIndex:y}=ia("loading");return x({ns:_,zIndex:y}),()=>{const C=i.spinner||i.svg,v=ar("svg",{class:"circular",viewBox:i.svgViewBox?i.svgViewBox:"0 0 50 50",...C?{innerHTML:C}:{}},[ar("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),S=i.text?ar("p",{class:_.b("text")},[i.text]):void 0;return ar(bn,{name:_.b("fade"),onAfterLeave:d},{default:fe(()=>[Lt(ye("div",{style:{backgroundColor:i.background||""},class:[_.b("mask"),i.customClass,i.fullscreen?"is-fullscreen":""]},[ar("div",{class:_.b("spinner")},[v,S])]),[[Yt,i.visible]])])})}}}),h=Ad(f),g=h.mount(document.createElement("div"));return{...Hr(i),setText:s,removeElLoadingChild:l,close:c,handleAfterLeave:d,vm:g,get $el(){return g.$el}}}let di;const zv=function(e={}){if(!_t)return;const t=jv(e);if(t.fullscreen&&di)return di;const r=Nv({...t,closed:()=>{var s;(s=t.closed)==null||s.call(t),t.fullscreen&&(di=void 0)}});Fv(t,t.parent,r),Vs(t,t.parent,r),t.parent.vLoadingAddClassList=()=>Vs(t,t.parent,r);let i=t.parent.getAttribute("loading-number");return i?i=`${Number.parseInt(i)+1}`:i="1",t.parent.setAttribute("loading-number",i),t.parent.appendChild(r.$el),Ke(()=>r.visible.value=t.visible),t.fullscreen&&(di=r),r},jv=e=>{var t,r,i,s;let a;return Jt(e.target)?a=(t=document.querySelector(e.target))!=null?t:document.body:a=e.target||document.body,{parent:a===document.body||e.body?document.body:a,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:a===document.body&&((r=e.fullscreen)!=null?r:!0),lock:(i=e.lock)!=null?i:!1,customClass:e.customClass||"",visible:(s=e.visible)!=null?s:!0,target:a}},Fv=async(e,t,r)=>{const{nextZIndex:i}=r.vm.zIndex||r.vm._.exposed.zIndex,s={};if(e.fullscreen)r.originalPosition.value=or(document.body,"position"),r.originalOverflow.value=or(document.body,"overflow"),s.zIndex=i();else if(e.parent===document.body){r.originalPosition.value=or(document.body,"position"),await Ke();for(const a of["top","left"]){const l=a==="top"?"scrollTop":"scrollLeft";s[a]=`${e.target.getBoundingClientRect()[a]+document.body[l]+document.documentElement[l]-Number.parseInt(or(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])s[a]=`${e.target.getBoundingClientRect()[a]}px`}else r.originalPosition.value=or(t,"position");for(const[a,l]of Object.entries(s))r.$el.style[a]=l},Vs=(e,t,r)=>{const i=r.vm.ns||r.vm._.exposed.ns;["absolute","fixed","sticky"].includes(r.originalPosition.value)?Br(t,i.bm("parent","relative")):So(t,i.bm("parent","relative")),e.fullscreen&&e.lock?So(t,i.bm("parent","hidden")):Br(t,i.bm("parent","hidden"))},Do=Symbol("ElLoading"),Us=(e,t)=>{var r,i,s,a;const l=t.instance,c=w=>Qt(t.value)?t.value[w]:void 0,d=w=>{const x=Jt(w)&&(l==null?void 0:l[w])||w;return x&&pe(x)},f=w=>d(c(w)||e.getAttribute(`element-loading-${Nd(w)}`)),h=(r=c("fullscreen"))!=null?r:t.modifiers.fullscreen,g={text:f("text"),svg:f("svg"),svgViewBox:f("svgViewBox"),spinner:f("spinner"),background:f("background"),customClass:f("customClass"),fullscreen:h,target:(i=c("target"))!=null?i:h?void 0:e,body:(s=c("body"))!=null?s:t.modifiers.body,lock:(a=c("lock"))!=null?a:t.modifiers.lock};e[Do]={options:g,instance:zv(g)}},$v=(e,t)=>{for(const r of Object.keys(t))zn(t[r])&&(t[r].value=e[r])},Vv={mounted(e,t){t.value&&Us(e,t)},updated(e,t){const r=e[Do];t.oldValue!==t.value&&(t.value&&!t.oldValue?Us(e,t):t.value&&t.oldValue?Qt(t.value)&&$v(t.value,r.options):r==null||r.instance.close())},unmounted(e){var t;(t=e[Do])==null||t.instance.close()}},Mu=["success","info","warning","error"],Vt=Nl({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:_t?document.body:void 0}),Uv=ft({customClass:{type:String,default:Vt.customClass},center:{type:Boolean,default:Vt.center},dangerouslyUseHTMLString:{type:Boolean,default:Vt.dangerouslyUseHTMLString},duration:{type:Number,default:Vt.duration},icon:{type:$n,default:Vt.icon},id:{type:String,default:Vt.id},message:{type:Ge([String,Object,Function]),default:Vt.message},onClose:{type:Ge(Function),required:!1},showClose:{type:Boolean,default:Vt.showClose},type:{type:String,values:Mu,default:Vt.type},offset:{type:Number,default:Vt.offset},zIndex:{type:Number,default:Vt.zIndex},grouping:{type:Boolean,default:Vt.grouping},repeatNum:{type:Number,default:Vt.repeatNum}}),Gv={destroy:()=>!0},cn=zd([]),Hv=e=>{const t=cn.findIndex(s=>s.id===e),r=cn[t];let i;return t>0&&(i=cn[t-1]),{current:r,prev:i}},Kv=e=>{const{prev:t}=Hv(e);return t?t.vm.exposed.bottom.value:0},qv=(e,t)=>cn.findIndex(i=>i.id===e)>0?20:t,Wv=["id"],Jv=["innerHTML"],Yv=Re({name:"ElMessage"}),Xv=Re({...Yv,props:Uv,emits:Gv,setup(e,{expose:t}){const r=e,{Close:i}=wl,{ns:s,zIndex:a}=ia("message"),{currentZIndex:l,nextZIndex:c}=a,d=pe(),f=pe(!1),h=pe(0);let g;const w=Z(()=>r.type?r.type==="error"?"danger":r.type:"info"),x=Z(()=>{const I=r.type;return{[s.bm("icon",I)]:I&&Ei[I]}}),_=Z(()=>r.icon||Ei[r.type]||""),y=Z(()=>Kv(r.id)),C=Z(()=>qv(r.id,r.offset)+y.value),v=Z(()=>h.value+C.value),S=Z(()=>({top:`${C.value}px`,zIndex:l.value}));function D(){r.duration!==0&&({stop:g}=xo(()=>{T()},r.duration))}function E(){g==null||g()}function T(){f.value=!1}function B({code:I}){I===Gn.esc&&T()}return xt(()=>{D(),c(),f.value=!0}),Ie(()=>r.repeatNum,()=>{E(),D()}),Ir(document,"keydown",B),Gr(d,()=>{h.value=d.value.getBoundingClientRect().height}),t({visible:f,bottom:v,close:T}),(I,H)=>(se(),Me(bn,{name:M(s).b("fade"),onBeforeLeave:I.onClose,onAfterLeave:H[0]||(H[0]=ee=>I.$emit("destroy")),persisted:""},{default:fe(()=>[Lt(Pe("div",{id:I.id,ref_key:"messageRef",ref:d,class:ge([M(s).b(),{[M(s).m(I.type)]:I.type&&!I.icon},M(s).is("center",I.center),M(s).is("closable",I.showClose),I.customClass]),style:St(M(S)),role:"alert",onMouseenter:E,onMouseleave:D},[I.repeatNum>1?(se(),Me(M(dm),{key:0,value:I.repeatNum,type:M(w),class:ge(M(s).e("badge"))},null,8,["value","type","class"])):Ce("v-if",!0),M(_)?(se(),Me(M(Rt),{key:1,class:ge([M(s).e("icon"),M(x)])},{default:fe(()=>[(se(),Me(Nt(M(_))))]),_:1},8,["class"])):Ce("v-if",!0),Ae(I.$slots,"default",{},()=>[I.dangerouslyUseHTMLString?(se(),Se(At,{key:1},[Ce(" Caution here, message could've been compromised, never use user's input as message "),Pe("p",{class:ge(M(s).e("content")),innerHTML:I.message},null,10,Jv)],2112)):(se(),Se("p",{key:0,class:ge(M(s).e("content"))},at(I.message),3))]),I.showClose?(se(),Me(M(Rt),{key:2,class:ge(M(s).e("closeBtn")),onClick:yt(T,["stop"])},{default:fe(()=>[ye(M(i))]),_:1},8,["class","onClick"])):Ce("v-if",!0)],46,Wv),[[Yt,f.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Zv=nt(Xv,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let Qv=1;const Eu=e=>{const t=!e||Jt(e)||ji(e)||bt(e)?{message:e}:e,r={...Vt,...t};if(!r.appendTo)r.appendTo=document.body;else if(Jt(r.appendTo)){let i=document.querySelector(r.appendTo);Vn(i)||(i=document.body),r.appendTo=i}return r},ey=e=>{const t=cn.indexOf(e);if(t===-1)return;cn.splice(t,1);const{handler:r}=e;r.close()},ty=({appendTo:e,...t},r)=>{const i=`message_${Qv++}`,s=t.onClose,a=document.createElement("div"),l={...t,id:i,onClose:()=>{s==null||s(),ey(h)},onDestroy:()=>{Ci(null,a)}},c=ye(Zv,l,bt(l.message)||ji(l.message)?{default:bt(l.message)?l.message:()=>l.message}:null);c.appContext=r||vr._context,Ci(c,a),e.appendChild(a.firstElementChild);const d=c.component,h={id:i,vnode:c,vm:d,handler:{close:()=>{d.exposed.visible.value=!1}},props:c.component.props};return h},vr=(e={},t)=>{if(!_t)return{close:()=>{}};if(et(ks.max)&&cn.length>=ks.max)return{close:()=>{}};const r=Eu(e);if(r.grouping&&cn.length){const s=cn.find(({vnode:a})=>{var l;return((l=a.props)==null?void 0:l.message)===r.message});if(s)return s.props.repeatNum+=1,s.props.type=r.type,s.handler}const i=ty(r,t);return cn.push(i),i.handler};Mu.forEach(e=>{vr[e]=(t={},r)=>{const i=Eu(t);return vr({...i,type:e},r)}});function ny(e){for(const t of cn)(!e||e===t.props.type)&&t.handler.close()}vr.closeAll=ny;vr._context=null;const mn=md(vr,"$message"),ry=Re({name:"ElMessageBox",directives:{TrapFocus:jm},components:{ElButton:da,ElFocusTrap:la,ElInput:Wr,ElOverlay:yu,ElIcon:Rt,...wl},inheritAttrs:!1,props:{buttonSize:{type:String,validator:kl},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:r,zIndex:i,ns:s,size:a}=ia("message-box",Z(()=>e.buttonSize)),{t:l}=r,{nextZIndex:c}=i,d=pe(!1),f=Pn({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:c()}),h=Z(()=>{const J=f.type;return{[s.bm("icon",J)]:J&&Ei[J]}}),g=Qn(),w=Qn(),x=Z(()=>f.icon||Ei[f.type]||""),_=Z(()=>!!f.message),y=pe(),C=pe(),v=pe(),S=pe(),D=pe(),E=Z(()=>f.confirmButtonClass);Ie(()=>f.inputValue,async J=>{await Ke(),e.boxType==="prompt"&&J!==null&&re()},{immediate:!0}),Ie(()=>d.value,J=>{var ce,U;J&&(e.boxType!=="prompt"&&(f.autofocus?v.value=(U=(ce=D.value)==null?void 0:ce.$el)!=null?U:y.value:v.value=y.value),f.zIndex=c()),e.boxType==="prompt"&&(J?Ke().then(()=>{var Q;S.value&&S.value.$el&&(f.autofocus?v.value=(Q=te())!=null?Q:y.value:v.value=y.value)}):(f.editorErrorMessage="",f.validateError=!1))});const T=Z(()=>e.draggable);zl(y,C,T),xt(async()=>{await Ke(),e.closeOnHashChange&&window.addEventListener("hashchange",B)}),an(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",B)});function B(){d.value&&(d.value=!1,Ke(()=>{f.action&&t("action",f.action)}))}const I=()=>{e.closeOnClickModal&&Y(f.distinguishCancelAndClose?"close":"cancel")},H=na(I),ee=J=>{if(f.inputType!=="textarea")return J.preventDefault(),Y("confirm")},Y=J=>{var ce;e.boxType==="prompt"&&J==="confirm"&&!re()||(f.action=J,f.beforeClose?(ce=f.beforeClose)==null||ce.call(f,J,f,B):B())},re=()=>{if(e.boxType==="prompt"){const J=f.inputPattern;if(J&&!J.test(f.inputValue||""))return f.editorErrorMessage=f.inputErrorMessage||l("el.messagebox.error"),f.validateError=!0,!1;const ce=f.inputValidator;if(typeof ce=="function"){const U=ce(f.inputValue);if(U===!1)return f.editorErrorMessage=f.inputErrorMessage||l("el.messagebox.error"),f.validateError=!0,!1;if(typeof U=="string")return f.editorErrorMessage=U,f.validateError=!0,!1}}return f.editorErrorMessage="",f.validateError=!1,!0},te=()=>{const J=S.value.$refs;return J.input||J.textarea},K=()=>{Y("close")},ae=()=>{e.closeOnPressEscape&&K()};return e.lockScroll&&Fl(d),{...Hr(f),ns:s,overlayEvent:H,visible:d,hasMessage:_,typeClass:h,contentId:g,inputId:w,btnSize:a,iconComponent:x,confirmButtonClasses:E,rootRef:y,focusStartRef:v,headerRef:C,inputRef:S,confirmRef:D,doClose:B,handleClose:K,onCloseRequested:ae,handleWrapperClick:I,handleInputEnter:ee,handleAction:Y,t:l}}}),iy=["aria-label","aria-describedby"],oy=["aria-label"],ay=["id"];function sy(e,t,r,i,s,a){const l=Ut("el-icon"),c=Ut("close"),d=Ut("el-input"),f=Ut("el-button"),h=Ut("el-focus-trap"),g=Ut("el-overlay");return se(),Me(bn,{name:"fade-in-linear",onAfterLeave:t[11]||(t[11]=w=>e.$emit("vanish")),persisted:""},{default:fe(()=>[Lt(ye(g,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:fe(()=>[Pe("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:ge(`${e.ns.namespace.value}-overlay-message-box`),onClick:t[8]||(t[8]=(...w)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...w)),onMousedown:t[9]||(t[9]=(...w)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...w)),onMouseup:t[10]||(t[10]=(...w)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...w))},[ye(h,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:fe(()=>[Pe("div",{ref:"rootRef",class:ge([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:St(e.customStyle),tabindex:"-1",onClick:t[7]||(t[7]=yt(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(se(),Se("div",{key:0,ref:"headerRef",class:ge(e.ns.e("header"))},[Pe("div",{class:ge(e.ns.e("title"))},[e.iconComponent&&e.center?(se(),Me(l,{key:0,class:ge([e.ns.e("status"),e.typeClass])},{default:fe(()=>[(se(),Me(Nt(e.iconComponent)))]),_:1},8,["class"])):Ce("v-if",!0),Pe("span",null,at(e.title),1)],2),e.showClose?(se(),Se("button",{key:0,type:"button",class:ge(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:t[0]||(t[0]=w=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:t[1]||(t[1]=Ct(yt(w=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[ye(l,{class:ge(e.ns.e("close"))},{default:fe(()=>[ye(c)]),_:1},8,["class"])],42,oy)):Ce("v-if",!0)],2)):Ce("v-if",!0),Pe("div",{id:e.contentId,class:ge(e.ns.e("content"))},[Pe("div",{class:ge(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(se(),Me(l,{key:0,class:ge([e.ns.e("status"),e.typeClass])},{default:fe(()=>[(se(),Me(Nt(e.iconComponent)))]),_:1},8,["class"])):Ce("v-if",!0),e.hasMessage?(se(),Se("div",{key:1,class:ge(e.ns.e("message"))},[Ae(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(se(),Me(Nt(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(se(),Me(Nt(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:fe(()=>[vt(at(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):Ce("v-if",!0)],2),Lt(Pe("div",{class:ge(e.ns.e("input"))},[ye(d,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t[2]||(t[2]=w=>e.inputValue=w),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:ge({invalid:e.validateError}),onKeydown:Ct(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Pe("div",{class:ge(e.ns.e("errormsg")),style:St({visibility:e.editorErrorMessage?"visible":"hidden"})},at(e.editorErrorMessage),7)],2),[[Yt,e.showInput]])],10,ay),Pe("div",{class:ge(e.ns.e("btns"))},[e.showCancelButton?(se(),Me(f,{key:0,loading:e.cancelButtonLoading,class:ge([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t[3]||(t[3]=w=>e.handleAction("cancel")),onKeydown:t[4]||(t[4]=Ct(yt(w=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:fe(()=>[vt(at(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):Ce("v-if",!0),Lt(ye(f,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:ge([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t[5]||(t[5]=w=>e.handleAction("confirm")),onKeydown:t[6]||(t[6]=Ct(yt(w=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:fe(()=>[vt(at(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[Yt,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,iy)]),_:3},8,["z-index","overlay-class","mask"]),[[Yt,e.visible]])]),_:3})}var ly=nt(ry,[["render",sy],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const zr=new Map,uy=e=>{let t=document.body;return e.appendTo&&(Jt(e.appendTo)&&(t=document.querySelector(e.appendTo)),Vn(e.appendTo)&&(t=e.appendTo),Vn(t)||(t=document.body)),t},cy=(e,t,r=null)=>{const i=ye(ly,e,bt(e.message)||ji(e.message)?{default:bt(e.message)?e.message:()=>e.message}:null);return i.appContext=r,Ci(i,t),uy(e).appendChild(t.firstElementChild),i.component},dy=()=>document.createElement("div"),fy=(e,t)=>{const r=dy();e.onVanish=()=>{Ci(null,r),zr.delete(s)},e.onAction=a=>{const l=zr.get(s);let c;e.showInput?c={value:s.inputValue,action:a}:c=a,e.callback?e.callback(c,i.proxy):a==="cancel"||a==="close"?e.distinguishCancelAndClose&&a!=="cancel"?l.reject("close"):l.reject("cancel"):l.resolve(c)};const i=cy(e,r,t),s=i.proxy;for(const a in e)Qa(e,a)&&!Qa(s.$props,a)&&(s[a]=e[a]);return s.visible=!0,s};function Lr(e,t=null){if(!_t)return Promise.reject();let r;return Jt(e)||ji(e)?e={message:e}:r=e.callback,new Promise((i,s)=>{const a=fy(e,t??Lr._context);zr.set(a,{options:e,callback:r,resolve:i,reject:s})})}const py=["alert","confirm","prompt"],hy={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};py.forEach(e=>{Lr[e]=gy(e)});function gy(e){return(t,r,i,s)=>{let a="";return Qt(r)?(i=r,a=""):ur(r)?a="":a=r,Lr(Object.assign({title:a,message:t,type:"",...hy[e]},i,{boxType:e}),s)}}Lr.close=()=>{zr.forEach((e,t)=>{t.doClose()}),zr.clear()};Lr._context=null;const Nn=Lr;Nn.install=e=>{Nn._context=e._context,e.config.globalProperties.$msgbox=Nn,e.config.globalProperties.$messageBox=Nn,e.config.globalProperties.$alert=Nn.alert,e.config.globalProperties.$confirm=Nn.confirm,e.config.globalProperties.$prompt=Nn.prompt};const my=Nn;function Cu(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const r=e[t],i=typeof r;(i==="object"||i==="function")&&!Object.isFrozen(r)&&Cu(r)}),e}class Gs{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Su(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Fn(e,...t){const r=Object.create(null);for(const i in e)r[i]=e[i];return t.forEach(function(i){for(const s in i)r[s]=i[s]}),r}const vy="</span>",Hs=e=>!!e.scope,yy=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const r=e.split(".");return[`${t}${r.shift()}`,...r.map((i,s)=>`${i}${"_".repeat(s+1)}`)].join(" ")}return`${t}${e}`};class by{constructor(t,r){this.buffer="",this.classPrefix=r.classPrefix,t.walk(this)}addText(t){this.buffer+=Su(t)}openNode(t){if(!Hs(t))return;const r=yy(t.scope,{prefix:this.classPrefix});this.span(r)}closeNode(t){Hs(t)&&(this.buffer+=vy)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const Ks=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class pa{constructor(){this.rootNode=Ks(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const r=Ks({scope:t});this.add(r),this.stack.push(r)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,r){return typeof r=="string"?t.addText(r):r.children&&(t.openNode(r),r.children.forEach(i=>this._walk(t,i)),t.closeNode(r)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(r=>typeof r=="string")?t.children=[t.children.join("")]:t.children.forEach(r=>{pa._collapse(r)}))}}class _y extends pa{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,r){const i=t.root;r&&(i.scope=`language:${r}`),this.add(i)}toHTML(){return new by(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function jr(e){return e?typeof e=="string"?e:e.source:null}function xu(e){return er("(?=",e,")")}function Ly(e){return er("(?:",e,")*")}function ky(e){return er("(?:",e,")?")}function er(...e){return e.map(r=>jr(r)).join("")}function wy(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function ha(...e){return"("+(wy(e).capture?"":"?:")+e.map(i=>jr(i)).join("|")+")"}function Ou(e){return new RegExp(e.toString()+"|").exec("").length-1}function My(e,t){const r=e&&e.exec(t);return r&&r.index===0}const Ey=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function ga(e,{joinWith:t}){let r=0;return e.map(i=>{r+=1;const s=r;let a=jr(i),l="";for(;a.length>0;){const c=Ey.exec(a);if(!c){l+=a;break}l+=a.substring(0,c.index),a=a.substring(c.index+c[0].length),c[0][0]==="\\"&&c[1]?l+="\\"+String(Number(c[1])+s):(l+=c[0],c[0]==="("&&r++)}return l}).map(i=>`(${i})`).join(t)}const Cy=/\b\B/,Pu="[a-zA-Z]\\w*",ma="[a-zA-Z_]\\w*",Tu="\\b\\d+(\\.\\d+)?",Ru="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Bu="\\b(0b[01]+)",Sy="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",xy=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=er(t,/.*\b/,e.binary,/\b.*/)),Fn({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(r,i)=>{r.index!==0&&i.ignoreMatch()}},e)},Fr={begin:"\\\\[\\s\\S]",relevance:0},Oy={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Fr]},Py={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Fr]},Ty={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Ki=function(e,t,r={}){const i=Fn({scope:"comment",begin:e,end:t,contains:[]},r);i.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const s=ha("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return i.contains.push({begin:er(/[ ]+/,"(",s,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),i},Ry=Ki("//","$"),By=Ki("/\\*","\\*/"),Iy=Ki("#","$"),Dy={scope:"number",begin:Tu,relevance:0},Ay={scope:"number",begin:Ru,relevance:0},Ny={scope:"number",begin:Bu,relevance:0},zy={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Fr,{begin:/\[/,end:/\]/,relevance:0,contains:[Fr]}]},jy={scope:"title",begin:Pu,relevance:0},Fy={scope:"title",begin:ma,relevance:0},$y={begin:"\\.\\s*"+ma,relevance:0},Vy=function(e){return Object.assign(e,{"on:begin":(t,r)=>{r.data._beginMatch=t[1]},"on:end":(t,r)=>{r.data._beginMatch!==t[1]&&r.ignoreMatch()}})};var fi=Object.freeze({__proto__:null,APOS_STRING_MODE:Oy,BACKSLASH_ESCAPE:Fr,BINARY_NUMBER_MODE:Ny,BINARY_NUMBER_RE:Bu,COMMENT:Ki,C_BLOCK_COMMENT_MODE:By,C_LINE_COMMENT_MODE:Ry,C_NUMBER_MODE:Ay,C_NUMBER_RE:Ru,END_SAME_AS_BEGIN:Vy,HASH_COMMENT_MODE:Iy,IDENT_RE:Pu,MATCH_NOTHING_RE:Cy,METHOD_GUARD:$y,NUMBER_MODE:Dy,NUMBER_RE:Tu,PHRASAL_WORDS_MODE:Ty,QUOTE_STRING_MODE:Py,REGEXP_MODE:zy,RE_STARTERS_RE:Sy,SHEBANG:xy,TITLE_MODE:jy,UNDERSCORE_IDENT_RE:ma,UNDERSCORE_TITLE_MODE:Fy});function Uy(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function Gy(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function Hy(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=Uy,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function Ky(e,t){Array.isArray(e.illegal)&&(e.illegal=ha(...e.illegal))}function qy(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Wy(e,t){e.relevance===void 0&&(e.relevance=1)}const Jy=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const r=Object.assign({},e);Object.keys(e).forEach(i=>{delete e[i]}),e.keywords=r.keywords,e.begin=er(r.beforeMatch,xu(r.begin)),e.starts={relevance:0,contains:[Object.assign(r,{endsParent:!0})]},e.relevance=0,delete r.beforeMatch},Yy=["of","and","for","in","not","or","if","then","parent","list","value"],Xy="keyword";function Iu(e,t,r=Xy){const i=Object.create(null);return typeof e=="string"?s(r,e.split(" ")):Array.isArray(e)?s(r,e):Object.keys(e).forEach(function(a){Object.assign(i,Iu(e[a],t,a))}),i;function s(a,l){t&&(l=l.map(c=>c.toLowerCase())),l.forEach(function(c){const d=c.split("|");i[d[0]]=[a,Zy(d[0],d[1])]})}}function Zy(e,t){return t?Number(t):Qy(e)?0:1}function Qy(e){return Yy.includes(e.toLowerCase())}const qs={},Zn=e=>{console.error(e)},Ws=(e,...t)=>{console.log(`WARN: ${e}`,...t)},ir=(e,t)=>{qs[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),qs[`${e}/${t}`]=!0)},Pi=new Error;function Du(e,t,{key:r}){let i=0;const s=e[r],a={},l={};for(let c=1;c<=t.length;c++)l[c+i]=s[c],a[c+i]=!0,i+=Ou(t[c-1]);e[r]=l,e[r]._emit=a,e[r]._multi=!0}function eb(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Zn("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Pi;if(typeof e.beginScope!="object"||e.beginScope===null)throw Zn("beginScope must be object"),Pi;Du(e,e.begin,{key:"beginScope"}),e.begin=ga(e.begin,{joinWith:""})}}function tb(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Zn("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Pi;if(typeof e.endScope!="object"||e.endScope===null)throw Zn("endScope must be object"),Pi;Du(e,e.end,{key:"endScope"}),e.end=ga(e.end,{joinWith:""})}}function nb(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function rb(e){nb(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),eb(e),tb(e)}function ib(e){function t(l,c){return new RegExp(jr(l),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(c?"g":""))}class r{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(c,d){d.position=this.position++,this.matchIndexes[this.matchAt]=d,this.regexes.push([d,c]),this.matchAt+=Ou(c)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const c=this.regexes.map(d=>d[1]);this.matcherRe=t(ga(c,{joinWith:"|"}),!0),this.lastIndex=0}exec(c){this.matcherRe.lastIndex=this.lastIndex;const d=this.matcherRe.exec(c);if(!d)return null;const f=d.findIndex((g,w)=>w>0&&g!==void 0),h=this.matchIndexes[f];return d.splice(0,f),Object.assign(d,h)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(c){if(this.multiRegexes[c])return this.multiRegexes[c];const d=new r;return this.rules.slice(c).forEach(([f,h])=>d.addRule(f,h)),d.compile(),this.multiRegexes[c]=d,d}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(c,d){this.rules.push([c,d]),d.type==="begin"&&this.count++}exec(c){const d=this.getMatcher(this.regexIndex);d.lastIndex=this.lastIndex;let f=d.exec(c);if(this.resumingScanAtSamePosition()&&!(f&&f.index===this.lastIndex)){const h=this.getMatcher(0);h.lastIndex=this.lastIndex+1,f=h.exec(c)}return f&&(this.regexIndex+=f.position+1,this.regexIndex===this.count&&this.considerAll()),f}}function s(l){const c=new i;return l.contains.forEach(d=>c.addRule(d.begin,{rule:d,type:"begin"})),l.terminatorEnd&&c.addRule(l.terminatorEnd,{type:"end"}),l.illegal&&c.addRule(l.illegal,{type:"illegal"}),c}function a(l,c){const d=l;if(l.isCompiled)return d;[Gy,qy,rb,Jy].forEach(h=>h(l,c)),e.compilerExtensions.forEach(h=>h(l,c)),l.__beforeBegin=null,[Hy,Ky,Wy].forEach(h=>h(l,c)),l.isCompiled=!0;let f=null;return typeof l.keywords=="object"&&l.keywords.$pattern&&(l.keywords=Object.assign({},l.keywords),f=l.keywords.$pattern,delete l.keywords.$pattern),f=f||/\w+/,l.keywords&&(l.keywords=Iu(l.keywords,e.case_insensitive)),d.keywordPatternRe=t(f,!0),c&&(l.begin||(l.begin=/\B|\b/),d.beginRe=t(d.begin),!l.end&&!l.endsWithParent&&(l.end=/\B|\b/),l.end&&(d.endRe=t(d.end)),d.terminatorEnd=jr(d.end)||"",l.endsWithParent&&c.terminatorEnd&&(d.terminatorEnd+=(l.end?"|":"")+c.terminatorEnd)),l.illegal&&(d.illegalRe=t(l.illegal)),l.contains||(l.contains=[]),l.contains=[].concat(...l.contains.map(function(h){return ob(h==="self"?l:h)})),l.contains.forEach(function(h){a(h,d)}),l.starts&&a(l.starts,c),d.matcher=s(d),d}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Fn(e.classNameAliases||{}),a(e)}function Au(e){return e?e.endsWithParent||Au(e.starts):!1}function ob(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return Fn(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:Au(e)?Fn(e,{starts:e.starts?Fn(e.starts):null}):Object.isFrozen(e)?Fn(e):e}var ab="11.9.0";class sb extends Error{constructor(t,r){super(t),this.name="HTMLInjectionError",this.html=r}}const Lo=Su,Js=Fn,Ys=Symbol("nomatch"),lb=7,Nu=function(e){const t=Object.create(null),r=Object.create(null),i=[];let s=!0;const a="Could not find the language '{}', did you forget to load/include a language module?",l={disableAutodetect:!0,name:"Plain text",contains:[]};let c={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:_y};function d(U){return c.noHighlightRe.test(U)}function f(U){let Q=U.className+" ";Q+=U.parentNode?U.parentNode.className:"";const de=c.languageDetectRe.exec(Q);if(de){const we=ee(de[1]);return we||(Ws(a.replace("{}",de[1])),Ws("Falling back to no-highlight mode for this block.",U)),we?de[1]:"no-highlight"}return Q.split(/\s+/).find(we=>d(we)||ee(we))}function h(U,Q,de){let we="",ke="";typeof Q=="object"?(we=U,de=Q.ignoreIllegals,ke=Q.language):(ir("10.7.0","highlight(lang, code, ...args) has been deprecated."),ir("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),ke=U,we=Q),de===void 0&&(de=!0);const Ee={code:we,language:ke};J("before:highlight",Ee);const qe=Ee.result?Ee.result:g(Ee.language,Ee.code,de);return qe.code=Ee.code,J("after:highlight",qe),qe}function g(U,Q,de,we){const ke=Object.create(null);function Ee(G,ie){return G.keywords[ie]}function qe(){if(!R.keywords){k.addText(P);return}let G=0;R.keywordPatternRe.lastIndex=0;let ie=R.keywordPatternRe.exec(P),me="";for(;ie;){me+=P.substring(G,ie.index);const _e=Xe.case_insensitive?ie[0].toLowerCase():ie[0],Le=Ee(R,_e);if(Le){const[je,Fe]=Le;if(k.addText(me),me="",ke[_e]=(ke[_e]||0)+1,ke[_e]<=lb&&(j+=Fe),je.startsWith("_"))me+=ie[0];else{const He=Xe.classNameAliases[je]||je;Te(ie[0],He)}}else me+=ie[0];G=R.keywordPatternRe.lastIndex,ie=R.keywordPatternRe.exec(P)}me+=P.substring(G),k.addText(me)}function We(){if(P==="")return;let G=null;if(typeof R.subLanguage=="string"){if(!t[R.subLanguage]){k.addText(P);return}G=g(R.subLanguage,P,!0,b[R.subLanguage]),b[R.subLanguage]=G._top}else G=x(P,R.subLanguage.length?R.subLanguage:null);R.relevance>0&&(j+=G.relevance),k.__addSublanguage(G._emitter,G.language)}function $e(){R.subLanguage!=null?We():qe(),P=""}function Te(G,ie){G!==""&&(k.startScope(ie),k.addText(G),k.endScope())}function xe(G,ie){let me=1;const _e=ie.length-1;for(;me<=_e;){if(!G._emit[me]){me++;continue}const Le=Xe.classNameAliases[G[me]]||G[me],je=ie[me];Le?Te(je,Le):(P=je,qe(),P=""),me++}}function De(G,ie){return G.scope&&typeof G.scope=="string"&&k.openNode(Xe.classNameAliases[G.scope]||G.scope),G.beginScope&&(G.beginScope._wrap?(Te(P,Xe.classNameAliases[G.beginScope._wrap]||G.beginScope._wrap),P=""):G.beginScope._multi&&(xe(G.beginScope,ie),P="")),R=Object.create(G,{parent:{value:R}}),R}function wt(G,ie,me){let _e=My(G.endRe,me);if(_e){if(G["on:end"]){const Le=new Gs(G);G["on:end"](ie,Le),Le.isMatchIgnored&&(_e=!1)}if(_e){for(;G.endsParent&&G.parent;)G=G.parent;return G}}if(G.endsWithParent)return wt(G.parent,ie,me)}function st(G){return R.matcher.regexIndex===0?(P+=G[0],1):(X=!0,0)}function Ye(G){const ie=G[0],me=G.rule,_e=new Gs(me),Le=[me.__beforeBegin,me["on:begin"]];for(const je of Le)if(je&&(je(G,_e),_e.isMatchIgnored))return st(ie);return me.skip?P+=ie:(me.excludeBegin&&(P+=ie),$e(),!me.returnBegin&&!me.excludeBegin&&(P=ie)),De(me,G),me.returnBegin?0:ie.length}function Mt(G){const ie=G[0],me=Q.substring(G.index),_e=wt(R,G,me);if(!_e)return Ys;const Le=R;R.endScope&&R.endScope._wrap?($e(),Te(ie,R.endScope._wrap)):R.endScope&&R.endScope._multi?($e(),xe(R.endScope,G)):Le.skip?P+=ie:(Le.returnEnd||Le.excludeEnd||(P+=ie),$e(),Le.excludeEnd&&(P=ie));do R.scope&&k.closeNode(),!R.skip&&!R.subLanguage&&(j+=R.relevance),R=R.parent;while(R!==_e.parent);return _e.starts&&De(_e.starts,G),Le.returnEnd?0:ie.length}function pt(){const G=[];for(let ie=R;ie!==Xe;ie=ie.parent)ie.scope&&G.unshift(ie.scope);G.forEach(ie=>k.openNode(ie))}let Ue={};function ze(G,ie){const me=ie&&ie[0];if(P+=G,me==null)return $e(),0;if(Ue.type==="begin"&&ie.type==="end"&&Ue.index===ie.index&&me===""){if(P+=Q.slice(ie.index,ie.index+1),!s){const _e=new Error(`0 width match regex (${U})`);throw _e.languageName=U,_e.badRule=Ue.rule,_e}return 1}if(Ue=ie,ie.type==="begin")return Ye(ie);if(ie.type==="illegal"&&!de){const _e=new Error('Illegal lexeme "'+me+'" for mode "'+(R.scope||"<unnamed>")+'"');throw _e.mode=R,_e}else if(ie.type==="end"){const _e=Mt(ie);if(_e!==Ys)return _e}if(ie.type==="illegal"&&me==="")return 1;if(V>1e5&&V>ie.index*3)throw new Error("potential infinite loop, way more iterations than matches");return P+=me,me.length}const Xe=ee(U);if(!Xe)throw Zn(a.replace("{}",U)),new Error('Unknown language: "'+U+'"');const It=ib(Xe);let Et="",R=we||It;const b={},k=new c.__emitter(c);pt();let P="",j=0,F=0,V=0,X=!1;try{if(Xe.__emitTokens)Xe.__emitTokens(Q,k);else{for(R.matcher.considerAll();;){V++,X?X=!1:R.matcher.considerAll(),R.matcher.lastIndex=F;const G=R.matcher.exec(Q);if(!G)break;const ie=Q.substring(F,G.index),me=ze(ie,G);F=G.index+me}ze(Q.substring(F))}return k.finalize(),Et=k.toHTML(),{language:U,value:Et,relevance:j,illegal:!1,_emitter:k,_top:R}}catch(G){if(G.message&&G.message.includes("Illegal"))return{language:U,value:Lo(Q),illegal:!0,relevance:0,_illegalBy:{message:G.message,index:F,context:Q.slice(F-100,F+100),mode:G.mode,resultSoFar:Et},_emitter:k};if(s)return{language:U,value:Lo(Q),illegal:!1,relevance:0,errorRaised:G,_emitter:k,_top:R};throw G}}function w(U){const Q={value:Lo(U),illegal:!1,relevance:0,_top:l,_emitter:new c.__emitter(c)};return Q._emitter.addText(U),Q}function x(U,Q){Q=Q||c.languages||Object.keys(t);const de=w(U),we=Q.filter(ee).filter(re).map($e=>g($e,U,!1));we.unshift(de);const ke=we.sort(($e,Te)=>{if($e.relevance!==Te.relevance)return Te.relevance-$e.relevance;if($e.language&&Te.language){if(ee($e.language).supersetOf===Te.language)return 1;if(ee(Te.language).supersetOf===$e.language)return-1}return 0}),[Ee,qe]=ke,We=Ee;return We.secondBest=qe,We}function _(U,Q,de){const we=Q&&r[Q]||de;U.classList.add("hljs"),U.classList.add(`language-${we}`)}function y(U){let Q=null;const de=f(U);if(d(de))return;if(J("before:highlightElement",{el:U,language:de}),U.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",U);return}if(U.children.length>0&&(c.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(U)),c.throwUnescapedHTML))throw new sb("One of your code blocks includes unescaped HTML.",U.innerHTML);Q=U;const we=Q.textContent,ke=de?h(we,{language:de,ignoreIllegals:!0}):x(we);U.innerHTML=ke.value,U.dataset.highlighted="yes",_(U,de,ke.language),U.result={language:ke.language,re:ke.relevance,relevance:ke.relevance},ke.secondBest&&(U.secondBest={language:ke.secondBest.language,relevance:ke.secondBest.relevance}),J("after:highlightElement",{el:U,result:ke,text:we})}function C(U){c=Js(c,U)}const v=()=>{E(),ir("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function S(){E(),ir("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let D=!1;function E(){if(document.readyState==="loading"){D=!0;return}document.querySelectorAll(c.cssSelector).forEach(y)}function T(){D&&E()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",T,!1);function B(U,Q){let de=null;try{de=Q(e)}catch(we){if(Zn("Language definition for '{}' could not be registered.".replace("{}",U)),s)Zn(we);else throw we;de=l}de.name||(de.name=U),t[U]=de,de.rawDefinition=Q.bind(null,e),de.aliases&&Y(de.aliases,{languageName:U})}function I(U){delete t[U];for(const Q of Object.keys(r))r[Q]===U&&delete r[Q]}function H(){return Object.keys(t)}function ee(U){return U=(U||"").toLowerCase(),t[U]||t[r[U]]}function Y(U,{languageName:Q}){typeof U=="string"&&(U=[U]),U.forEach(de=>{r[de.toLowerCase()]=Q})}function re(U){const Q=ee(U);return Q&&!Q.disableAutodetect}function te(U){U["before:highlightBlock"]&&!U["before:highlightElement"]&&(U["before:highlightElement"]=Q=>{U["before:highlightBlock"](Object.assign({block:Q.el},Q))}),U["after:highlightBlock"]&&!U["after:highlightElement"]&&(U["after:highlightElement"]=Q=>{U["after:highlightBlock"](Object.assign({block:Q.el},Q))})}function K(U){te(U),i.push(U)}function ae(U){const Q=i.indexOf(U);Q!==-1&&i.splice(Q,1)}function J(U,Q){const de=U;i.forEach(function(we){we[de]&&we[de](Q)})}function ce(U){return ir("10.7.0","highlightBlock will be removed entirely in v12.0"),ir("10.7.0","Please use highlightElement now."),y(U)}Object.assign(e,{highlight:h,highlightAuto:x,highlightAll:E,highlightElement:y,highlightBlock:ce,configure:C,initHighlighting:v,initHighlightingOnLoad:S,registerLanguage:B,unregisterLanguage:I,listLanguages:H,getLanguage:ee,registerAliases:Y,autoDetection:re,inherit:Js,addPlugin:K,removePlugin:ae}),e.debugMode=function(){s=!1},e.safeMode=function(){s=!0},e.versionString=ab,e.regex={concat:er,lookahead:xu,either:ha,optional:ky,anyNumberOfTimes:Ly};for(const U in fi)typeof fi[U]=="object"&&Cu(fi[U]);return Object.assign(e,fi),e},yr=Nu({});yr.newInstance=()=>Nu({});var ub=yr;yr.HighlightJS=yr;yr.default=yr;const Xs=vd(ub);function cb(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},r={match:/[{}[\],:]/,className:"punctuation",relevance:0},i=["true","false","null"],s={scope:"literal",beginKeywords:i.join(" ")};return{name:"JSON",keywords:{literal:i},contains:[t,r,e.QUOTE_STRING_MODE,s,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function zu(e){return jd()?(El(e),!0):!1}function qi(e){return typeof e=="function"?e():M(e)}const va=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const db=Object.prototype.toString,fb=e=>db.call(e)==="[object Object]",pb=()=>{};function hb(e){let t;function r(){return t||(t=e()),t}return r.reset=async()=>{const i=t;t=void 0,i&&await i},r}function gb(e,t,r={}){const{immediate:i=!0}=r,s=pe(!1);let a=null;function l(){a&&(clearTimeout(a),a=null)}function c(){s.value=!1,l()}function d(...f){l(),s.value=!0,a=setTimeout(()=>{s.value=!1,a=null,e(...f)},qi(t))}return i&&(s.value=!0,va&&d()),zu(c),{isPending:Ol(s),start:d,stop:c}}function mb(e){var t;const r=qi(e);return(t=r==null?void 0:r.$el)!=null?t:r}const vb=va?window:void 0,ju=va?window.navigator:void 0;function Fu(...e){let t,r,i,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,i,s]=e,t=vb):[t,r,i,s]=e,!t)return pb;Array.isArray(r)||(r=[r]),Array.isArray(i)||(i=[i]);const a=[],l=()=>{a.forEach(h=>h()),a.length=0},c=(h,g,w,x)=>(h.addEventListener(g,w,x),()=>h.removeEventListener(g,w,x)),d=Ie(()=>[mb(t),qi(s)],([h,g])=>{if(l(),!h)return;const w=fb(g)?{...g}:g;a.push(...r.flatMap(x=>i.map(_=>c(h,x,_,w))))},{immediate:!0,flush:"post"}),f=()=>{d(),l()};return zu(f),f}function yb(){const e=pe(!1);return fn()&&xt(()=>{e.value=!0}),e}function $u(e){const t=yb();return Z(()=>(t.value,!!e()))}function Zs(e,t={}){const{controls:r=!1,navigator:i=ju}=t,s=$u(()=>i&&"permissions"in i);let a;const l=typeof e=="string"?{name:e}:e,c=pe(),d=()=>{a&&(c.value=a.state)},f=hb(async()=>{if(s.value){if(!a)try{a=await i.permissions.query(l),Fu(a,"change",d),d()}catch{c.value="prompt"}return a}});return f(),r?{state:c,isSupported:s,query:f}:c}function bb(e={}){const{navigator:t=ju,read:r=!1,source:i,copiedDuring:s=1500,legacy:a=!1}=e,l=$u(()=>t&&"clipboard"in t),c=Zs("clipboard-read"),d=Zs("clipboard-write"),f=Z(()=>l.value||a),h=pe(""),g=pe(!1),w=gb(()=>g.value=!1,s);function x(){l.value&&c.value!=="denied"?t.clipboard.readText().then(v=>{h.value=v}):h.value=C()}f.value&&r&&Fu(["copy","cut"],x);async function _(v=qi(i)){f.value&&v!=null&&(l.value&&d.value!=="denied"?await t.clipboard.writeText(v):y(v),h.value=v,g.value=!0,w.start())}function y(v){const S=document.createElement("textarea");S.value=v??"",S.style.position="absolute",S.style.opacity="0",document.body.appendChild(S),S.select(),document.execCommand("copy"),S.remove()}function C(){var v,S,D;return(D=(S=(v=document==null?void 0:document.getSelection)==null?void 0:v.call(document))==null?void 0:S.toString())!=null?D:""}return{isSupported:f,text:h,copied:g,copy:_}}const _b={"aria-hidden":"true",class:"icon-class"},Lb=["href"],kb=Re({__name:"index",props:{prefix:{type:String,default:"icon"},name:{required:!0},color:{type:String,default:"#ffffff"}},setup(e){const t=e,r=Z(()=>`#${t.prefix}-${t.name}`);return(i,s)=>(se(),Se("svg",_b,[Pe("use",{href:r.value},null,8,Lb)]))}}),wb=Pl(kb,[["__scopeId","data-v-cc209b6d"]]),Mb={class:"floor-panel"},Eb={class:"floor"},Cb=["onClick"],Sb={flex:"~ col",class:"absolute -bottom-150px right-0 left-0 ma w-30px h-60px bg-#fafafa rounded-4px items-center justify-center cursor-pointer shadow-up"},xb=Re({__name:"FloorPanel",setup(e){const t=En(),{currentFloor:r}=Tl(t),i=Z(()=>t.map),s=Z(()=>{var w,x;return((w=i.value)==null?void 0:w.getZoom())===((x=i.value)==null?void 0:x.getMaxZoom())}),a=Z(()=>{var w,x;return((w=i.value)==null?void 0:w.getZoom())===((x=i.value)==null?void 0:x.getMinZoom())}),l=pe([...ni].reverse());function c(w){r.value=w}function d(w){const _=r.value-w;r.value=_,_===-1?r.value=ni.length-1:_===l.value.length&&(r.value=0)}function f(){t.center?i.value.setView(t.center,i.value.getZoom()+1):i.value.zoomIn()}function h(){t.center?i.value.setView(t.center,i.value.getZoom()-1):i.value.zoomOut()}function g(){i.value.setZoom(1),i.value.setView([1074,498])}return(w,x)=>{const _=wb,y=Rt;return se(),Se("div",Mb,[Pe("div",Eb,[Pe("button",{class:"item",onClick:x[0]||(x[0]=C=>d(-1))},[ye(_,{name:"up",text:"18px"})]),(se(!0),Se(At,null,Or(M(l),(C,v)=>(se(),Se("button",{key:C,class:ge(["item",{active:M(ni).length-1-v==M(r)}]),onClick:S=>c(M(ni).length-1-v)},at(C),11,Cb))),128)),Pe("button",{class:"item",onClick:x[1]||(x[1]=C=>d(1))},[ye(_,{name:"up",class:"rotate-180",text:"18px"})])]),Pe("div",{class:"absolute -bottom-70px left-0 right-0 grid place-items-center ma bg-#fafafa w-30px h-30px rounded-4px cursor-pointer",text:"22px #999",hover:"opacity-70",onClick:g},[ye(_,{name:"locate-center"})]),Pe("div",Sb,[ye(y,{class:ge([{"opacity-70 cursor-default":M(s)},"border-b-1px border-#b3b3b3 border-b-dashed grow"]),onClick:f},{default:fe(()=>[ye(M(Ll))]),_:1},8,["class"]),ye(y,{class:ge([{"opacity-70 cursor-default":M(a)},"grow"]),onClick:h},{default:fe(()=>[ye(M(_l))]),_:1},8,["class"])])])}}}),Ob=Pl(xb,[["__scopeId","data-v-9bc14bc3"]]);var Qs={};(()=>{var e={9705:(i,s,a)=>{var l=a(1540);function c(d){var f=[1/0,1/0,-1/0,-1/0];return l.coordEach(d,function(h){f[0]>h[0]&&(f[0]=h[0]),f[1]>h[1]&&(f[1]=h[1]),f[2]<h[0]&&(f[2]=h[0]),f[3]<h[1]&&(f[3]=h[1])}),f}c.default=c,s.Z=c},4102:(i,s)=>{function a(v,S,D){D===void 0&&(D={});var E={type:"Feature"};return(D.id===0||D.id)&&(E.id=D.id),D.bbox&&(E.bbox=D.bbox),E.properties=S||{},E.geometry=v,E}function l(v,S,D){if(D===void 0&&(D={}),!v)throw new Error("coordinates is required");if(!Array.isArray(v))throw new Error("coordinates must be an Array");if(v.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!C(v[0])||!C(v[1]))throw new Error("coordinates must contain numbers");return a({type:"Point",coordinates:v},S,D)}function c(v,S,D){D===void 0&&(D={});for(var E=0,T=v;E<T.length;E++){var B=T[E];if(B.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var I=0;I<B[B.length-1].length;I++)if(B[B.length-1][I]!==B[0][I])throw new Error("First and last Position are not equivalent.")}return a({type:"Polygon",coordinates:v},S,D)}function d(v,S,D){if(D===void 0&&(D={}),v.length<2)throw new Error("coordinates must be an array of two or more positions");return a({type:"LineString",coordinates:v},S,D)}function f(v,S){S===void 0&&(S={});var D={type:"FeatureCollection"};return S.id&&(D.id=S.id),S.bbox&&(D.bbox=S.bbox),D.features=v,D}function h(v,S,D){return D===void 0&&(D={}),a({type:"MultiLineString",coordinates:v},S,D)}function g(v,S,D){return D===void 0&&(D={}),a({type:"MultiPoint",coordinates:v},S,D)}function w(v,S,D){return D===void 0&&(D={}),a({type:"MultiPolygon",coordinates:v},S,D)}function x(v,S){S===void 0&&(S="kilometers");var D=s.factors[S];if(!D)throw new Error(S+" units is invalid");return v*D}function _(v,S){S===void 0&&(S="kilometers");var D=s.factors[S];if(!D)throw new Error(S+" units is invalid");return v/D}function y(v){return 180*(v%(2*Math.PI))/Math.PI}function C(v){return!isNaN(v)&&v!==null&&!Array.isArray(v)}Object.defineProperty(s,"__esModule",{value:!0}),s.earthRadius=63710088e-1,s.factors={centimeters:100*s.earthRadius,centimetres:100*s.earthRadius,degrees:s.earthRadius/111325,feet:3.28084*s.earthRadius,inches:39.37*s.earthRadius,kilometers:s.earthRadius/1e3,kilometres:s.earthRadius/1e3,meters:s.earthRadius,metres:s.earthRadius,miles:s.earthRadius/1609.344,millimeters:1e3*s.earthRadius,millimetres:1e3*s.earthRadius,nauticalmiles:s.earthRadius/1852,radians:1,yards:1.0936*s.earthRadius},s.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/s.earthRadius,yards:1.0936133},s.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},s.feature=a,s.geometry=function(v,S,D){switch(v){case"Point":return l(S).geometry;case"LineString":return d(S).geometry;case"Polygon":return c(S).geometry;case"MultiPoint":return g(S).geometry;case"MultiLineString":return h(S).geometry;case"MultiPolygon":return w(S).geometry;default:throw new Error(v+" is invalid")}},s.point=l,s.points=function(v,S,D){return D===void 0&&(D={}),f(v.map(function(E){return l(E,S)}),D)},s.polygon=c,s.polygons=function(v,S,D){return D===void 0&&(D={}),f(v.map(function(E){return c(E,S)}),D)},s.lineString=d,s.lineStrings=function(v,S,D){return D===void 0&&(D={}),f(v.map(function(E){return d(E,S)}),D)},s.featureCollection=f,s.multiLineString=h,s.multiPoint=g,s.multiPolygon=w,s.geometryCollection=function(v,S,D){return D===void 0&&(D={}),a({type:"GeometryCollection",geometries:v},S,D)},s.round=function(v,S){if(S===void 0&&(S=0),S&&!(S>=0))throw new Error("precision must be a positive number");var D=Math.pow(10,S||0);return Math.round(v*D)/D},s.radiansToLength=x,s.lengthToRadians=_,s.lengthToDegrees=function(v,S){return y(_(v,S))},s.bearingToAzimuth=function(v){var S=v%360;return S<0&&(S+=360),S},s.radiansToDegrees=y,s.degreesToRadians=function(v){return v%360*Math.PI/180},s.convertLength=function(v,S,D){if(S===void 0&&(S="kilometers"),D===void 0&&(D="kilometers"),!(v>=0))throw new Error("length must be a positive number");return x(_(v,S),D)},s.convertArea=function(v,S,D){if(S===void 0&&(S="meters"),D===void 0&&(D="kilometers"),!(v>=0))throw new Error("area must be a positive number");var E=s.areaFactors[S];if(!E)throw new Error("invalid original units");var T=s.areaFactors[D];if(!T)throw new Error("invalid final units");return v/E*T},s.isNumber=C,s.isObject=function(v){return!!v&&v.constructor===Object},s.validateBBox=function(v){if(!v)throw new Error("bbox is required");if(!Array.isArray(v))throw new Error("bbox must be an Array");if(v.length!==4&&v.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");v.forEach(function(S){if(!C(S))throw new Error("bbox must only contain numbers")})},s.validateId=function(v){if(!v)throw new Error("id is required");if(["string","number"].indexOf(typeof v)===-1)throw new Error("id must be a number or a string")}},1540:(i,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0});var l=a(4102);function c(_,y,C){if(_!==null)for(var v,S,D,E,T,B,I,H,ee=0,Y=0,re=_.type,te=re==="FeatureCollection",K=re==="Feature",ae=te?_.features.length:1,J=0;J<ae;J++){T=(H=!!(I=te?_.features[J].geometry:K?_.geometry:_)&&I.type==="GeometryCollection")?I.geometries.length:1;for(var ce=0;ce<T;ce++){var U=0,Q=0;if((E=H?I.geometries[ce]:I)!==null){B=E.coordinates;var de=E.type;switch(ee=!C||de!=="Polygon"&&de!=="MultiPolygon"?0:1,de){case null:break;case"Point":if(y(B,Y,J,U,Q)===!1)return!1;Y++,U++;break;case"LineString":case"MultiPoint":for(v=0;v<B.length;v++){if(y(B[v],Y,J,U,Q)===!1)return!1;Y++,de==="MultiPoint"&&U++}de==="LineString"&&U++;break;case"Polygon":case"MultiLineString":for(v=0;v<B.length;v++){for(S=0;S<B[v].length-ee;S++){if(y(B[v][S],Y,J,U,Q)===!1)return!1;Y++}de==="MultiLineString"&&U++,de==="Polygon"&&Q++}de==="Polygon"&&U++;break;case"MultiPolygon":for(v=0;v<B.length;v++){for(Q=0,S=0;S<B[v].length;S++){for(D=0;D<B[v][S].length-ee;D++){if(y(B[v][S][D],Y,J,U,Q)===!1)return!1;Y++}Q++}U++}break;case"GeometryCollection":for(v=0;v<E.geometries.length;v++)if(c(E.geometries[v],y,C)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function d(_,y){var C;switch(_.type){case"FeatureCollection":for(C=0;C<_.features.length&&y(_.features[C].properties,C)!==!1;C++);break;case"Feature":y(_.properties,0)}}function f(_,y){if(_.type==="Feature")y(_,0);else if(_.type==="FeatureCollection")for(var C=0;C<_.features.length&&y(_.features[C],C)!==!1;C++);}function h(_,y){var C,v,S,D,E,T,B,I,H,ee,Y=0,re=_.type==="FeatureCollection",te=_.type==="Feature",K=re?_.features.length:1;for(C=0;C<K;C++){for(T=re?_.features[C].geometry:te?_.geometry:_,I=re?_.features[C].properties:te?_.properties:{},H=re?_.features[C].bbox:te?_.bbox:void 0,ee=re?_.features[C].id:te?_.id:void 0,E=(B=!!T&&T.type==="GeometryCollection")?T.geometries.length:1,S=0;S<E;S++)if((D=B?T.geometries[S]:T)!==null)switch(D.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(y(D,Y,I,H,ee)===!1)return!1;break;case"GeometryCollection":for(v=0;v<D.geometries.length;v++)if(y(D.geometries[v],Y,I,H,ee)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(y(null,Y,I,H,ee)===!1)return!1;Y++}}function g(_,y){h(_,function(C,v,S,D,E){var T,B=C===null?null:C.type;switch(B){case null:case"Point":case"LineString":case"Polygon":return y(l.feature(C,S,{bbox:D,id:E}),v,0)!==!1&&void 0}switch(B){case"MultiPoint":T="Point";break;case"MultiLineString":T="LineString";break;case"MultiPolygon":T="Polygon"}for(var I=0;I<C.coordinates.length;I++){var H={type:T,coordinates:C.coordinates[I]};if(y(l.feature(H,S),v,I)===!1)return!1}})}function w(_,y){g(_,function(C,v,S){var D=0;if(C.geometry){var E=C.geometry.type;if(E!=="Point"&&E!=="MultiPoint"){var T,B=0,I=0,H=0;return c(C,function(ee,Y,re,te,K){if(T===void 0||v>B||te>I||K>H)return T=ee,B=v,I=te,H=K,void(D=0);var ae=l.lineString([T,ee],C.properties);if(y(ae,v,S,K,D)===!1)return!1;D++,T=ee})!==!1&&void 0}}})}function x(_,y){if(!_)throw new Error("geojson is required");g(_,function(C,v,S){if(C.geometry!==null){var D=C.geometry.type,E=C.geometry.coordinates;switch(D){case"LineString":if(y(C,v,S,0,0)===!1)return!1;break;case"Polygon":for(var T=0;T<E.length;T++)if(y(l.lineString(E[T],C.properties),v,S,T)===!1)return!1}}})}s.coordAll=function(_){var y=[];return c(_,function(C){y.push(C)}),y},s.coordEach=c,s.coordReduce=function(_,y,C,v){var S=C;return c(_,function(D,E,T,B,I){S=E===0&&C===void 0?D:y(S,D,E,T,B,I)},v),S},s.featureEach=f,s.featureReduce=function(_,y,C){var v=C;return f(_,function(S,D){v=D===0&&C===void 0?S:y(v,S,D)}),v},s.findPoint=function(_,y){if(y=y||{},!l.isObject(y))throw new Error("options is invalid");var C,v=y.featureIndex||0,S=y.multiFeatureIndex||0,D=y.geometryIndex||0,E=y.coordIndex||0,T=y.properties;switch(_.type){case"FeatureCollection":v<0&&(v=_.features.length+v),T=T||_.features[v].properties,C=_.features[v].geometry;break;case"Feature":T=T||_.properties,C=_.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":C=_;break;default:throw new Error("geojson is invalid")}if(C===null)return null;var B=C.coordinates;switch(C.type){case"Point":return l.point(B,T,y);case"MultiPoint":return S<0&&(S=B.length+S),l.point(B[S],T,y);case"LineString":return E<0&&(E=B.length+E),l.point(B[E],T,y);case"Polygon":return D<0&&(D=B.length+D),E<0&&(E=B[D].length+E),l.point(B[D][E],T,y);case"MultiLineString":return S<0&&(S=B.length+S),E<0&&(E=B[S].length+E),l.point(B[S][E],T,y);case"MultiPolygon":return S<0&&(S=B.length+S),D<0&&(D=B[S].length+D),E<0&&(E=B[S][D].length-E),l.point(B[S][D][E],T,y)}throw new Error("geojson is invalid")},s.findSegment=function(_,y){if(y=y||{},!l.isObject(y))throw new Error("options is invalid");var C,v=y.featureIndex||0,S=y.multiFeatureIndex||0,D=y.geometryIndex||0,E=y.segmentIndex||0,T=y.properties;switch(_.type){case"FeatureCollection":v<0&&(v=_.features.length+v),T=T||_.features[v].properties,C=_.features[v].geometry;break;case"Feature":T=T||_.properties,C=_.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":C=_;break;default:throw new Error("geojson is invalid")}if(C===null)return null;var B=C.coordinates;switch(C.type){case"Point":case"MultiPoint":return null;case"LineString":return E<0&&(E=B.length+E-1),l.lineString([B[E],B[E+1]],T,y);case"Polygon":return D<0&&(D=B.length+D),E<0&&(E=B[D].length+E-1),l.lineString([B[D][E],B[D][E+1]],T,y);case"MultiLineString":return S<0&&(S=B.length+S),E<0&&(E=B[S].length+E-1),l.lineString([B[S][E],B[S][E+1]],T,y);case"MultiPolygon":return S<0&&(S=B.length+S),D<0&&(D=B[S].length+D),E<0&&(E=B[S][D].length-E-1),l.lineString([B[S][D][E],B[S][D][E+1]],T,y)}throw new Error("geojson is invalid")},s.flattenEach=g,s.flattenReduce=function(_,y,C){var v=C;return g(_,function(S,D,E){v=D===0&&E===0&&C===void 0?S:y(v,S,D,E)}),v},s.geomEach=h,s.geomReduce=function(_,y,C){var v=C;return h(_,function(S,D,E,T,B){v=D===0&&C===void 0?S:y(v,S,D,E,T,B)}),v},s.lineEach=x,s.lineReduce=function(_,y,C){var v=C;return x(_,function(S,D,E,T){v=D===0&&C===void 0?S:y(v,S,D,E,T)}),v},s.propEach=d,s.propReduce=function(_,y,C){var v=C;return d(_,function(S,D){v=D===0&&C===void 0?S:y(v,S,D)}),v},s.segmentEach=w,s.segmentReduce=function(_,y,C){var v=C,S=!1;return w(_,function(D,E,T,B,I){v=S===!1&&C===void 0?D:y(v,D,E,T,B,I),S=!0}),v}},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(i){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof i!="function")throw new TypeError("callback must be a function");for(var s=Object(this),a=s.length>>>0,l=arguments[1],c=0;c<a;c++)if(i.call(l,s[c],c,s))return c;return-1},Array.prototype.find=Array.prototype.find||function(i){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof i!="function")throw new TypeError("callback must be a function");for(var s=Object(this),a=s.length>>>0,l=arguments[1],c=0;c<a;c++){var d=s[c];if(i.call(l,d,c,s))return d}},typeof Object.assign!="function"&&(Object.assign=function(i){if(i==null)throw new TypeError("Cannot convert undefined or null to object");i=Object(i);for(var s=1;s<arguments.length;s++){var a=arguments[s];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])}return i}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(i){i.hasOwnProperty("remove")||Object.defineProperty(i,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(i,s){if(this==null)throw new TypeError('"this" is null or not defined');var a=Object(this),l=a.length>>>0;if(l===0)return!1;for(var c,d,f=0|s,h=Math.max(f>=0?f:l-Math.abs(f),0);h<l;){if((c=a[h])===(d=i)||typeof c=="number"&&typeof d=="number"&&isNaN(c)&&isNaN(d))return!0;h++}return!1}})},1787:(i,s,a)=>{var l=a(2582),c=a(4102),d=a(1540),f=a(9705).Z,h=d.featureEach,g=(d.coordEach,c.polygon,c.featureCollection);function w(x){var _=new l(x);return _.insert=function(y){if(y.type!=="Feature")throw new Error("invalid feature");return y.bbox=y.bbox?y.bbox:f(y),l.prototype.insert.call(this,y)},_.load=function(y){var C=[];return Array.isArray(y)?y.forEach(function(v){if(v.type!=="Feature")throw new Error("invalid features");v.bbox=v.bbox?v.bbox:f(v),C.push(v)}):h(y,function(v){if(v.type!=="Feature")throw new Error("invalid features");v.bbox=v.bbox?v.bbox:f(v),C.push(v)}),l.prototype.load.call(this,C)},_.remove=function(y,C){if(y.type!=="Feature")throw new Error("invalid feature");return y.bbox=y.bbox?y.bbox:f(y),l.prototype.remove.call(this,y,C)},_.clear=function(){return l.prototype.clear.call(this)},_.search=function(y){var C=l.prototype.search.call(this,this.toBBox(y));return g(C)},_.collides=function(y){return l.prototype.collides.call(this,this.toBBox(y))},_.all=function(){var y=l.prototype.all.call(this);return g(y)},_.toJSON=function(){return l.prototype.toJSON.call(this)},_.fromJSON=function(y){return l.prototype.fromJSON.call(this,y)},_.toBBox=function(y){var C;if(y.bbox)C=y.bbox;else if(Array.isArray(y)&&y.length===4)C=y;else if(Array.isArray(y)&&y.length===6)C=[y[0],y[1],y[3],y[4]];else if(y.type==="Feature")C=f(y);else{if(y.type!=="FeatureCollection")throw new Error("invalid geojson");C=f(y)}return{minX:C[0],minY:C[1],maxX:C[2],maxY:C[3]}},_}i.exports=w,i.exports.default=w},1989:(i,s,a)=>{var l=a(1789),c=a(401),d=a(7667),f=a(1327),h=a(1866);function g(w){var x=-1,_=w==null?0:w.length;for(this.clear();++x<_;){var y=w[x];this.set(y[0],y[1])}}g.prototype.clear=l,g.prototype.delete=c,g.prototype.get=d,g.prototype.has=f,g.prototype.set=h,i.exports=g},8407:(i,s,a)=>{var l=a(7040),c=a(4125),d=a(2117),f=a(7518),h=a(4705);function g(w){var x=-1,_=w==null?0:w.length;for(this.clear();++x<_;){var y=w[x];this.set(y[0],y[1])}}g.prototype.clear=l,g.prototype.delete=c,g.prototype.get=d,g.prototype.has=f,g.prototype.set=h,i.exports=g},7071:(i,s,a)=>{var l=a(852)(a(5639),"Map");i.exports=l},3369:(i,s,a)=>{var l=a(4785),c=a(1285),d=a(6e3),f=a(9916),h=a(5265);function g(w){var x=-1,_=w==null?0:w.length;for(this.clear();++x<_;){var y=w[x];this.set(y[0],y[1])}}g.prototype.clear=l,g.prototype.delete=c,g.prototype.get=d,g.prototype.has=f,g.prototype.set=h,i.exports=g},6384:(i,s,a)=>{var l=a(8407),c=a(7465),d=a(3779),f=a(7599),h=a(4758),g=a(4309);function w(x){var _=this.__data__=new l(x);this.size=_.size}w.prototype.clear=c,w.prototype.delete=d,w.prototype.get=f,w.prototype.has=h,w.prototype.set=g,i.exports=w},2705:(i,s,a)=>{var l=a(5639).Symbol;i.exports=l},1149:(i,s,a)=>{var l=a(5639).Uint8Array;i.exports=l},6874:i=>{i.exports=function(s,a,l){switch(l.length){case 0:return s.call(a);case 1:return s.call(a,l[0]);case 2:return s.call(a,l[0],l[1]);case 3:return s.call(a,l[0],l[1],l[2])}return s.apply(a,l)}},4636:(i,s,a)=>{var l=a(2545),c=a(5694),d=a(1469),f=a(4144),h=a(5776),g=a(6719),w=Object.prototype.hasOwnProperty;i.exports=function(x,_){var y=d(x),C=!y&&c(x),v=!y&&!C&&f(x),S=!y&&!C&&!v&&g(x),D=y||C||v||S,E=D?l(x.length,String):[],T=E.length;for(var B in x)!_&&!w.call(x,B)||D&&(B=="length"||v&&(B=="offset"||B=="parent")||S&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||h(B,T))||E.push(B);return E}},9932:i=>{i.exports=function(s,a){for(var l=-1,c=s==null?0:s.length,d=Array(c);++l<c;)d[l]=a(s[l],l,s);return d}},6556:(i,s,a)=>{var l=a(9465),c=a(7813);i.exports=function(d,f,h){(h!==void 0&&!c(d[f],h)||h===void 0&&!(f in d))&&l(d,f,h)}},4865:(i,s,a)=>{var l=a(9465),c=a(7813),d=Object.prototype.hasOwnProperty;i.exports=function(f,h,g){var w=f[h];d.call(f,h)&&c(w,g)&&(g!==void 0||h in f)||l(f,h,g)}},8470:(i,s,a)=>{var l=a(7813);i.exports=function(c,d){for(var f=c.length;f--;)if(l(c[f][0],d))return f;return-1}},9465:(i,s,a)=>{var l=a(8777);i.exports=function(c,d,f){d=="__proto__"&&l?l(c,d,{configurable:!0,enumerable:!0,value:f,writable:!0}):c[d]=f}},3118:(i,s,a)=>{var l=a(3218),c=Object.create,d=function(){function f(){}return function(h){if(!l(h))return{};if(c)return c(h);f.prototype=h;var g=new f;return f.prototype=void 0,g}}();i.exports=d},8483:(i,s,a)=>{var l=a(5063)();i.exports=l},7786:(i,s,a)=>{var l=a(1811),c=a(327);i.exports=function(d,f){for(var h=0,g=(f=l(f,d)).length;d!=null&&h<g;)d=d[c(f[h++])];return h&&h==g?d:void 0}},4239:(i,s,a)=>{var l=a(2705),c=a(9607),d=a(2333),f=l?l.toStringTag:void 0;i.exports=function(h){return h==null?h===void 0?"[object Undefined]":"[object Null]":f&&f in Object(h)?c(h):d(h)}},8565:i=>{var s=Object.prototype.hasOwnProperty;i.exports=function(a,l){return a!=null&&s.call(a,l)}},9454:(i,s,a)=>{var l=a(4239),c=a(7005);i.exports=function(d){return c(d)&&l(d)=="[object Arguments]"}},8458:(i,s,a)=>{var l=a(3560),c=a(5346),d=a(3218),f=a(346),h=/^\[object .+?Constructor\]$/,g=Function.prototype,w=Object.prototype,x=g.toString,_=w.hasOwnProperty,y=RegExp("^"+x.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");i.exports=function(C){return!(!d(C)||c(C))&&(l(C)?y:h).test(f(C))}},8749:(i,s,a)=>{var l=a(4239),c=a(1780),d=a(7005),f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1,i.exports=function(h){return d(h)&&c(h.length)&&!!f[l(h)]}},313:(i,s,a)=>{var l=a(3218),c=a(5726),d=a(3498),f=Object.prototype.hasOwnProperty;i.exports=function(h){if(!l(h))return d(h);var g=c(h),w=[];for(var x in h)(x!="constructor"||!g&&f.call(h,x))&&w.push(x);return w}},2980:(i,s,a)=>{var l=a(6384),c=a(6556),d=a(8483),f=a(9783),h=a(3218),g=a(1704),w=a(6390);i.exports=function x(_,y,C,v,S){_!==y&&d(y,function(D,E){if(S||(S=new l),h(D))f(_,y,E,C,x,v,S);else{var T=v?v(w(_,E),D,E+"",_,y,S):void 0;T===void 0&&(T=D),c(_,E,T)}},g)}},9783:(i,s,a)=>{var l=a(6556),c=a(4626),d=a(7133),f=a(278),h=a(8517),g=a(5694),w=a(1469),x=a(9246),_=a(4144),y=a(3560),C=a(3218),v=a(8630),S=a(6719),D=a(6390),E=a(9881);i.exports=function(T,B,I,H,ee,Y,re){var te=D(T,I),K=D(B,I),ae=re.get(K);if(ae)l(T,I,ae);else{var J=Y?Y(te,K,I+"",T,B,re):void 0,ce=J===void 0;if(ce){var U=w(K),Q=!U&&_(K),de=!U&&!Q&&S(K);J=K,U||Q||de?w(te)?J=te:x(te)?J=f(te):Q?(ce=!1,J=c(K,!0)):de?(ce=!1,J=d(K,!0)):J=[]:v(K)||g(K)?(J=te,g(te)?J=E(te):C(te)&&!y(te)||(J=h(K))):ce=!1}ce&&(re.set(K,J),ee(J,K,H,Y,re),re.delete(K)),l(T,I,J)}}},5976:(i,s,a)=>{var l=a(6557),c=a(5357),d=a(61);i.exports=function(f,h){return d(c(f,h,l),f+"")}},6560:(i,s,a)=>{var l=a(5703),c=a(8777),d=a(6557),f=c?function(h,g){return c(h,"toString",{configurable:!0,enumerable:!1,value:l(g),writable:!0})}:d;i.exports=f},2545:i=>{i.exports=function(s,a){for(var l=-1,c=Array(s);++l<s;)c[l]=a(l);return c}},531:(i,s,a)=>{var l=a(2705),c=a(9932),d=a(1469),f=a(3448),h=l?l.prototype:void 0,g=h?h.toString:void 0;i.exports=function w(x){if(typeof x=="string")return x;if(d(x))return c(x,w)+"";if(f(x))return g?g.call(x):"";var _=x+"";return _=="0"&&1/x==-1/0?"-0":_}},1717:i=>{i.exports=function(s){return function(a){return s(a)}}},1811:(i,s,a)=>{var l=a(1469),c=a(5403),d=a(5514),f=a(9833);i.exports=function(h,g){return l(h)?h:c(h,g)?[h]:d(f(h))}},4318:(i,s,a)=>{var l=a(1149);i.exports=function(c){var d=new c.constructor(c.byteLength);return new l(d).set(new l(c)),d}},4626:(i,s,a)=>{i=a.nmd(i);var l=a(5639),c=s&&!s.nodeType&&s,d=c&&i&&!i.nodeType&&i,f=d&&d.exports===c?l.Buffer:void 0,h=f?f.allocUnsafe:void 0;i.exports=function(g,w){if(w)return g.slice();var x=g.length,_=h?h(x):new g.constructor(x);return g.copy(_),_}},7133:(i,s,a)=>{var l=a(4318);i.exports=function(c,d){var f=d?l(c.buffer):c.buffer;return new c.constructor(f,c.byteOffset,c.length)}},278:i=>{i.exports=function(s,a){var l=-1,c=s.length;for(a||(a=Array(c));++l<c;)a[l]=s[l];return a}},8363:(i,s,a)=>{var l=a(4865),c=a(9465);i.exports=function(d,f,h,g){var w=!h;h||(h={});for(var x=-1,_=f.length;++x<_;){var y=f[x],C=g?g(h[y],d[y],y,h,d):void 0;C===void 0&&(C=d[y]),w?c(h,y,C):l(h,y,C)}return h}},4429:(i,s,a)=>{var l=a(5639)["__core-js_shared__"];i.exports=l},1463:(i,s,a)=>{var l=a(5976),c=a(6612);i.exports=function(d){return l(function(f,h){var g=-1,w=h.length,x=w>1?h[w-1]:void 0,_=w>2?h[2]:void 0;for(x=d.length>3&&typeof x=="function"?(w--,x):void 0,_&&c(h[0],h[1],_)&&(x=w<3?void 0:x,w=1),f=Object(f);++g<w;){var y=h[g];y&&d(f,y,g,x)}return f})}},5063:i=>{i.exports=function(s){return function(a,l,c){for(var d=-1,f=Object(a),h=c(a),g=h.length;g--;){var w=h[s?g:++d];if(l(f[w],w,f)===!1)break}return a}}},8777:(i,s,a)=>{var l=a(852),c=function(){try{var d=l(Object,"defineProperty");return d({},"",{}),d}catch{}}();i.exports=c},1957:(i,s,a)=>{var l=typeof a.g=="object"&&a.g&&a.g.Object===Object&&a.g;i.exports=l},5050:(i,s,a)=>{var l=a(7019);i.exports=function(c,d){var f=c.__data__;return l(d)?f[typeof d=="string"?"string":"hash"]:f.map}},852:(i,s,a)=>{var l=a(8458),c=a(7801);i.exports=function(d,f){var h=c(d,f);return l(h)?h:void 0}},5924:(i,s,a)=>{var l=a(5569)(Object.getPrototypeOf,Object);i.exports=l},9607:(i,s,a)=>{var l=a(2705),c=Object.prototype,d=c.hasOwnProperty,f=c.toString,h=l?l.toStringTag:void 0;i.exports=function(g){var w=d.call(g,h),x=g[h];try{g[h]=void 0;var _=!0}catch{}var y=f.call(g);return _&&(w?g[h]=x:delete g[h]),y}},7801:i=>{i.exports=function(s,a){return s==null?void 0:s[a]}},222:(i,s,a)=>{var l=a(1811),c=a(5694),d=a(1469),f=a(5776),h=a(1780),g=a(327);i.exports=function(w,x,_){for(var y=-1,C=(x=l(x,w)).length,v=!1;++y<C;){var S=g(x[y]);if(!(v=w!=null&&_(w,S)))break;w=w[S]}return v||++y!=C?v:!!(C=w==null?0:w.length)&&h(C)&&f(S,C)&&(d(w)||c(w))}},1789:(i,s,a)=>{var l=a(4536);i.exports=function(){this.__data__=l?l(null):{},this.size=0}},401:i=>{i.exports=function(s){var a=this.has(s)&&delete this.__data__[s];return this.size-=a?1:0,a}},7667:(i,s,a)=>{var l=a(4536),c=Object.prototype.hasOwnProperty;i.exports=function(d){var f=this.__data__;if(l){var h=f[d];return h==="__lodash_hash_undefined__"?void 0:h}return c.call(f,d)?f[d]:void 0}},1327:(i,s,a)=>{var l=a(4536),c=Object.prototype.hasOwnProperty;i.exports=function(d){var f=this.__data__;return l?f[d]!==void 0:c.call(f,d)}},1866:(i,s,a)=>{var l=a(4536);i.exports=function(c,d){var f=this.__data__;return this.size+=this.has(c)?0:1,f[c]=l&&d===void 0?"__lodash_hash_undefined__":d,this}},8517:(i,s,a)=>{var l=a(3118),c=a(5924),d=a(5726);i.exports=function(f){return typeof f.constructor!="function"||d(f)?{}:l(c(f))}},5776:i=>{var s=/^(?:0|[1-9]\d*)$/;i.exports=function(a,l){var c=typeof a;return!!(l=l??9007199254740991)&&(c=="number"||c!="symbol"&&s.test(a))&&a>-1&&a%1==0&&a<l}},6612:(i,s,a)=>{var l=a(7813),c=a(8612),d=a(5776),f=a(3218);i.exports=function(h,g,w){if(!f(w))return!1;var x=typeof g;return!!(x=="number"?c(w)&&d(g,w.length):x=="string"&&g in w)&&l(w[g],h)}},5403:(i,s,a)=>{var l=a(1469),c=a(3448),d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/;i.exports=function(h,g){if(l(h))return!1;var w=typeof h;return!(w!="number"&&w!="symbol"&&w!="boolean"&&h!=null&&!c(h))||f.test(h)||!d.test(h)||g!=null&&h in Object(g)}},7019:i=>{i.exports=function(s){var a=typeof s;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?s!=="__proto__":s===null}},5346:(i,s,a)=>{var l,c=a(4429),d=(l=/[^.]+$/.exec(c&&c.keys&&c.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"";i.exports=function(f){return!!d&&d in f}},5726:i=>{var s=Object.prototype;i.exports=function(a){var l=a&&a.constructor;return a===(typeof l=="function"&&l.prototype||s)}},7040:i=>{i.exports=function(){this.__data__=[],this.size=0}},4125:(i,s,a)=>{var l=a(8470),c=Array.prototype.splice;i.exports=function(d){var f=this.__data__,h=l(f,d);return!(h<0)&&(h==f.length-1?f.pop():c.call(f,h,1),--this.size,!0)}},2117:(i,s,a)=>{var l=a(8470);i.exports=function(c){var d=this.__data__,f=l(d,c);return f<0?void 0:d[f][1]}},7518:(i,s,a)=>{var l=a(8470);i.exports=function(c){return l(this.__data__,c)>-1}},4705:(i,s,a)=>{var l=a(8470);i.exports=function(c,d){var f=this.__data__,h=l(f,c);return h<0?(++this.size,f.push([c,d])):f[h][1]=d,this}},4785:(i,s,a)=>{var l=a(1989),c=a(8407),d=a(7071);i.exports=function(){this.size=0,this.__data__={hash:new l,map:new(d||c),string:new l}}},1285:(i,s,a)=>{var l=a(5050);i.exports=function(c){var d=l(this,c).delete(c);return this.size-=d?1:0,d}},6e3:(i,s,a)=>{var l=a(5050);i.exports=function(c){return l(this,c).get(c)}},9916:(i,s,a)=>{var l=a(5050);i.exports=function(c){return l(this,c).has(c)}},5265:(i,s,a)=>{var l=a(5050);i.exports=function(c,d){var f=l(this,c),h=f.size;return f.set(c,d),this.size+=f.size==h?0:1,this}},4523:(i,s,a)=>{var l=a(8306);i.exports=function(c){var d=l(c,function(h){return f.size===500&&f.clear(),h}),f=d.cache;return d}},4536:(i,s,a)=>{var l=a(852)(Object,"create");i.exports=l},3498:i=>{i.exports=function(s){var a=[];if(s!=null)for(var l in Object(s))a.push(l);return a}},1167:(i,s,a)=>{i=a.nmd(i);var l=a(1957),c=s&&!s.nodeType&&s,d=c&&i&&!i.nodeType&&i,f=d&&d.exports===c&&l.process,h=function(){try{var g=d&&d.require&&d.require("util").types;return g||f&&f.binding&&f.binding("util")}catch{}}();i.exports=h},2333:i=>{var s=Object.prototype.toString;i.exports=function(a){return s.call(a)}},5569:i=>{i.exports=function(s,a){return function(l){return s(a(l))}}},5357:(i,s,a)=>{var l=a(6874),c=Math.max;i.exports=function(d,f,h){return f=c(f===void 0?d.length-1:f,0),function(){for(var g=arguments,w=-1,x=c(g.length-f,0),_=Array(x);++w<x;)_[w]=g[f+w];w=-1;for(var y=Array(f+1);++w<f;)y[w]=g[w];return y[f]=h(_),l(d,this,y)}}},5639:(i,s,a)=>{var l=a(1957),c=typeof self=="object"&&self&&self.Object===Object&&self,d=l||c||Function("return this")();i.exports=d},6390:i=>{i.exports=function(s,a){if((a!=="constructor"||typeof s[a]!="function")&&a!="__proto__")return s[a]}},61:(i,s,a)=>{var l=a(6560),c=a(1275)(l);i.exports=c},1275:i=>{var s=Date.now;i.exports=function(a){var l=0,c=0;return function(){var d=s(),f=16-(d-c);if(c=d,f>0){if(++l>=800)return arguments[0]}else l=0;return a.apply(void 0,arguments)}}},7465:(i,s,a)=>{var l=a(8407);i.exports=function(){this.__data__=new l,this.size=0}},3779:i=>{i.exports=function(s){var a=this.__data__,l=a.delete(s);return this.size=a.size,l}},7599:i=>{i.exports=function(s){return this.__data__.get(s)}},4758:i=>{i.exports=function(s){return this.__data__.has(s)}},4309:(i,s,a)=>{var l=a(8407),c=a(7071),d=a(3369);i.exports=function(f,h){var g=this.__data__;if(g instanceof l){var w=g.__data__;if(!c||w.length<199)return w.push([f,h]),this.size=++g.size,this;g=this.__data__=new d(w)}return g.set(f,h),this.size=g.size,this}},5514:(i,s,a)=>{var l=a(4523),c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,f=l(function(h){var g=[];return h.charCodeAt(0)===46&&g.push(""),h.replace(c,function(w,x,_,y){g.push(_?y.replace(d,"$1"):x||w)}),g});i.exports=f},327:(i,s,a)=>{var l=a(3448);i.exports=function(c){if(typeof c=="string"||l(c))return c;var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}},346:i=>{var s=Function.prototype.toString;i.exports=function(a){if(a!=null){try{return s.call(a)}catch{}try{return a+""}catch{}}return""}},5703:i=>{i.exports=function(s){return function(){return s}}},7813:i=>{i.exports=function(s,a){return s===a||s!=s&&a!=a}},7361:(i,s,a)=>{var l=a(7786);i.exports=function(c,d,f){var h=c==null?void 0:l(c,d);return h===void 0?f:h}},8721:(i,s,a)=>{var l=a(8565),c=a(222);i.exports=function(d,f){return d!=null&&c(d,f,l)}},6557:i=>{i.exports=function(s){return s}},5694:(i,s,a)=>{var l=a(9454),c=a(7005),d=Object.prototype,f=d.hasOwnProperty,h=d.propertyIsEnumerable,g=l(function(){return arguments}())?l:function(w){return c(w)&&f.call(w,"callee")&&!h.call(w,"callee")};i.exports=g},1469:i=>{var s=Array.isArray;i.exports=s},8612:(i,s,a)=>{var l=a(3560),c=a(1780);i.exports=function(d){return d!=null&&c(d.length)&&!l(d)}},9246:(i,s,a)=>{var l=a(8612),c=a(7005);i.exports=function(d){return c(d)&&l(d)}},4144:(i,s,a)=>{i=a.nmd(i);var l=a(5639),c=a(5062),d=s&&!s.nodeType&&s,f=d&&i&&!i.nodeType&&i,h=f&&f.exports===d?l.Buffer:void 0,g=(h?h.isBuffer:void 0)||c;i.exports=g},3560:(i,s,a)=>{var l=a(4239),c=a(3218);i.exports=function(d){if(!c(d))return!1;var f=l(d);return f=="[object Function]"||f=="[object GeneratorFunction]"||f=="[object AsyncFunction]"||f=="[object Proxy]"}},1780:i=>{i.exports=function(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=9007199254740991}},3218:i=>{i.exports=function(s){var a=typeof s;return s!=null&&(a=="object"||a=="function")}},7005:i=>{i.exports=function(s){return s!=null&&typeof s=="object"}},8630:(i,s,a)=>{var l=a(4239),c=a(5924),d=a(7005),f=Function.prototype,h=Object.prototype,g=f.toString,w=h.hasOwnProperty,x=g.call(Object);i.exports=function(_){if(!d(_)||l(_)!="[object Object]")return!1;var y=c(_);if(y===null)return!0;var C=w.call(y,"constructor")&&y.constructor;return typeof C=="function"&&C instanceof C&&g.call(C)==x}},3448:(i,s,a)=>{var l=a(4239),c=a(7005);i.exports=function(d){return typeof d=="symbol"||c(d)&&l(d)=="[object Symbol]"}},6719:(i,s,a)=>{var l=a(8749),c=a(1717),d=a(1167),f=d&&d.isTypedArray,h=f?c(f):l;i.exports=h},1704:(i,s,a)=>{var l=a(4636),c=a(313),d=a(8612);i.exports=function(f){return d(f)?l(f,!0):c(f)}},8306:(i,s,a)=>{var l=a(3369);function c(d,f){if(typeof d!="function"||f!=null&&typeof f!="function")throw new TypeError("Expected a function");var h=function(){var g=arguments,w=f?f.apply(this,g):g[0],x=h.cache;if(x.has(w))return x.get(w);var _=d.apply(this,g);return h.cache=x.set(w,_)||x,_};return h.cache=new(c.Cache||l),h}c.Cache=l,i.exports=c},2492:(i,s,a)=>{var l=a(2980),c=a(1463)(function(d,f,h){l(d,f,h)});i.exports=c},5062:i=>{i.exports=function(){return!1}},9881:(i,s,a)=>{var l=a(8363),c=a(1704);i.exports=function(d){return l(d,c(d))}},9833:(i,s,a)=>{var l=a(531);i.exports=function(c){return c==null?"":l(c)}},2676:function(i){i.exports=function(){function s(R,b){if(!(R instanceof b))throw new TypeError("Cannot call a class as a function")}function a(R,b){for(var k=0;k<b.length;k++){var P=b[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(R,P.key,P)}}function l(R,b,k){return b&&a(R.prototype,b),k&&a(R,k),R}var c=function(){function R(b,k){this.next=null,this.key=b,this.data=k,this.left=null,this.right=null}return R}();function d(R,b){return R>b?1:R<b?-1:0}function f(R,b,k){for(var P=new c(null,null),j=P,F=P;;){var V=k(R,b.key);if(V<0){if(b.left===null)break;if(k(R,b.left.key)<0){var X=b.left;if(b.left=X.right,X.right=b,(b=X).left===null)break}F.left=b,F=b,b=b.left}else{if(!(V>0)||b.right===null||k(R,b.right.key)>0&&(X=b.right,b.right=X.left,X.left=b,(b=X).right===null))break;j.right=b,j=b,b=b.right}}return j.right=b.left,F.left=b.right,b.left=P.right,b.right=P.left,b}function h(R,b,k,P){var j=new c(R,b);if(k===null)return j.left=j.right=null,j;var F=P(R,(k=f(R,k,P)).key);return F<0?(j.left=k.left,j.right=k,k.left=null):F>=0&&(j.right=k.right,j.left=k,k.right=null),j}function g(R,b,k){var P=null,j=null;if(b){var F=k((b=f(R,b,k)).key,R);F===0?(P=b.left,j=b.right):F<0?(j=b.right,b.right=null,P=b):(P=b.left,b.left=null,j=b)}return{left:P,right:j}}function w(R,b,k){return b===null?R:(R===null||((b=f(R.key,b,k)).left=R),b)}function x(R,b,k,P,j){if(R){P(b+(k?" ":" ")+j(R)+`
`);var F=b+(k?"    ":"   ");R.left&&x(R.left,F,!1,P,j),R.right&&x(R.right,F,!0,P,j)}}var _=function(){function R(b){b===void 0&&(b=d),this._root=null,this._size=0,this._comparator=b}return R.prototype.insert=function(b,k){return this._size++,this._root=h(b,k,this._root,this._comparator)},R.prototype.add=function(b,k){var P=new c(b,k);this._root===null&&(P.left=P.right=null,this._size++,this._root=P);var j=this._comparator,F=f(b,this._root,j),V=j(b,F.key);return V===0?this._root=F:(V<0?(P.left=F.left,P.right=F,F.left=null):V>0&&(P.right=F.right,P.left=F,F.right=null),this._size++,this._root=P),this._root},R.prototype.remove=function(b){this._root=this._remove(b,this._root,this._comparator)},R.prototype._remove=function(b,k,P){var j;return k===null?null:P(b,(k=f(b,k,P)).key)===0?(k.left===null?j=k.right:(j=f(b,k.left,P)).right=k.right,this._size--,j):k},R.prototype.pop=function(){var b=this._root;if(b){for(;b.left;)b=b.left;return this._root=f(b.key,this._root,this._comparator),this._root=this._remove(b.key,this._root,this._comparator),{key:b.key,data:b.data}}return null},R.prototype.findStatic=function(b){for(var k=this._root,P=this._comparator;k;){var j=P(b,k.key);if(j===0)return k;k=j<0?k.left:k.right}return null},R.prototype.find=function(b){return this._root&&(this._root=f(b,this._root,this._comparator),this._comparator(b,this._root.key)!==0)?null:this._root},R.prototype.contains=function(b){for(var k=this._root,P=this._comparator;k;){var j=P(b,k.key);if(j===0)return!0;k=j<0?k.left:k.right}return!1},R.prototype.forEach=function(b,k){for(var P=this._root,j=[],F=!1;!F;)P!==null?(j.push(P),P=P.left):j.length!==0?(P=j.pop(),b.call(k,P),P=P.right):F=!0;return this},R.prototype.range=function(b,k,P,j){for(var F=[],V=this._comparator,X=this._root;F.length!==0||X;)if(X)F.push(X),X=X.left;else{if(V((X=F.pop()).key,k)>0)break;if(V(X.key,b)>=0&&P.call(j,X))return this;X=X.right}return this},R.prototype.keys=function(){var b=[];return this.forEach(function(k){var P=k.key;return b.push(P)}),b},R.prototype.values=function(){var b=[];return this.forEach(function(k){var P=k.data;return b.push(P)}),b},R.prototype.min=function(){return this._root?this.minNode(this._root).key:null},R.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},R.prototype.minNode=function(b){if(b===void 0&&(b=this._root),b)for(;b.left;)b=b.left;return b},R.prototype.maxNode=function(b){if(b===void 0&&(b=this._root),b)for(;b.right;)b=b.right;return b},R.prototype.at=function(b){for(var k=this._root,P=!1,j=0,F=[];!P;)if(k)F.push(k),k=k.left;else if(F.length>0){if(k=F.pop(),j===b)return k;j++,k=k.right}else P=!0;return null},R.prototype.next=function(b){var k=this._root,P=null;if(b.right){for(P=b.right;P.left;)P=P.left;return P}for(var j=this._comparator;k;){var F=j(b.key,k.key);if(F===0)break;F<0?(P=k,k=k.left):k=k.right}return P},R.prototype.prev=function(b){var k=this._root,P=null;if(b.left!==null){for(P=b.left;P.right;)P=P.right;return P}for(var j=this._comparator;k;){var F=j(b.key,k.key);if(F===0)break;F<0?k=k.left:(P=k,k=k.right)}return P},R.prototype.clear=function(){return this._root=null,this._size=0,this},R.prototype.toList=function(){return v(this._root)},R.prototype.load=function(b,k,P){k===void 0&&(k=[]),P===void 0&&(P=!1);var j=b.length,F=this._comparator;if(P&&E(b,k,0,j-1,F),this._root===null)this._root=y(b,k,0,j),this._size=j;else{var V=D(this.toList(),C(b,k),F);j=this._size+j,this._root=S({head:V},0,j)}return this},R.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(R.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),R.prototype.toString=function(b){b===void 0&&(b=function(P){return String(P.key)});var k=[];return x(this._root,"",!0,function(P){return k.push(P)},b),k.join("")},R.prototype.update=function(b,k,P){var j=this._comparator,F=g(b,this._root,j),V=F.left,X=F.right;j(b,k)<0?X=h(k,P,X,j):V=h(k,P,V,j),this._root=w(V,X,j)},R.prototype.split=function(b){return g(b,this._root,this._comparator)},R}();function y(R,b,k,P){var j=P-k;if(j>0){var F=k+Math.floor(j/2),V=R[F],X=b[F],G=new c(V,X);return G.left=y(R,b,k,F),G.right=y(R,b,F+1,P),G}return null}function C(R,b){for(var k=new c(null,null),P=k,j=0;j<R.length;j++)P=P.next=new c(R[j],b[j]);return P.next=null,k.next}function v(R){for(var b=R,k=[],P=!1,j=new c(null,null),F=j;!P;)b?(k.push(b),b=b.left):k.length>0?b=(b=F=F.next=k.pop()).right:P=!0;return F.next=null,j.next}function S(R,b,k){var P=k-b;if(P>0){var j=b+Math.floor(P/2),F=S(R,b,j),V=R.head;return V.left=F,R.head=R.head.next,V.right=S(R,j+1,k),V}return null}function D(R,b,k){for(var P=new c(null,null),j=P,F=R,V=b;F!==null&&V!==null;)k(F.key,V.key)<0?(j.next=F,F=F.next):(j.next=V,V=V.next),j=j.next;return F!==null?j.next=F:V!==null&&(j.next=V),P.next}function E(R,b,k,P,j){if(!(k>=P)){for(var F=R[k+P>>1],V=k-1,X=P+1;;){do V++;while(j(R[V],F)<0);do X--;while(j(R[X],F)>0);if(V>=X)break;var G=R[V];R[V]=R[X],R[X]=G,G=b[V],b[V]=b[X],b[X]=G}E(R,b,k,X,j),E(R,b,X+1,P,j)}}var T=function(R,b){return R.ll.x<=b.x&&b.x<=R.ur.x&&R.ll.y<=b.y&&b.y<=R.ur.y},B=function(R,b){if(b.ur.x<R.ll.x||R.ur.x<b.ll.x||b.ur.y<R.ll.y||R.ur.y<b.ll.y)return null;var k=R.ll.x<b.ll.x?b.ll.x:R.ll.x,P=R.ur.x<b.ur.x?R.ur.x:b.ur.x;return{ll:{x:k,y:R.ll.y<b.ll.y?b.ll.y:R.ll.y},ur:{x:P,y:R.ur.y<b.ur.y?R.ur.y:b.ur.y}}},I=Number.EPSILON;I===void 0&&(I=Math.pow(2,-52));var H=I*I,ee=function(R,b){if(-I<R&&R<I&&-I<b&&b<I)return 0;var k=R-b;return k*k<H*R*b?0:R<b?-1:1},Y=function(){function R(){s(this,R),this.reset()}return l(R,[{key:"reset",value:function(){this.xRounder=new re,this.yRounder=new re}},{key:"round",value:function(b,k){return{x:this.xRounder.round(b),y:this.yRounder.round(k)}}}]),R}(),re=function(){function R(){s(this,R),this.tree=new _,this.round(0)}return l(R,[{key:"round",value:function(b){var k=this.tree.add(b),P=this.tree.prev(k);if(P!==null&&ee(k.key,P.key)===0)return this.tree.remove(b),P.key;var j=this.tree.next(k);return j!==null&&ee(k.key,j.key)===0?(this.tree.remove(b),j.key):b}}]),R}(),te=new Y,K=function(R,b){return R.x*b.y-R.y*b.x},ae=function(R,b){return R.x*b.x+R.y*b.y},J=function(R,b,k){var P={x:b.x-R.x,y:b.y-R.y},j={x:k.x-R.x,y:k.y-R.y},F=K(P,j);return ee(F,0)},ce=function(R){return Math.sqrt(ae(R,R))},U=function(R,b,k){var P={x:b.x-R.x,y:b.y-R.y},j={x:k.x-R.x,y:k.y-R.y};return K(j,P)/ce(j)/ce(P)},Q=function(R,b,k){var P={x:b.x-R.x,y:b.y-R.y},j={x:k.x-R.x,y:k.y-R.y};return ae(j,P)/ce(j)/ce(P)},de=function(R,b,k){return b.y===0?null:{x:R.x+b.x/b.y*(k-R.y),y:k}},we=function(R,b,k){return b.x===0?null:{x:k,y:R.y+b.y/b.x*(k-R.x)}},ke=function(R,b,k,P){if(b.x===0)return we(k,P,R.x);if(P.x===0)return we(R,b,k.x);if(b.y===0)return de(k,P,R.y);if(P.y===0)return de(R,b,k.y);var j=K(b,P);if(j==0)return null;var F={x:k.x-R.x,y:k.y-R.y},V=K(F,b)/j,X=K(F,P)/j;return{x:(R.x+X*b.x+(k.x+V*P.x))/2,y:(R.y+X*b.y+(k.y+V*P.y))/2}},Ee=function(){function R(b,k){s(this,R),b.events===void 0?b.events=[this]:b.events.push(this),this.point=b,this.isLeft=k}return l(R,null,[{key:"compare",value:function(b,k){var P=R.comparePoints(b.point,k.point);return P!==0?P:(b.point!==k.point&&b.link(k),b.isLeft!==k.isLeft?b.isLeft?1:-1:We.compare(b.segment,k.segment))}},{key:"comparePoints",value:function(b,k){return b.x<k.x?-1:b.x>k.x?1:b.y<k.y?-1:b.y>k.y?1:0}}]),l(R,[{key:"link",value:function(b){if(b.point===this.point)throw new Error("Tried to link already linked events");for(var k=b.point.events,P=0,j=k.length;P<j;P++){var F=k[P];this.point.events.push(F),F.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var b=this.point.events.length,k=0;k<b;k++){var P=this.point.events[k];if(P.segment.consumedBy===void 0)for(var j=k+1;j<b;j++){var F=this.point.events[j];F.consumedBy===void 0&&P.otherSE.point.events===F.otherSE.point.events&&P.segment.consume(F.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var b=[],k=0,P=this.point.events.length;k<P;k++){var j=this.point.events[k];j!==this&&!j.segment.ringOut&&j.segment.isInResult()&&b.push(j)}return b}},{key:"getLeftmostComparator",value:function(b){var k=this,P=new Map,j=function(F){var V=F.otherSE;P.set(F,{sine:U(k.point,b.point,V.point),cosine:Q(k.point,b.point,V.point)})};return function(F,V){P.has(F)||j(F),P.has(V)||j(V);var X=P.get(F),G=X.sine,ie=X.cosine,me=P.get(V),_e=me.sine,Le=me.cosine;return G>=0&&_e>=0?ie<Le?1:ie>Le?-1:0:G<0&&_e<0?ie<Le?-1:ie>Le?1:0:_e<G?-1:_e>G?1:0}}}]),R}(),qe=0,We=function(){function R(b,k,P,j){s(this,R),this.id=++qe,this.leftSE=b,b.segment=this,b.otherSE=k,this.rightSE=k,k.segment=this,k.otherSE=b,this.rings=P,this.windings=j}return l(R,null,[{key:"compare",value:function(b,k){var P=b.leftSE.point.x,j=k.leftSE.point.x,F=b.rightSE.point.x,V=k.rightSE.point.x;if(V<P)return 1;if(F<j)return-1;var X=b.leftSE.point.y,G=k.leftSE.point.y,ie=b.rightSE.point.y,me=k.rightSE.point.y;if(P<j){if(G<X&&G<ie)return 1;if(G>X&&G>ie)return-1;var _e=b.comparePoint(k.leftSE.point);if(_e<0)return 1;if(_e>0)return-1;var Le=k.comparePoint(b.rightSE.point);return Le!==0?Le:-1}if(P>j){if(X<G&&X<me)return-1;if(X>G&&X>me)return 1;var je=k.comparePoint(b.leftSE.point);if(je!==0)return je;var Fe=b.comparePoint(k.rightSE.point);return Fe<0?1:Fe>0?-1:1}if(X<G)return-1;if(X>G)return 1;if(F<V){var He=k.comparePoint(b.rightSE.point);if(He!==0)return He}if(F>V){var it=b.comparePoint(k.rightSE.point);if(it<0)return 1;if(it>0)return-1}if(F!==V){var lt=ie-X,ht=F-P,gt=me-G,ut=V-j;if(lt>ht&&gt<ut)return 1;if(lt<ht&&gt>ut)return-1}return F>V?1:F<V||ie<me?-1:ie>me?1:b.id<k.id?-1:b.id>k.id?1:0}}]),l(R,[{key:"replaceRightSE",value:function(b){this.rightSE=b,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var b=this.leftSE.point.y,k=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:b<k?b:k},ur:{x:this.rightSE.point.x,y:b>k?b:k}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(b){return b.x===this.leftSE.point.x&&b.y===this.leftSE.point.y||b.x===this.rightSE.point.x&&b.y===this.rightSE.point.y}},{key:"comparePoint",value:function(b){if(this.isAnEndpoint(b))return 0;var k=this.leftSE.point,P=this.rightSE.point,j=this.vector();if(k.x===P.x)return b.x===k.x?0:b.x<k.x?1:-1;var F=(b.y-k.y)/j.y,V=k.x+F*j.x;if(b.x===V)return 0;var X=(b.x-k.x)/j.x,G=k.y+X*j.y;return b.y===G?0:b.y<G?-1:1}},{key:"getIntersection",value:function(b){var k=this.bbox(),P=b.bbox(),j=B(k,P);if(j===null)return null;var F=this.leftSE.point,V=this.rightSE.point,X=b.leftSE.point,G=b.rightSE.point,ie=T(k,X)&&this.comparePoint(X)===0,me=T(P,F)&&b.comparePoint(F)===0,_e=T(k,G)&&this.comparePoint(G)===0,Le=T(P,V)&&b.comparePoint(V)===0;if(me&&ie)return Le&&!_e?V:!Le&&_e?G:null;if(me)return _e&&F.x===G.x&&F.y===G.y?null:F;if(ie)return Le&&V.x===X.x&&V.y===X.y?null:X;if(Le&&_e)return null;if(Le)return V;if(_e)return G;var je=ke(F,this.vector(),X,b.vector());return je===null?null:T(j,je)?te.round(je.x,je.y):null}},{key:"split",value:function(b){var k=[],P=b.events!==void 0,j=new Ee(b,!0),F=new Ee(b,!1),V=this.rightSE;this.replaceRightSE(F),k.push(F),k.push(j);var X=new R(j,V,this.rings.slice(),this.windings.slice());return Ee.comparePoints(X.leftSE.point,X.rightSE.point)>0&&X.swapEvents(),Ee.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),P&&(j.checkForConsuming(),F.checkForConsuming()),k}},{key:"swapEvents",value:function(){var b=this.rightSE;this.rightSE=this.leftSE,this.leftSE=b,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var k=0,P=this.windings.length;k<P;k++)this.windings[k]*=-1}},{key:"consume",value:function(b){for(var k=this,P=b;k.consumedBy;)k=k.consumedBy;for(;P.consumedBy;)P=P.consumedBy;var j=R.compare(k,P);if(j!==0){if(j>0){var F=k;k=P,P=F}if(k.prev===P){var V=k;k=P,P=V}for(var X=0,G=P.rings.length;X<G;X++){var ie=P.rings[X],me=P.windings[X],_e=k.rings.indexOf(ie);_e===-1?(k.rings.push(ie),k.windings.push(me)):k.windings[_e]+=me}P.rings=null,P.windings=null,P.consumedBy=k,P.leftSE.consumedBy=k.leftSE,P.rightSE.consumedBy=k.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var b=this.prev.consumedBy||this.prev;this._beforeState=b.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var b=this.beforeState();this._afterState={rings:b.rings.slice(0),windings:b.windings.slice(0),multiPolys:[]};for(var k=this._afterState.rings,P=this._afterState.windings,j=this._afterState.multiPolys,F=0,V=this.rings.length;F<V;F++){var X=this.rings[F],G=this.windings[F],ie=k.indexOf(X);ie===-1?(k.push(X),P.push(G)):P[ie]+=G}for(var me=[],_e=[],Le=0,je=k.length;Le<je;Le++)if(P[Le]!==0){var Fe=k[Le],He=Fe.poly;if(_e.indexOf(He)===-1)if(Fe.isExterior)me.push(He);else{_e.indexOf(He)===-1&&_e.push(He);var it=me.indexOf(Fe.poly);it!==-1&&me.splice(it,1)}}for(var lt=0,ht=me.length;lt<ht;lt++){var gt=me[lt].multiPoly;j.indexOf(gt)===-1&&j.push(gt)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var b=this.beforeState().multiPolys,k=this.afterState().multiPolys;switch(Ue.type){case"union":var P=b.length===0,j=k.length===0;this._isInResult=P!==j;break;case"intersection":var F,V;b.length<k.length?(F=b.length,V=k.length):(F=k.length,V=b.length),this._isInResult=V===Ue.numMultiPolys&&F<V;break;case"xor":var X=Math.abs(b.length-k.length);this._isInResult=X%2==1;break;case"difference":var G=function(ie){return ie.length===1&&ie[0].isSubject};this._isInResult=G(b)!==G(k);break;default:throw new Error("Unrecognized operation type found ".concat(Ue.type))}return this._isInResult}}],[{key:"fromRing",value:function(b,k,P){var j,F,V,X=Ee.comparePoints(b,k);if(X<0)j=b,F=k,V=1;else{if(!(X>0))throw new Error("Tried to create degenerate segment at [".concat(b.x,", ").concat(b.y,"]"));j=k,F=b,V=-1}return new R(new Ee(j,!0),new Ee(F,!1),[P],[V])}}]),R}(),$e=function(){function R(b,k,P){if(s(this,R),!Array.isArray(b)||b.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=k,this.isExterior=P,this.segments=[],typeof b[0][0]!="number"||typeof b[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var j=te.round(b[0][0],b[0][1]);this.bbox={ll:{x:j.x,y:j.y},ur:{x:j.x,y:j.y}};for(var F=j,V=1,X=b.length;V<X;V++){if(typeof b[V][0]!="number"||typeof b[V][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var G=te.round(b[V][0],b[V][1]);G.x===F.x&&G.y===F.y||(this.segments.push(We.fromRing(F,G,this)),G.x<this.bbox.ll.x&&(this.bbox.ll.x=G.x),G.y<this.bbox.ll.y&&(this.bbox.ll.y=G.y),G.x>this.bbox.ur.x&&(this.bbox.ur.x=G.x),G.y>this.bbox.ur.y&&(this.bbox.ur.y=G.y),F=G)}j.x===F.x&&j.y===F.y||this.segments.push(We.fromRing(F,j,this))}return l(R,[{key:"getSweepEvents",value:function(){for(var b=[],k=0,P=this.segments.length;k<P;k++){var j=this.segments[k];b.push(j.leftSE),b.push(j.rightSE)}return b}}]),R}(),Te=function(){function R(b,k){if(s(this,R),!Array.isArray(b))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new $e(b[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var P=1,j=b.length;P<j;P++){var F=new $e(b[P],this,!1);F.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=F.bbox.ll.x),F.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=F.bbox.ll.y),F.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=F.bbox.ur.x),F.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=F.bbox.ur.y),this.interiorRings.push(F)}this.multiPoly=k}return l(R,[{key:"getSweepEvents",value:function(){for(var b=this.exteriorRing.getSweepEvents(),k=0,P=this.interiorRings.length;k<P;k++)for(var j=this.interiorRings[k].getSweepEvents(),F=0,V=j.length;F<V;F++)b.push(j[F]);return b}}]),R}(),xe=function(){function R(b,k){if(s(this,R),!Array.isArray(b))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof b[0][0][0]=="number"&&(b=[b])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var P=0,j=b.length;P<j;P++){var F=new Te(b[P],this);F.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=F.bbox.ll.x),F.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=F.bbox.ll.y),F.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=F.bbox.ur.x),F.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=F.bbox.ur.y),this.polys.push(F)}this.isSubject=k}return l(R,[{key:"getSweepEvents",value:function(){for(var b=[],k=0,P=this.polys.length;k<P;k++)for(var j=this.polys[k].getSweepEvents(),F=0,V=j.length;F<V;F++)b.push(j[F]);return b}}]),R}(),De=function(){function R(b){s(this,R),this.events=b;for(var k=0,P=b.length;k<P;k++)b[k].segment.ringOut=this;this.poly=null}return l(R,null,[{key:"factory",value:function(b){for(var k=[],P=0,j=b.length;P<j;P++){var F=b[P];if(F.isInResult()&&!F.ringOut){for(var V=null,X=F.leftSE,G=F.rightSE,ie=[X],me=X.point,_e=[];V=X,X=G,ie.push(X),X.point!==me;)for(;;){var Le=X.getAvailableLinkedEvents();if(Le.length===0){var je=ie[0].point,Fe=ie[ie.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(je.x,",")+" ".concat(je.y,"]. Last matching segment found ends at")+" [".concat(Fe.x,", ").concat(Fe.y,"]."))}if(Le.length===1){G=Le[0].otherSE;break}for(var He=null,it=0,lt=_e.length;it<lt;it++)if(_e[it].point===X.point){He=it;break}if(He===null){_e.push({index:ie.length,point:X.point});var ht=X.getLeftmostComparator(V);G=Le.sort(ht)[0].otherSE;break}var gt=_e.splice(He)[0],ut=ie.splice(gt.index);ut.unshift(ut[0].otherSE),k.push(new R(ut.reverse()))}k.push(new R(ie))}}return k}}]),l(R,[{key:"getGeom",value:function(){for(var b=this.events[0].point,k=[b],P=1,j=this.events.length-1;P<j;P++){var F=this.events[P].point,V=this.events[P+1].point;J(F,b,V)!==0&&(k.push(F),b=F)}if(k.length===1)return null;var X=k[0],G=k[1];J(X,b,G)===0&&k.shift(),k.push(k[0]);for(var ie=this.isExteriorRing()?1:-1,me=this.isExteriorRing()?0:k.length-1,_e=this.isExteriorRing()?k.length:-1,Le=[],je=me;je!=_e;je+=ie)Le.push([k[je].x,k[je].y]);return Le}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var b=this.enclosingRing();this._isExteriorRing=!b||!b.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var b=this.events[0],k=1,P=this.events.length;k<P;k++){var j=this.events[k];Ee.compare(b,j)>0&&(b=j)}for(var F=b.segment.prevInResult(),V=F?F.prevInResult():null;;){if(!F)return null;if(!V)return F.ringOut;if(V.ringOut!==F.ringOut)return V.ringOut.enclosingRing()!==F.ringOut?F.ringOut:F.ringOut.enclosingRing();F=V.prevInResult(),V=F?F.prevInResult():null}}}]),R}(),wt=function(){function R(b){s(this,R),this.exteriorRing=b,b.poly=this,this.interiorRings=[]}return l(R,[{key:"addInterior",value:function(b){this.interiorRings.push(b),b.poly=this}},{key:"getGeom",value:function(){var b=[this.exteriorRing.getGeom()];if(b[0]===null)return null;for(var k=0,P=this.interiorRings.length;k<P;k++){var j=this.interiorRings[k].getGeom();j!==null&&b.push(j)}return b}}]),R}(),st=function(){function R(b){s(this,R),this.rings=b,this.polys=this._composePolys(b)}return l(R,[{key:"getGeom",value:function(){for(var b=[],k=0,P=this.polys.length;k<P;k++){var j=this.polys[k].getGeom();j!==null&&b.push(j)}return b}},{key:"_composePolys",value:function(b){for(var k=[],P=0,j=b.length;P<j;P++){var F=b[P];if(!F.poly)if(F.isExteriorRing())k.push(new wt(F));else{var V=F.enclosingRing();V.poly||k.push(new wt(V)),V.poly.addInterior(F)}}return k}}]),R}(),Ye=function(){function R(b){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:We.compare;s(this,R),this.queue=b,this.tree=new _(k),this.segments=[]}return l(R,[{key:"process",value:function(b){var k=b.segment,P=[];if(b.consumedBy)return b.isLeft?this.queue.remove(b.otherSE):this.tree.remove(k),P;var j=b.isLeft?this.tree.insert(k):this.tree.find(k);if(!j)throw new Error("Unable to find segment #".concat(k.id," ")+"[".concat(k.leftSE.point.x,", ").concat(k.leftSE.point.y,"] -> ")+"[".concat(k.rightSE.point.x,", ").concat(k.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var F=j,V=j,X=void 0,G=void 0;X===void 0;)(F=this.tree.prev(F))===null?X=null:F.key.consumedBy===void 0&&(X=F.key);for(;G===void 0;)(V=this.tree.next(V))===null?G=null:V.key.consumedBy===void 0&&(G=V.key);if(b.isLeft){var ie=null;if(X){var me=X.getIntersection(k);if(me!==null&&(k.isAnEndpoint(me)||(ie=me),!X.isAnEndpoint(me)))for(var _e=this._splitSafely(X,me),Le=0,je=_e.length;Le<je;Le++)P.push(_e[Le])}var Fe=null;if(G){var He=G.getIntersection(k);if(He!==null&&(k.isAnEndpoint(He)||(Fe=He),!G.isAnEndpoint(He)))for(var it=this._splitSafely(G,He),lt=0,ht=it.length;lt<ht;lt++)P.push(it[lt])}if(ie!==null||Fe!==null){var gt=null;gt=ie===null?Fe:Fe===null||Ee.comparePoints(ie,Fe)<=0?ie:Fe,this.queue.remove(k.rightSE),P.push(k.rightSE);for(var ut=k.split(gt),Kt=0,mt=ut.length;Kt<mt;Kt++)P.push(ut[Kt])}P.length>0?(this.tree.remove(k),P.push(b)):(this.segments.push(k),k.prev=X)}else{if(X&&G){var Ze=X.getIntersection(G);if(Ze!==null){if(!X.isAnEndpoint(Ze))for(var q=this._splitSafely(X,Ze),ue=0,ve=q.length;ue<ve;ue++)P.push(q[ue]);if(!G.isAnEndpoint(Ze))for(var Oe=this._splitSafely(G,Ze),rt=0,ct=Oe.length;rt<ct;rt++)P.push(Oe[rt])}}this.tree.remove(k)}return P}},{key:"_splitSafely",value:function(b,k){this.tree.remove(b);var P=b.rightSE;this.queue.remove(P);var j=b.split(k);return j.push(P),b.consumedBy===void 0&&this.tree.insert(b),j}}]),R}(),Mt=typeof process<"u"&&Qs.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,pt=typeof process<"u"&&Qs.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Ue=new(function(){function R(){s(this,R)}return l(R,[{key:"run",value:function(b,k,P){Ue.type=b,te.reset();for(var j=[new xe(k,!0)],F=0,V=P.length;F<V;F++)j.push(new xe(P[F],!1));if(Ue.numMultiPolys=j.length,Ue.type==="difference")for(var X=j[0],G=1;G<j.length;)B(j[G].bbox,X.bbox)!==null?G++:j.splice(G,1);if(Ue.type==="intersection"){for(var ie=0,me=j.length;ie<me;ie++)for(var _e=j[ie],Le=ie+1,je=j.length;Le<je;Le++)if(B(_e.bbox,j[Le].bbox)===null)return[]}for(var Fe=new _(Ee.compare),He=0,it=j.length;He<it;He++)for(var lt=j[He].getSweepEvents(),ht=0,gt=lt.length;ht<gt;ht++)if(Fe.insert(lt[ht]),Fe.size>Mt)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var ut=new Ye(Fe),Kt=Fe.size,mt=Fe.pop();mt;){var Ze=mt.key;if(Fe.size===Kt){var q=Ze.segment;throw new Error("Unable to pop() ".concat(Ze.isLeft?"left":"right"," SweepEvent ")+"[".concat(Ze.point.x,", ").concat(Ze.point.y,"] from segment #").concat(q.id," ")+"[".concat(q.leftSE.point.x,", ").concat(q.leftSE.point.y,"] -> ")+"[".concat(q.rightSE.point.x,", ").concat(q.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(Fe.size>Mt)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(ut.segments.length>pt)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var ue=ut.process(Ze),ve=0,Oe=ue.length;ve<Oe;ve++){var rt=ue[ve];rt.consumedBy===void 0&&Fe.insert(rt)}Kt=Fe.size,mt=Fe.pop()}te.reset();var ct=De.factory(ut.segments);return new st(ct).getGeom()}}]),R}()),ze=function(R){for(var b=arguments.length,k=new Array(b>1?b-1:0),P=1;P<b;P++)k[P-1]=arguments[P];return Ue.run("union",R,k)},Xe=function(R){for(var b=arguments.length,k=new Array(b>1?b-1:0),P=1;P<b;P++)k[P-1]=arguments[P];return Ue.run("intersection",R,k)},It=function(R){for(var b=arguments.length,k=new Array(b>1?b-1:0),P=1;P<b;P++)k[P-1]=arguments[P];return Ue.run("xor",R,k)},Et=function(R){for(var b=arguments.length,k=new Array(b>1?b-1:0),P=1;P<b;P++)k[P-1]=arguments[P];return Ue.run("difference",R,k)};return{union:ze,intersection:Xe,xor:It,difference:Et}}()},2582:function(i){i.exports=function(){function s(E,T,B,I,H){(function ee(Y,re,te,K,ae){for(;K>te;){if(K-te>600){var J=K-te+1,ce=re-te+1,U=Math.log(J),Q=.5*Math.exp(2*U/3),de=.5*Math.sqrt(U*Q*(J-Q)/J)*(ce-J/2<0?-1:1);ee(Y,re,Math.max(te,Math.floor(re-ce*Q/J+de)),Math.min(K,Math.floor(re+(J-ce)*Q/J+de)),ae)}var we=Y[re],ke=te,Ee=K;for(a(Y,te,re),ae(Y[K],we)>0&&a(Y,te,K);ke<Ee;){for(a(Y,ke,Ee),ke++,Ee--;ae(Y[ke],we)<0;)ke++;for(;ae(Y[Ee],we)>0;)Ee--}ae(Y[te],we)===0?a(Y,te,Ee):a(Y,++Ee,K),Ee<=re&&(te=Ee+1),re<=Ee&&(K=Ee-1)}})(E,T,B||0,I||E.length-1,H||l)}function a(E,T,B){var I=E[T];E[T]=E[B],E[B]=I}function l(E,T){return E<T?-1:E>T?1:0}var c=function(E){E===void 0&&(E=9),this._maxEntries=Math.max(4,E),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function d(E,T,B){if(!B)return T.indexOf(E);for(var I=0;I<T.length;I++)if(B(E,T[I]))return I;return-1}function f(E,T){h(E,0,E.children.length,T,E)}function h(E,T,B,I,H){H||(H=S(null)),H.minX=1/0,H.minY=1/0,H.maxX=-1/0,H.maxY=-1/0;for(var ee=T;ee<B;ee++){var Y=E.children[ee];g(H,E.leaf?I(Y):Y)}return H}function g(E,T){return E.minX=Math.min(E.minX,T.minX),E.minY=Math.min(E.minY,T.minY),E.maxX=Math.max(E.maxX,T.maxX),E.maxY=Math.max(E.maxY,T.maxY),E}function w(E,T){return E.minX-T.minX}function x(E,T){return E.minY-T.minY}function _(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function y(E){return E.maxX-E.minX+(E.maxY-E.minY)}function C(E,T){return E.minX<=T.minX&&E.minY<=T.minY&&T.maxX<=E.maxX&&T.maxY<=E.maxY}function v(E,T){return T.minX<=E.maxX&&T.minY<=E.maxY&&T.maxX>=E.minX&&T.maxY>=E.minY}function S(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function D(E,T,B,I,H){for(var ee=[T,B];ee.length;)if(!((B=ee.pop())-(T=ee.pop())<=I)){var Y=T+Math.ceil((B-T)/I/2)*I;s(E,Y,T,B,H),ee.push(T,Y,Y,B)}}return c.prototype.all=function(){return this._all(this.data,[])},c.prototype.search=function(E){var T=this.data,B=[];if(!v(E,T))return B;for(var I=this.toBBox,H=[];T;){for(var ee=0;ee<T.children.length;ee++){var Y=T.children[ee],re=T.leaf?I(Y):Y;v(E,re)&&(T.leaf?B.push(Y):C(E,re)?this._all(Y,B):H.push(Y))}T=H.pop()}return B},c.prototype.collides=function(E){var T=this.data;if(!v(E,T))return!1;for(var B=[];T;){for(var I=0;I<T.children.length;I++){var H=T.children[I],ee=T.leaf?this.toBBox(H):H;if(v(E,ee)){if(T.leaf||C(E,ee))return!0;B.push(H)}}T=B.pop()}return!1},c.prototype.load=function(E){if(!E||!E.length)return this;if(E.length<this._minEntries){for(var T=0;T<E.length;T++)this.insert(E[T]);return this}var B=this._build(E.slice(),0,E.length-1,0);if(this.data.children.length)if(this.data.height===B.height)this._splitRoot(this.data,B);else{if(this.data.height<B.height){var I=this.data;this.data=B,B=I}this._insert(B,this.data.height-B.height-1,!0)}else this.data=B;return this},c.prototype.insert=function(E){return E&&this._insert(E,this.data.height-1),this},c.prototype.clear=function(){return this.data=S([]),this},c.prototype.remove=function(E,T){if(!E)return this;for(var B,I,H,ee=this.data,Y=this.toBBox(E),re=[],te=[];ee||re.length;){if(ee||(ee=re.pop(),I=re[re.length-1],B=te.pop(),H=!0),ee.leaf){var K=d(E,ee.children,T);if(K!==-1)return ee.children.splice(K,1),re.push(ee),this._condense(re),this}H||ee.leaf||!C(ee,Y)?I?(B++,ee=I.children[B],H=!1):ee=null:(re.push(ee),te.push(B),B=0,I=ee,ee=ee.children[0])}return this},c.prototype.toBBox=function(E){return E},c.prototype.compareMinX=function(E,T){return E.minX-T.minX},c.prototype.compareMinY=function(E,T){return E.minY-T.minY},c.prototype.toJSON=function(){return this.data},c.prototype.fromJSON=function(E){return this.data=E,this},c.prototype._all=function(E,T){for(var B=[];E;)E.leaf?T.push.apply(T,E.children):B.push.apply(B,E.children),E=B.pop();return T},c.prototype._build=function(E,T,B,I){var H,ee=B-T+1,Y=this._maxEntries;if(ee<=Y)return f(H=S(E.slice(T,B+1)),this.toBBox),H;I||(I=Math.ceil(Math.log(ee)/Math.log(Y)),Y=Math.ceil(ee/Math.pow(Y,I-1))),(H=S([])).leaf=!1,H.height=I;var re=Math.ceil(ee/Y),te=re*Math.ceil(Math.sqrt(Y));D(E,T,B,te,this.compareMinX);for(var K=T;K<=B;K+=te){var ae=Math.min(K+te-1,B);D(E,K,ae,re,this.compareMinY);for(var J=K;J<=ae;J+=re){var ce=Math.min(J+re-1,ae);H.children.push(this._build(E,J,ce,I-1))}}return f(H,this.toBBox),H},c.prototype._chooseSubtree=function(E,T,B,I){for(;I.push(T),!T.leaf&&I.length-1!==B;){for(var H=1/0,ee=1/0,Y=void 0,re=0;re<T.children.length;re++){var te=T.children[re],K=_(te),ae=(J=E,ce=te,(Math.max(ce.maxX,J.maxX)-Math.min(ce.minX,J.minX))*(Math.max(ce.maxY,J.maxY)-Math.min(ce.minY,J.minY))-K);ae<ee?(ee=ae,H=K<H?K:H,Y=te):ae===ee&&K<H&&(H=K,Y=te)}T=Y||T.children[0]}var J,ce;return T},c.prototype._insert=function(E,T,B){var I=B?E:this.toBBox(E),H=[],ee=this._chooseSubtree(I,this.data,T,H);for(ee.children.push(E),g(ee,I);T>=0&&H[T].children.length>this._maxEntries;)this._split(H,T),T--;this._adjustParentBBoxes(I,H,T)},c.prototype._split=function(E,T){var B=E[T],I=B.children.length,H=this._minEntries;this._chooseSplitAxis(B,H,I);var ee=this._chooseSplitIndex(B,H,I),Y=S(B.children.splice(ee,B.children.length-ee));Y.height=B.height,Y.leaf=B.leaf,f(B,this.toBBox),f(Y,this.toBBox),T?E[T-1].children.push(Y):this._splitRoot(B,Y)},c.prototype._splitRoot=function(E,T){this.data=S([E,T]),this.data.height=E.height+1,this.data.leaf=!1,f(this.data,this.toBBox)},c.prototype._chooseSplitIndex=function(E,T,B){for(var I,H,ee,Y,re,te,K,ae=1/0,J=1/0,ce=T;ce<=B-T;ce++){var U=h(E,0,ce,this.toBBox),Q=h(E,ce,B,this.toBBox),de=(H=U,ee=Q,Y=void 0,re=void 0,te=void 0,K=void 0,Y=Math.max(H.minX,ee.minX),re=Math.max(H.minY,ee.minY),te=Math.min(H.maxX,ee.maxX),K=Math.min(H.maxY,ee.maxY),Math.max(0,te-Y)*Math.max(0,K-re)),we=_(U)+_(Q);de<ae?(ae=de,I=ce,J=we<J?we:J):de===ae&&we<J&&(J=we,I=ce)}return I||B-T},c.prototype._chooseSplitAxis=function(E,T,B){var I=E.leaf?this.compareMinX:w,H=E.leaf?this.compareMinY:x;this._allDistMargin(E,T,B,I)<this._allDistMargin(E,T,B,H)&&E.children.sort(I)},c.prototype._allDistMargin=function(E,T,B,I){E.children.sort(I);for(var H=this.toBBox,ee=h(E,0,T,H),Y=h(E,B-T,B,H),re=y(ee)+y(Y),te=T;te<B-T;te++){var K=E.children[te];g(ee,E.leaf?H(K):K),re+=y(ee)}for(var ae=B-T-1;ae>=T;ae--){var J=E.children[ae];g(Y,E.leaf?H(J):J),re+=y(Y)}return re},c.prototype._adjustParentBBoxes=function(E,T,B){for(var I=B;I>=0;I--)g(T[I],E)},c.prototype._condense=function(E){for(var T=E.length-1,B=void 0;T>=0;T--)E[T].children.length===0?T>0?(B=E[T-1].children).splice(B.indexOf(E[T]),1):this.clear():f(E[T],this.toBBox)},c}()}},t={};function r(i){var s=t[i];if(s!==void 0)return s.exports;var a=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.n=i=>{var s=i&&i.__esModule?()=>i.default:()=>i;return r.d(s,{a:s}),s},r.d=(i,s)=>{for(var a in s)r.o(s,a)&&!r.o(i,a)&&Object.defineProperty(i,a,{enumerable:!0,get:s[a]})},r.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),r.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),r.nmd=i=>(i.paths=[],i.children||(i.children=[]),i),(()=>{r(7107);var i=r(2492),s=r.n(i);const a=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),l=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex lschen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer lschen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verknpfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"Lnge","segmentLength":"Segment Lnge","area":"Flche","radius":"Radius","perimeter":"Umfang","height":"Hhe","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),c=JSON.parse(`{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}`),d=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),f=JSON.parse('{"tooltips":{"placeMarker":"Adaug un punct","firstVertex":"Apas aici pentru a aduga primul Vertex","continueLine":"Apas aici pentru a continua desenul","finishLine":"Apas pe orice obiect pentru a finisa desenul","finishPoly":"Apas pe primul obiect pentru a finisa","finishRect":"Apas pentru a finisa","startCircle":"Apas pentru a desena un cerc","finishCircle":"Apas pentru a finisa un cerc","placeCircleMarker":"Adaug un punct"},"actions":{"finish":"Termin","cancel":"Anuleaz","removeLastVertex":"terge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaug o bulin","drawPolyButton":"Deseneaz un poligon","drawLineButton":"Deseneaz o linie","drawCircleButton":"Deseneaz un cerc","drawRectButton":"Deseneaz un dreptunghi","editButton":"Editeaz straturile","dragButton":"Mut straturile","cutButton":"Taie straturile","deleteButton":"terge straturile","drawCircleMarkerButton":"Deseneaz marcatorul cercului","snappingButton":"Fixai marcatorul glisat pe alte straturi i vrfuri","pinningButton":"Fixai vrfurile partajate mpreun"}}'),h=JSON.parse('{"tooltips":{"placeMarker":",   ","firstVertex":",    ","continueLine":",   ","finishLine":"     ","finishPoly":"  ,  ","finishRect":",  ","startCircle":",    ","finishCircle":",   ","placeCircleMarker":",    "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"   "}}'),g=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer vrtice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del crculo","finishCircle":"Presiona para finalizar el crculo","placeCircleMarker":"Presiona para colocar un marcador de crculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar ltimo vrtice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Polgono","drawLineButton":"Dibujar Lnea","drawCircleButton":"Dibujar Crculo","drawRectButton":"Dibujar Rectngulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de Crculo","snappingButton":"El marcador de Snap arrastrado a otras capas y vrtices","pinningButton":"Fijar juntos los vrtices compartidos"}}'),w=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te beindigen","finishPoly":"Klik op het eerst punt om te beindigen","finishRect":"Klik om te beindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te beindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),x=JSON.parse(`{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer  dessiner","finishLine":"Cliquez sur n'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"diter des calques","dragButton":"Dplacer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d'autres couches et sommets","pinningButton":"pingler ensemble les sommets partags","rotateButton":"Tourner des calques"}}`),_=JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":""}}'),y=JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":""}}'),C={en:a,de:l,it:c,id:d,ro:f,ru:h,es:g,nl:w,fr:x,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro vrtice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o polgono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do crculo","finishCircle":"Clique para fechar o crculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover ltimo vrtice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um polgono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um crculo","drawRectButton":"Desenhar um retngulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de crculos de desenho","snappingButton":"Marcador arrastado para outras camadas e vrtices","pinningButton":"Vrtices compartilhados de pinos juntos"}}'),zh:_,zh_tw:y,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby umieci znacznik","firstVertex":"Kliknij, aby umieci pierwszy wierzchoek","continueLine":"Kliknij, aby kontynuowa rysowanie","finishLine":"Kliknij dowolny istniejcy znacznik, aby zakoczy","finishPoly":"Kliknij pierwszy znacznik, aby zakoczy","finishRect":"Kliknij, aby zakoczy","startCircle":"Kliknij, aby umieci rodek okrgu","finishCircle":"Kliknij, aby zakoczy okrg","placeCircleMarker":"Kliknij, aby umieci znacznik okrgu","placeText":"Kliknij, aby umieci tekst"},"actions":{"finish":"Zakocz","cancel":"Anuluj","removeLastVertex":"Usu ostatni wierzchoek"},"buttonTitles":{"drawMarkerButton":"Rysuj znacznik","drawPolyButton":"Rysuj wielokt","drawLineButton":"Rysuj lini","drawCircleButton":"Rysuj okrg","drawRectButton":"Rysuj prostokt","editButton":"Edytuj warstwy","dragButton":"Przecignij warstwy","cutButton":"Wytnij warstwy","deleteButton":"Usu warstwy","drawCircleMarkerButton":"Rysuj znacznik okrgy","snappingButton":"Przycignij przenoszony znacznik do innych warstw i wierzchokw","pinningButton":"Przypnij wsplne wierzchoki razem","rotateButton":"Obr warstwy","drawTextButton":"Rysuj tekst","scaleButton":"Skaluj warstwy","autoTracingButton":"Automatyczne ledzenie linii"},"measurements":{"totalLength":"Dugo","segmentLength":"Dugo odcinka","area":"Obszar","radius":"Promie","perimeter":"Obwd","height":"Wysoko","width":"Szeroko","coordinates":"Pozycja","coordinatesMarker":"Znacznik pozycji"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka fr att placera markr","firstVertex":"Klicka fr att placera frsta hrnet","continueLine":"Klicka fr att fortstta rita","finishLine":"Klicka p en existerande punkt fr att slutfra","finishPoly":"Klicka p den frsta punkten fr att slutfra","finishRect":"Klicka fr att slutfra","startCircle":"Klicka fr att placera cirkelns centrum","finishCircle":"Klicka fr att slutfra cirkeln","placeCircleMarker":"Klicka fr att placera cirkelmarkr"},"actions":{"finish":"Slutfr","cancel":"Avbryt","removeLastVertex":"Ta bort sista hrnet"},"buttonTitles":{"drawMarkerButton":"Rita Markr","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmarkr","snappingButton":"Snpp dra markren till andra lager och hrn","pinningButton":"Fst delade hrn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"     ","firstVertex":"       ","continueLine":"      ","finishLine":"        ","finishPoly":"       ","finishRect":"    ","startCircle":"      ","finishCircle":"      ","placeCircleMarker":"      "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"        ","pinningButton":"   "}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jell elhelyezshez","firstVertex":"Kattintson az els pont elhelyezshez","continueLine":"Kattintson a kvetkez pont elhelyezshez","finishLine":"A befejezshez kattintson egy meglv pontra","finishPoly":"A befejezshez kattintson az els pontra","finishRect":"Kattintson a befejezshez","startCircle":"Kattintson a kr kzppontjnak elhelyezshez","finishCircle":"Kattintson a kr befejezshez","placeCircleMarker":"Kattintson a krjell elhelyezshez"},"actions":{"finish":"Befejezs","cancel":"Mgse","removeLastVertex":"Utols pont eltvoltsa"},"buttonTitles":{"drawMarkerButton":"Jell rajzolsa","drawPolyButton":"Poligon rajzolsa","drawLineButton":"Vonal rajzolsa","drawCircleButton":"Kr rajzolsa","drawRectButton":"Ngyzet rajzolsa","editButton":"Elemek szerkesztse","dragButton":"Elemek mozgatsa","cutButton":"Elemek vgsa","deleteButton":"Elemek trlse","drawCircleMarkerButton":"Kr jell rajzolsa","snappingButton":"Kapcsolja a jelltt msik elemhez vagy ponthoz","pinningButton":"Kzs pontok sszektse"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en markr","firstVertex":"Tryk for at placere det frste punkt","continueLine":"Tryk for at fortstte linjen","finishLine":"Tryk p et eksisterende punkt for at afslutte","finishPoly":"Tryk p det frste punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmarkr"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer markr","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Trk","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmarkr","snappingButton":"Fastgr trukket markr til andre elementer","pinningButton":"Sammenlg delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for  plassere punkt","firstVertex":"Klikk for  plassere frste punkt","continueLine":"Klikk for  tegne videre","finishLine":"Klikk p et eksisterende punkt for  fullfre","finishPoly":"Klikk frste punkt for  fullfre","finishRect":"Klikk for  fullfre","startCircle":"Klikk for  sette sirkel midtpunkt","finishCircle":"Klikk for  fullfre sirkel","placeCircleMarker":"Klikk for  plassere sirkel","placeText":"Klikk for  plassere tekst"},"actions":{"finish":"Fullfr","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn punkt","drawPolyButton":"Tegn flate","drawLineButton":"Tegn linje","drawCircleButton":"Tegn sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger objekter","dragButton":"Dra objekter","cutButton":"Kutt objekter","deleteButton":"Fjern objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkter sammen","rotateButton":"Rotr objekter","drawTextButton":"Tegn tekst","scaleButton":"Skalr objekter","autoTracingButton":"Automatisk sporing av linje"},"measurements":{"totalLength":"Lengde","segmentLength":"Segmentlengde","area":"Omrde","radius":"Radius","perimeter":"Omriss","height":"Hyde","width":"Bredde","coordinates":"Posisjon","coordinatesMarker":"Posisjonsmarkr"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"   ","firstVertex":"    ","continueLine":"   ","finishLine":"      ","finishPoly":"     ","finishRect":"  ","startCircle":"    ","finishCircle":"    ","placeCircleMarker":"    ","placeText":"   "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"      ","rotateButton":" ","drawTextButton":" ","scaleButton":"","autoTracingButton":" "},"measurements":{"totalLength":"","segmentLength":" ","area":"","radius":"","perimeter":"","height":"","width":"","coordinates":"","coordinatesMarker":" "}}'),ua:JSON.parse(`{"tooltips":{"placeMarker":",   ","firstVertex":",    ","continueLine":",   ","finishLine":" -    ","finishPoly":"  ,  ","finishRect":",  ","startCircle":",    ","finishCircle":",   ","placeCircleMarker":",    "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"'   "}}`),tr:JSON.parse('{"tooltips":{"placeMarker":"areti yerletirmek iin tklayn","firstVertex":"lk tepe noktasn yerletirmek iin tklayn","continueLine":"izime devam etmek iin tklayn","finishLine":"Bitirmek iin mevcut herhangi bir iaretiyi tklayn","finishPoly":"Bitirmek iin ilk iaretiyi tklayn","finishRect":"Bitirmek iin tklayn","startCircle":"Daire merkezine yerletirmek iin tklayn","finishCircle":"Daireyi bitirmek iin tklayn","placeCircleMarker":"Daire iaretisi yerletirmek iin tklayn"},"actions":{"finish":"Bitir","cancel":"ptal","removeLastVertex":"Son keyi kaldr"},"buttonTitles":{"drawMarkerButton":"izim aretisi","drawPolyButton":"okgenler iz","drawLineButton":"oklu izgi iz","drawCircleButton":"ember iz","drawRectButton":"Dikdrtgen iz","editButton":"Katmanlar dzenle","dragButton":"Katmanlar srkle","cutButton":"Katmanlar kes","deleteButton":"Katmanlar kaldr","drawCircleMarkerButton":"Daire iaretisi iz","snappingButton":"Srklenen iaretiyi dier katmanlara ve kelere yaptr","pinningButton":"Paylalan keleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"Kliknutm vytvote znaku","firstVertex":"Kliknutm vytvote prvn objekt","continueLine":"Kliknutm pokraujte v kreslen","finishLine":"Kliknut na libovolnou existujc znaku pro dokonen","finishPoly":"Vyberte prvn bod pro dokonen","finishRect":"Kliknte pro dokonen","startCircle":"Kliknutm pidejte sted kruhu","finishCircle":",   ","placeCircleMarker":"Kliknutm nastavte polomr"},"actions":{"finish":"Dokonit","cancel":"Zruit","removeLastVertex":"Zruit posledn akci"},"buttonTitles":{"drawMarkerButton":"Pidat znaku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit kivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obdlnk","editButton":"Upravit vrstvu","dragButton":"Peneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"Pidat kruhovou znaku","snappingButton":"Navzat tanou znaku k dalm vrstvm a vrcholm","pinningButton":"Spojit spolen body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":"","placeText":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":"","rotateButton":"","drawTextButton":""}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimmisen osuuden","continueLine":"Klikkaa jatkaaksesi piirtmist","finishLine":"Klikkaa olemassa olevaa merkki lopettaaksesi","finishPoly":"Klikkaa ensimmist merkki lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyrn keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyrn","placeCircleMarker":"Klikkaa asettaaksesi ympyrmerkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"Piirr merkkej","drawPolyButton":"Piirr monikulmioita","drawLineButton":"Piirr viivoja","drawCircleButton":"Piirr ympyr","drawRectButton":"Piirr neliskulmioita","editButton":"Muokkaa","dragButton":"Siirr","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"Piirr ympyrmerkki","snappingButton":"Kiinnit siirrettv merkki toisiin muotoihin","pinningButton":"Kiinnit jaetut muodot yhteen","rotateButton":"Knn","drawTextButton":"Piirr teksti"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"  ","firstVertex":"   ","continueLine":"  ","finishLine":"   ","finishPoly":"   ","finishRect":" ","startCircle":"    ","finishCircle":"  ","placeCircleMarker":"   ","placeText":"  "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"   ","rotateButton":" ","drawTextButton":" "}}')};function v(n,o){var u=Object.keys(n);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(n);o&&(p=p.filter(function(m){return Object.getOwnPropertyDescriptor(n,m).enumerable})),u.push.apply(u,p)}return u}function S(n){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?v(Object(u),!0).forEach(function(p){D(n,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(u)):v(Object(u)).forEach(function(p){Object.defineProperty(n,p,Object.getOwnPropertyDescriptor(u,p))})}return n}function D(n,o,u){return o in n?Object.defineProperty(n,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[o]=u,n}const E={_globalEditModeEnabled:!1,enableGlobalEditMode:function(n){var o=this,u=S({},n);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(function(p){o._isRelevantForEdit(p)&&p.pm.enable(u)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(function(n){n.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(n)},handleLayerAdditionInGlobalEditMode:function(){var n=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(var o in n){var u=n[o];this._isRelevantForEdit(u)&&u.pm.enable(S({},this.globalOptions))}},_layerAddedEdit:function(n){var o=n.layer;this._addedLayersEdit[L.stamp(o)]=o},_isRelevantForEdit:function(n){return n.pm&&!(n instanceof L.LayerGroup)&&(!L.PM.optIn&&!n.options.pmIgnore||L.PM.optIn&&n.options.pmIgnore===!1)&&!n._pmTempLayer&&n.pm.options.allowEditing}},T={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var n=this,o=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},o.forEach(function(u){n._isRelevantForDrag(u)&&u.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var n=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,n.forEach(function(o){o.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var n=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(var o in n){var u=n[o];this._isRelevantForDrag(u)&&u.pm.enableLayerDrag()}},_layerAddedDrag:function(n){var o=n.layer;this._addedLayersDrag[L.stamp(o)]=o},_isRelevantForDrag:function(n){return n.pm&&!(n instanceof L.LayerGroup)&&(!L.PM.optIn&&!n.options.pmIgnore||L.PM.optIn&&n.options.pmIgnore===!1)&&!n._pmTempLayer&&n.pm.options.draggable}},B={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var n=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer(function(o){n._isRelevantForRemoval(o)&&(o.pm.enabled()&&o.pm.disable(),o.on("click",n.removeLayer,n))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var n=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer(function(o){o.off("click",n.removeLayer,n)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer:function(n){var o=n.target;this._isRelevantForRemoval(o)&&!o.pm.dragging()&&(o.removeFrom(this.map.pm._getContainingLayer()),o.remove(),o instanceof L.LayerGroup?(this._fireRemoveLayerGroup(o),this._fireRemoveLayerGroup(this.map,o)):(o.pm._fireRemove(o),o.pm._fireRemove(this.map,o)))},_isRelevantForRemoval:function(n){return n.pm&&!(n instanceof L.LayerGroup)&&(!L.PM.optIn&&!n.options.pmIgnore||L.PM.optIn&&n.options.pmIgnore===!1)&&!n._pmTempLayer&&n.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode:function(){var n=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(var o in n){var u=n[o];this._isRelevantForRemoval(u)&&(u.pm.enabled()&&u.pm.disable(),u.on("click",this.removeLayer,this))}},_layerAddedRemoval:function(n){var o=n.layer;this._addedLayersRemoval[L.stamp(o)]=o}},I={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var n=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(function(o){return o instanceof L.Polyline}).forEach(function(o){n._isRelevantForRotate(o)&&o.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(function(n){return n instanceof L.Polyline}).forEach(function(n){n.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate:function(n){return n.pm&&n instanceof L.Polyline&&!(n instanceof L.LayerGroup)&&(!L.PM.optIn&&!n.options.pmIgnore||L.PM.optIn&&n.options.pmIgnore===!1)&&!n._pmTempLayer&&n.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode:function(){var n=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(var o in n){var u=n[o];this._isRelevantForRemoval(u)&&u.pm.enableRotate()}},_layerAddedRotate:function(n){var o=n.layer;this._addedLayersRotate[L.stamp(o)]=o}};function H(n,o){var u=Object.keys(n);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(n);o&&(p=p.filter(function(m){return Object.getOwnPropertyDescriptor(n,m).enumerable})),u.push.apply(u,p)}return u}function ee(n){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?H(Object(u),!0).forEach(function(p){Y(n,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(u)):H(Object(u)).forEach(function(p){Object.defineProperty(n,p,Object.getOwnPropertyDescriptor(u,p))})}return n}function Y(n,o,u){return o in n?Object.defineProperty(n,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[o]=u,n}var re={_fireDrawStart:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},n,o)},_fireDrawEnd:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawend",{shape:this._shape},n,o)},_fireCreate:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Draw",u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._map,"pm:create",{shape:this._shape,marker:n,layer:n},o,u)},_fireCenterPlaced:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=n==="Draw"?this._layer:void 0,p=n!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:u,layer:p,latlng:this._layer.getLatLng()},n,o)},_fireCut:function(n,o,u){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Draw",m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(n,"pm:cut",{shape:this._shape,layer:o,originalLayer:u},p,m)},_fireEdit:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._layer,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(n,"pm:edit",{layer:this._layer,shape:this.getShape()},o,u)},_fireEnable:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},n,o)},_fireDisable:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},n,o)},_fireUpdate:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},n,o)},_fireMarkerDragStart:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:n,shape:this.getShape(),indexPath:o},u,p)},_fireMarkerDrag:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:n,shape:this.getShape(),indexPath:o},u,p)},_fireMarkerDragEnd:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:n,shape:this.getShape(),indexPath:o,intersectionReset:u},p,m)},_fireDragStart:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},n,o)},_fireDrag:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:drag",ee(ee({},n),{},{shape:this.getShape()}),o,u)},_fireDragEnd:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},n,o)},_fireDragEnable:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},n,o)},_fireDragDisable:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},n,o)},_fireRemove:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(n,"pm:remove",{layer:o,shape:this.getShape()},u,p)},_fireVertexAdded:function(n,o,u){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:n,indexPath:o,latlng:u,shape:this.getShape()},p,m)},_fireVertexRemoved:function(n,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:n,indexPath:o,shape:this.getShape()},u,p)},_fireVertexClick:function(n,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:n,indexPath:o,shape:this.getShape()},u,p)},_fireIntersect:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._layer,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(o,"pm:intersect",{layer:this._layer,intersection:n,shape:this.getShape()},u,p)},_fireLayerReset:function(n,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:n,indexPath:o,shape:this.getShape()},u,p)},_fireChange:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:n,shape:this.getShape()},o,u)},_fireTextChange:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:n,shape:this.getShape()},o,u)},_fireTextFocus:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},n,o)},_fireTextBlur:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},n,o)},_fireSnapDrag:function(n,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(n,"pm:snapdrag",o,u,p)},_fireSnap:function(n,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(n,"pm:snap",o,u,p)},_fireUnsnap:function(n,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(n,"pm:unsnap",o,u,p)},_fireRotationEnable:function(n,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(n,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},u,p)},_fireRotationDisable:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Rotation",u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(n,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},o,u)},_fireRotationStart:function(n,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(n,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:o},u,p)},_fireRotation:function(n,o,u){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this._rotationLayer,m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Rotation",O=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(n,"pm:rotate",{layer:p,helpLayer:this._layer,startAngle:this._startAngle,angle:p.pm.getAngle(),angleDiff:o,oldLatLngs:u,newLatLngs:p.getLatLngs()},m,O)},_fireRotationEnd:function(n,o,u){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Rotation",m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(n,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:o,angle:this._rotationLayer.pm.getAngle(),originLatLngs:u,newLatLngs:this._rotationLayer.getLatLngs()},p,m)},_fireActionClick:function(n,o,u){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Toolbar",m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._map,"pm:actionclick",{text:n.text,action:n,btnName:o,button:u},p,m)},_fireButtonClick:function(n,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Toolbar",p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._map,"pm:buttonclick",{btnName:n,button:o},u,p)},_fireLangChange:function(n,o,u,p){var m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Global",O=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(this.map,"pm:langchange",{oldLang:n,activeLang:o,fallback:u,translations:p},m,O)},_fireGlobalDragModeToggled:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:n,map:this.map},o,u)},_fireGlobalEditModeToggled:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:n,map:this.map},o,u)},_fireGlobalRemovalModeToggled:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:n,map:this.map},o,u)},_fireGlobalCutModeToggled:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},n,o)},_fireGlobalDrawModeToggled:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},n,o)},_fireGlobalRotateModeToggled:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},n,o)},_fireRemoveLayerGroup:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(n,"pm:remove",{layer:o,shape:void 0},u,p)},_fireKeyeventEvent:function(n,o,u){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Global",m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this.map,"pm:keyevent",{event:n,eventType:o,focusOn:u},p,m)},__fire:function(n,o,u,p){var m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};u=s()(u,m,{source:p}),L.PM.Utils._fireEvent(n,o,u)}};const te=re,K={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(n){this.map=n,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(n){var o="document";this.map.getContainer().contains(n.target)&&(o="map");var u={event:n,eventType:n.type,focusOn:o};this._lastEvents[n.type]=u,this._lastEvents.current=u,this.map.pm._fireKeyeventEvent(n,n.type,o)},_onBlur:function(n){n.altKey=!1;var o={event:n,eventType:n.type,focusOn:"document"};this._lastEvents[n.type]=o,this._lastEvents.current=o},getLastKeyEvent:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"current";return this._lastEvents[n]},isShiftKeyPressed:function(){var n;return(n=this._lastEvents.current)===null||n===void 0?void 0:n.event.shiftKey},isAltKeyPressed:function(){var n;return(n=this._lastEvents.current)===null||n===void 0?void 0:n.event.altKey},isCtrlKeyPressed:function(){var n;return(n=this._lastEvents.current)===null||n===void 0?void 0:n.event.ctrlKey},isMetaKeyPressed:function(){var n;return(n=this._lastEvents.current)===null||n===void 0?void 0:n.event.metaKey},getPressedKey:function(){var n;return(n=this._lastEvents.current)===null||n===void 0?void 0:n.event.key}};var ae=r(7361),J=r.n(ae),ce=r(8721),U=r.n(ce);function Q(n){var o=L.PM.activeLang;return U()(C,o)||(o="en"),J()(C[o],n)}function de(n){for(var o=0;o<n.length;o+=1){var u=n[o];if(Array.isArray(u)){if(de(u))return!0}else if(u!=null&&u!=="")return!0}return!1}function we(n){return n.reduce(function(o,u){if(u.length!==0){var p=Array.isArray(u)?we(u):u;Array.isArray(p)?p.length!==0&&o.push(p):o.push(p)}return o},[])}function ke(n,o,u){for(var p,m,O,A={a:L.CRS.Earth.R,b:63567523142e-4,f:1/298.257223563},z=A.a,N=A.b,$=A.f,W=n.lng,oe=n.lat,ne=u,he=Math.PI,be=o*he/180,Be=Math.sin(be),Ne=Math.cos(be),Qe=(1-$)*Math.tan(oe*he/180),Je=1/Math.sqrt(1+Qe*Qe),dt=Qe*Je,Zt=Math.atan2(Qe,Ne),$t=Je*Be,so=1-$t*$t,Rn=so*(z*z-N*N)/(N*N),za=1+Rn/16384*(4096+Rn*(Rn*(320-175*Rn)-768)),lo=Rn/1024*(256+Rn*(Rn*(74-47*Rn)-128)),Kn=ne/(N*za),ja=2*Math.PI;Math.abs(Kn-ja)>1e-12;)p=Math.cos(2*Zt+Kn),ja=Kn,Kn=ne/(N*za)+lo*(m=Math.sin(Kn))*(p+lo/4*((O=Math.cos(Kn))*(2*p*p-1)-lo/6*p*(4*m*m-3)*(4*p*p-3)));var Fa=dt*m-Je*O*Ne,zc=Math.atan2(dt*O+Je*m*Ne,(1-$)*Math.sqrt($t*$t+Fa*Fa)),uo=$/16*so*(4+$*(4-3*so)),jc=W+180*(Math.atan2(m*Be,Je*O-dt*m*Ne)-(1-uo)*$*$t*(Kn+uo*m*(p+uo*O*(2*p*p-1))))/he,Fc=180*zc/he;return L.latLng(jc,Fc)}function Ee(n,o,u,p){for(var m,O,A=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],z=[],N=0;N<u;N+=1){if(A)m=ke(n,360*N/u+p,o),O=L.latLng(m.lng,m.lat);else{var $=n.lat+Math.cos(2*N*Math.PI/u)*o,W=n.lng+Math.sin(2*N*Math.PI/u)*o;O=L.latLng($,W)}z.push(O)}return z}function qe(n,o,u){var p=n.latLngToContainerPoint(o),m=n.latLngToContainerPoint(u),O=180*Math.atan2(m.y-p.y,m.x-p.x)/Math.PI+90;return O+=O<0?360:0}function We(n,o,u,p){return function(m,O,A){O=(O+360)%360;var z=Math.PI/180,N=180/Math.PI,$=L.CRS.Earth.R,W=m.lng*z,oe=m.lat*z,ne=O*z,he=Math.sin(oe),be=Math.cos(oe),Be=Math.cos(A/$),Ne=Math.sin(A/$),Qe=Math.asin(he*Be+be*Ne*Math.cos(ne)),Je=W+Math.atan2(Math.sin(ne)*Ne*be,Be-he*Math.sin(Qe));return Je=(Je*=N)>180?Je-360:Je<-180?Je+360:Je,L.latLng([Qe*N,Je])}(o,qe(n,o,u),p)}function $e(n,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"asc";if(!o||Object.keys(o).length===0)return function(N,$){return N-$};for(var p,m=Object.keys(o),O=m.length-1,A={};O>=0;)p=m[O],A[p.toLowerCase()]=o[p],O-=1;function z(N){return N instanceof L.Marker?"Marker":N instanceof L.Circle?"Circle":N instanceof L.CircleMarker?"CircleMarker":N instanceof L.Rectangle?"Rectangle":N instanceof L.Polygon?"Polygon":N instanceof L.Polyline?"Line":void 0}return function(N,$){var W,oe;if(n==="instanceofShape"){if(W=z(N.layer).toLowerCase(),oe=z($.layer).toLowerCase(),!W||!oe)return 0}else{if(!N.hasOwnProperty(n)||!$.hasOwnProperty(n))return 0;W=N[n].toLowerCase(),oe=$[n].toLowerCase()}var ne=W in A?A[W]:Number.MAX_SAFE_INTEGER,he=oe in A?A[oe]:Number.MAX_SAFE_INTEGER,be=0;return ne<he?be=-1:ne>he&&(be=1),u==="desc"?-1*be:be}}function Te(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.getLatLngs();return n instanceof L.Polygon?L.polygon(o).getLatLngs():L.polyline(o).getLatLngs()}function xe(n,o){var u,p;if((u=o.options.crs)!==null&&u!==void 0&&(p=u.projection)!==null&&p!==void 0&&p.MAX_LATITUDE){var m,O,A=(m=o.options.crs)===null||m===void 0||(O=m.projection)===null||O===void 0?void 0:O.MAX_LATITUDE;n.lat=Math.max(Math.min(A,n.lat),-A)}return n}function De(n){return n.options.renderer||n._map&&(n._map._getPaneRenderer(n.options.pane)||n._map.options.renderer||n._map._renderer)||n._renderer}const wt=L.Class.extend({includes:[E,T,B,I,te],initialize:function(n){this.map=n,this.Draw=new L.PM.Draw(n),this.Toolbar=new L.PM.Toolbar(n),this.Keyboard=K,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(n)},setLang:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",o=arguments.length>1?arguments[1]:void 0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"en",p=L.PM.activeLang;o&&(C[n]=s()(C[u],o)),L.PM.activeLang=n,this.map.pm.Toolbar.reinit(),this._fireLangChange(p,n,u,C[n])},addControls:function(n){this.Toolbar.addControls(n)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon",o=arguments.length>1?arguments[1]:void 0;n==="Poly"&&(n="Polygon"),this.Draw.enable(n,o)},disableDraw:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon";n==="Poly"&&(n="Polygon"),this.Draw.disable(n)},setPathOptions:function(n){var o=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=u.ignoreShapes||[],m=u.merge||!1;this.map.pm.Draw.shapes.forEach(function(O){p.indexOf(O)===-1&&o.map.pm.Draw[O].setPathOptions(n,m)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(n){var o=this,u=s()(this.globalOptions,n);u.editable&&(u.resizeableCircleMarker=u.editable,delete u.editable);var p=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!u.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),p=!0);var m=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizableCircle!=!!u.resizableCircle&&(this.map.pm.Draw.Circle.disable(),m=!0),this.map.pm.Draw.shapes.forEach(function(O){o.map.pm.Draw[O].setOptions(u)}),p&&this.map.pm.Draw.CircleMarker.enable(),m&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(function(O){O.pm.setOptions(u)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=u,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach(function(n){n.pm.enabled()&&n.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(n){return this.Draw.Cut.enable(n)},toggleGlobalCutMode:function(n){return this.Draw.Cut.toggle(n)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=L.PM.Utils.findLayers(this.map);if(!n)return o;var u=L.featureGroup();return u._pmTempLayer=!0,o.forEach(function(p){u.addLayer(p)}),u},getGeomanDrawLayers:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=L.PM.Utils.findLayers(this.map).filter(function(p){return p._drawnByGeoman===!0});if(!n)return o;var u=L.featureGroup();return u._pmTempLayer=!0,o.forEach(function(p){u.addLayer(p)}),u},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(n){this._touchEventCounter===0&&(L.DomEvent.on(n,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(n,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(n){this._touchEventCounter===1&&(L.DomEvent.off(n,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(n,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(n){De(this.map)._onMouseMove(this._createMouseEvent("mousemove",n))},_canvasTouchClick:function(n){var o="";n.type==="touchstart"||n.type==="pointerdown"?o="mousedown":n.type==="touchend"||n.type==="pointerup"?o="mouseup":n.type!=="touchcancel"&&n.type!=="pointercancel"||(o="mouseup"),o&&De(this.map)._onClick(this._createMouseEvent(o,n))},_createMouseEvent:function(n,o){var u,p=o.touches[0]||o.changedTouches[0];try{u=new MouseEvent(n,{bubbles:o.bubbles,cancelable:o.cancelable,view:o.view,detail:p.detail,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY,ctrlKey:o.ctrlKey,altKey:o.altKey,shiftKey:o.shiftKey,metaKey:o.metaKey,button:o.button,relatedTarget:o.relatedTarget})}catch{(u=document.createEvent("MouseEvents")).initMouseEvent(n,o.bubbles,o.cancelable,o.view,p.detail,p.screenX,p.screenY,p.clientX,p.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,o.relatedTarget)}return u}}),st=L.Control.extend({includes:[te],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(n){this._button=L.Util.extend({},this.options,n)},onAdd:function(n){return this._map=n,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(n){return this._button.toggleStatus=typeof n=="boolean"?n:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(n){n&&n.preventDefault(),this._button.disabled||(this._button.onClick(n,{button:this,event:n}),this._clicked(n),this._button.afterClick(n,{button:this,event:n}))},_makeButton:function(n){var o=this,u=this.options.position.indexOf("right")>-1?"pos-right":"",p=L.DomUtil.create("div","button-container  ".concat(u),this._container);n.title&&p.setAttribute("title",n.title);var m=L.DomUtil.create("a","leaflet-buttons-control-button",p);m.setAttribute("role","button"),m.setAttribute("tabindex","0"),m.href="#";var O=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(u),p),A=n.actions,z={cancel:{text:Q("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:Q("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:Q("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[n.jsClass]._removeLastVertex()}},finish:{text:Q("actions.finish"),onClick:function($){this._map.pm.Draw[n.jsClass]._finishShape($)}}};A.forEach(function($){var W,oe=typeof $=="string"?$:$.name;if(z[oe])W=z[oe];else{if(!$.text)return;W=$}var ne=L.DomUtil.create("a","leaflet-pm-action ".concat(u," action-").concat(oe),O);ne.setAttribute("role","button"),ne.setAttribute("tabindex","0"),ne.href="#",ne.innerHTML=W.text,L.DomEvent.disableClickPropagation(ne),L.DomEvent.on(ne,"click",L.DomEvent.stop),!n.disabled&&W.onClick&&(L.DomEvent.addListener(ne,"click",function(he){he.preventDefault();var be="",Be=o._map.pm.Toolbar.buttons;for(var Ne in Be)if(Be[Ne]._button===n){be=Ne;break}o._fireActionClick(W,be,n)},o),L.DomEvent.addListener(ne,"click",W.onClick,o))}),n.toggleStatus&&L.DomUtil.addClass(p,"active");var N=L.DomUtil.create("div","control-icon",m);return n.iconUrl&&N.setAttribute("src",n.iconUrl),n.className&&L.DomUtil.addClass(N,n.className),L.DomEvent.disableClickPropagation(m),L.DomEvent.on(m,"click",L.DomEvent.stop),n.disabled||(L.DomEvent.addListener(m,"click",this._onBtnClick,this),L.DomEvent.addListener(m,"click",this._triggerClick,this)),n.disabled&&(L.DomUtil.addClass(m,"pm-disabled"),m.setAttribute("aria-disabled","true")),p},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&this._button.cssToggle!==!1?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var n="",o=this._map.pm.Toolbar.buttons;for(var u in o)if(o[u]._button===this._button){n=u;break}this._fireButtonClick(n,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var n="pm-disabled",o=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(o,n),o.setAttribute("aria-disabled","true"),L.DomEvent.off(o,"click",this._triggerClick,this),L.DomEvent.off(o,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(o,n),o.setAttribute("aria-disabled","false"),L.DomEvent.on(o,"click",this._triggerClick,this),L.DomEvent.on(o,"click",this._onBtnClick,this))}}});function Ye(n,o){var u=Object.keys(n);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(n);o&&(p=p.filter(function(m){return Object.getOwnPropertyDescriptor(n,m).enumerable})),u.push.apply(u,p)}return u}function Mt(n){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?Ye(Object(u),!0).forEach(function(p){pt(n,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(u)):Ye(Object(u)).forEach(function(p){Object.defineProperty(n,p,Object.getOwnPropertyDescriptor(u,p))})}return n}function pt(n,o,u){return o in n?Object.defineProperty(n,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[o]=u,n}function Ue(n){return Ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Ue(n)}L.Control.PMButton=st;const ze=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(n){this.init(n)},reinit:function(){var n=this.isVisible;this.removeControls(),this._defineButtons(),n&&this.addControls()},init:function(n){this.map=n,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(n){var o="".concat(n,"Container");return this[o]||(this[o]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(n," leaflet-bar leaflet-control"))),this[o]},getButtons:function(){return this.buttons},addControls:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;typeof n.editPolygon<"u"&&(n.editMode=n.editPolygon),typeof n.deleteLayer<"u"&&(n.removalMode=n.deleteLayer),L.Util.setOptions(this,n),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var n=this.getButtons(),o={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var u in n){var p=n[u];L.Util.setOptions(p,{className:o.geomanIcons[u]})}},removeControls:function(){var n=this.getButtons();for(var o in n)n[o].remove();this.isVisible=!1},toggleControls:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(n)},_addButton:function(n,o){return this.buttons[n]=o,this.options[n]=this.options[n]||!1,this.buttons[n]},triggerClickOnToggledButtons:function(n){for(var o in this.buttons){var u=this.buttons[o];u._button.disableByOtherButtons&&u!==n&&u.toggled()&&u._triggerClick()}},toggleButton:function(n,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return n==="editPolygon"&&(n="editMode"),n==="deleteLayer"&&(n="removalMode"),u&&this.triggerClickOnToggledButtons(this.buttons[n]),!!this.buttons[n]&&this.buttons[n].toggle(o)},_defineButtons:function(){var n=this,o={className:"control-icon leaflet-pm-icon-marker",title:Q("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(he,be){n.map.pm.Draw[be.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},u={title:Q("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(he,be){n.map.pm.Draw[be.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},p={className:"control-icon leaflet-pm-icon-polyline",title:Q("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(he,be){n.map.pm.Draw[be.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},m={title:Q("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(he,be){n.map.pm.Draw[be.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},O={title:Q("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(he,be){n.map.pm.Draw[be.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},A={title:Q("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(he,be){n.map.pm.Draw[be.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},z={title:Q("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){n.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},N={title:Q("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){n.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},$={title:Q("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(he,be){n.map.pm.Draw[be.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},W={title:Q("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){n.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},oe={title:Q("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){n.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ne={className:"control-icon leaflet-pm-icon-text",title:Q("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(he,be){n.map.pm.Draw[be.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(o)),this._addButton("drawPolyline",new L.Control.PMButton(p)),this._addButton("drawRectangle",new L.Control.PMButton(A)),this._addButton("drawPolygon",new L.Control.PMButton(u)),this._addButton("drawCircle",new L.Control.PMButton(m)),this._addButton("drawCircleMarker",new L.Control.PMButton(O)),this._addButton("drawText",new L.Control.PMButton(ne)),this._addButton("editMode",new L.Control.PMButton(z)),this._addButton("dragMode",new L.Control.PMButton(N)),this._addButton("cutPolygon",new L.Control.PMButton($)),this._addButton("removalMode",new L.Control.PMButton(W)),this._addButton("rotateMode",new L.Control.PMButton(oe))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var n=this.getButtons(),o=[];for(var u in this.options.drawControls===!1&&(o=o.concat(Object.keys(n).filter(function(m){return!n[m]._button.tool}))),this.options.editControls===!1&&(o=o.concat(Object.keys(n).filter(function(m){return n[m]._button.tool==="edit"}))),this.options.optionsControls===!1&&(o=o.concat(Object.keys(n).filter(function(m){return n[m]._button.tool==="options"}))),this.options.customControls===!1&&(o=o.concat(Object.keys(n).filter(function(m){return n[m]._button.tool==="custom"}))),n)if(this.options[u]&&o.indexOf(u)===-1){var p=n[u]._button.tool;p||(p="draw"),n[u].setPosition(this._getBtnPosition(p)),n[u].addTo(this.map)}}},_getBtnPosition:function(n){return this.options.positions&&this.options.positions[n]?this.options.positions[n]:this.options.position},setBlockPosition:function(n,o){this.options.positions[n]=o,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(n,o){if(!o)throw new TypeError("Button has no name");Ue(o)!=="object"&&(o={name:o});var u=this._btnNameMapping(n);if(!o.name)throw new TypeError("Button has no name");if(this.buttons[o.name])throw new TypeError("Button with this name already exists");var p=this.map.pm.Draw.createNewDrawInstance(o.name,u);return o=Mt(Mt({},this.buttons[u]._button),o),{drawInstance:p,control:this.createCustomControl(o)}},createCustomControl:function(n){var o,u;if(!n.name)throw new TypeError("Button has no name");if(this.buttons[n.name])throw new TypeError("Button with this name already exists");n.onClick||(n.onClick=function(){}),n.afterClick||(n.afterClick=function(){}),n.toggle!==!1&&(n.toggle=!0),n.block&&(n.block=n.block.toLowerCase()),n.block&&n.block!=="draw"||(n.block=""),n.className?n.className.indexOf("control-icon")===-1&&(n.className="control-icon ".concat(n.className)):n.className="control-icon";var p={tool:n.block,className:n.className,title:n.title||"",jsClass:n.name,onClick:n.onClick,afterClick:n.afterClick,doToggle:n.toggle,toggleStatus:!1,disableOtherButtons:(o=n.disableOtherButtons)===null||o===void 0||o,disableByOtherButtons:(u=n.disableByOtherButtons)===null||u===void 0||u,cssToggle:n.toggle,position:this.options.position,actions:n.actions||[],disabled:!!n.disabled};this.options[n.name]!==!1&&(this.options[n.name]=!0);var m=this._addButton(n.name,new L.Control.PMButton(p));return this.changeControlOrder(),m},changeControlOrder:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=this._shapeMapping(),u=[];n.forEach(function($){o[$]?u.push(o[$]):u.push($)});var p=this.getButtons(),m={};u.forEach(function($){p[$]&&(m[$]=p[$])});var O=Object.keys(p).filter(function($){return!p[$]._button.tool});O.forEach(function($){u.indexOf($)===-1&&(m[$]=p[$])});var A=Object.keys(p).filter(function($){return p[$]._button.tool==="edit"});A.forEach(function($){u.indexOf($)===-1&&(m[$]=p[$])});var z=Object.keys(p).filter(function($){return p[$]._button.tool==="options"});z.forEach(function($){u.indexOf($)===-1&&(m[$]=p[$])});var N=Object.keys(p).filter(function($){return p[$]._button.tool==="custom"});N.forEach(function($){u.indexOf($)===-1&&(m[$]=p[$])}),Object.keys(p).forEach(function($){u.indexOf($)===-1&&(m[$]=p[$])}),this.map.pm.Toolbar.buttons=m,this._showHideButtons()},getControlOrder:function(){var n=this.getButtons(),o=[];for(var u in n)o.push(u);return o},changeActionsOfControl:function(n,o){var u=this._btnNameMapping(n);if(!u)throw new TypeError("No name passed");if(!o)throw new TypeError("No actions passed");if(!this.buttons[u])throw new TypeError("Button with this name not exists");this.buttons[u]._button.actions=o,this.changeControlOrder()},setButtonDisabled:function(n,o){var u=this._btnNameMapping(n);o?this.buttons[u].disable():this.buttons[u].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(n){var o=this._shapeMapping();return o[n]?o[n]:n}});function Xe(n,o){var u=Object.keys(n);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(n);o&&(p=p.filter(function(m){return Object.getOwnPropertyDescriptor(n,m).enumerable})),u.push.apply(u,p)}return u}function It(n){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?Xe(Object(u),!0).forEach(function(p){Et(n,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(u)):Xe(Object(u)).forEach(function(p){Object.defineProperty(n,p,Object.getOwnPropertyDescriptor(u,p))})}return n}function Et(n,o,u){return o in n?Object.defineProperty(n,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[o]=u,n}var R={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(n){var o=this;n.forEach(function(u){Array.isArray(u)?o._assignEvents(u):(u.off("drag",o._handleSnapping,o),u.on("drag",o._handleSnapping,o),u.off("dragend",o._cleanupSnapping,o),u.on("dragend",o._cleanupSnapping,o))})},_cleanupSnapping:function(n){n&&(n.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(o){o.remove()})},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(n){var o,u,p,m=this,O=n.target;if(O._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),n!=null&&(o=n.originalEvent)!==null&&o!==void 0&&o.altKey||(u=this._map)!==null&&u!==void 0&&(p=u.pm)!==null&&p!==void 0&&p.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var A=this._calcClosestLayer(O.getLatLng(),this._snapList);if(Object.keys(A).length===0)return!1;var z,N=A.layer instanceof L.Marker||A.layer instanceof L.CircleMarker||!this.options.snapSegment;z=N?A.latlng:this._checkPrioritiySnapping(A);var $=this.options.snapDistance,W={marker:O,shape:this._shape,snapLatLng:z,segment:A.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:A.layer,distance:A.distance};if(this._fireSnapDrag(W.marker,W),this._fireSnapDrag(this._layer,W),A.distance<$){O._orgLatLng=O.getLatLng(),O.setLatLng(z),O._snapped=!0,O._snapInfo=W;var oe=this._snapLatLng||{},ne=z||{};oe.lat===ne.lat&&oe.lng===ne.lng||(m._snapLatLng=z,m._fireSnap(O,W),m._fireSnap(m._layer,W))}else this._snapLatLng&&(this._unsnap(W),O._snapped=!1,O._snapInfo=void 0,this._fireUnsnap(W.marker,W),this._fireUnsnap(this._layer,W));return!0},_createSnapList:function(){var n=this,o=[],u=[],p=this._map;p.off("layerremove",this._handleSnapLayerRemoval,this),p.on("layerremove",this._handleSnapLayerRemoval,this),p.eachLayer(function(m){if((m instanceof L.Polyline||m instanceof L.Marker||m instanceof L.CircleMarker||m instanceof L.ImageOverlay)&&m.options.snapIgnore!==!0){if(m.options.snapIgnore===void 0&&(!L.PM.optIn&&m.options.pmIgnore===!0||L.PM.optIn&&m.options.pmIgnore!==!1))return;(m instanceof L.Circle||m instanceof L.CircleMarker)&&m.pm&&m.pm._hiddenPolyCircle?o.push(m.pm._hiddenPolyCircle):m instanceof L.ImageOverlay&&(m=L.rectangle(m.getBounds())),o.push(m);var O=L.polyline([],{color:"red",pmIgnore:!0});O._pmTempLayer=!0,u.push(O),(m instanceof L.Circle||m instanceof L.CircleMarker)&&u.push(O)}}),o=(o=(o=o.filter(function(m){return n._layer!==m})).filter(function(m){return m._latlng||m._latlngs&&de(m._latlngs)})).filter(function(m){return!m._pmTempLayer}),this._otherSnapLayers?(this._otherSnapLayers.forEach(function(){var m=L.polyline([],{color:"red",pmIgnore:!0});m._pmTempLayer=!0,u.push(m)}),this._snapList=o.concat(this._otherSnapLayers)):this._snapList=o,this.debugIndicatorLines=u},_handleSnapLayerRemoval:function(n){var o=n.layer;if(o._leaflet_id){var u=this._snapList.findIndex(function(p){return p._leaflet_id===o._leaflet_id});u>-1&&this._snapList.splice(u,1)}},_calcClosestLayer:function(n,o){return this._calcClosestLayers(n,o,1)[0]},_calcClosestLayers:function(n,o){var u=this,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,m=[],O={};o.forEach(function(z,N){if(!z._parentCopy||z._parentCopy!==u._layer){var $=u._calcLayerDistances(n,z);if($.distance=Math.floor($.distance),u.debugIndicatorLines){if(!u.debugIndicatorLines[N]){var W=L.polyline([],{color:"red",pmIgnore:!0});W._pmTempLayer=!0,u.debugIndicatorLines[N]=W}u.debugIndicatorLines[N].setLatLngs([n,$.latlng])}p===1&&(O.distance===void 0||$.distance<=O.distance)?($.distance<O.distance&&(m=[]),(O=$).layer=z,m.push(O)):p!==1&&(O={},(O=$).layer=z,m.push(O))}}),p!==1&&(m=m.sort(function(z,N){return z.distance-N.distance})),p===-1&&(p=m.length);var A=this._getClosestLayerByPriority(m,p);return L.Util.isArray(A)?A:[A]},_calcLayerDistances:function(n,o){var u=this._map,p=o instanceof L.Marker||o instanceof L.CircleMarker,m=o instanceof L.Polygon,O=n;if(p){var A=o.getLatLng();return{latlng:It({},A),distance:this._getDistance(u,A,O)}}return this._calcLatLngDistances(O,o.getLatLngs(),u,m)},_calcLatLngDistances:function(n,o,u){var p,m,O,A=this,z=arguments.length>3&&arguments[3]!==void 0&&arguments[3],N=function W(oe){oe.forEach(function(ne,he){if(Array.isArray(ne))W(ne);else if(A.options.snapSegment){var be,Be=ne;be=z?he+1===oe.length?0:he+1:he+1===oe.length?void 0:he+1;var Ne=oe[be];if(Ne){var Qe=A._getDistanceToSegment(u,n,Be,Ne);(m===void 0||Qe<m)&&(m=Qe,O=[Be,Ne])}}else{var Je=A._getDistance(u,n,ne);(m===void 0||Je<m)&&(m=Je,p=ne)}})};if(N(o),this.options.snapSegment){var $=this._getClosestPointOnSegment(u,n,O[0],O[1]);return{latlng:It({},$),segment:O,distance:m}}return{latlng:p,distance:m}},_getClosestLayerByPriority:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;n=n.sort(function(A,z){return A._leaflet_id-z._leaflet_id});var u=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],p=this._map.pm.globalOptions.snappingOrder||[],m=0,O={};return p.concat(u).forEach(function(A){O[A]||(m+=1,O[A]=m)}),n.sort($e("instanceofShape",O)),o===1?n[0]||{}:n.slice(0,o)},_checkPrioritiySnapping:function(n){var o=this._map,u=n.segment[0],p=n.segment[1],m=n.latlng,O=this._getDistance(o,u,m),A=this._getDistance(o,p,m),z=O<A?u:p,N=O<A?O:A;if(this.options.snapMiddle){var $=L.PM.Utils.calcMiddleLatLng(o,u,p),W=this._getDistance(o,$,m);W<O&&W<A&&(z=$,N=W)}return It({},N<this.options.snapDistance?z:m)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(n,o,u,p){var m=n.getMaxZoom();m===1/0&&(m=n.getZoom());var O=n.project(o,m),A=n.project(u,m),z=n.project(p,m),N=L.LineUtil.closestPointOnSegment(O,A,z);return n.unproject(N,m)},_getDistanceToSegment:function(n,o,u,p){var m=n.latLngToLayerPoint(o),O=n.latLngToLayerPoint(u),A=n.latLngToLayerPoint(p);return L.LineUtil.pointToSegmentDistance(m,O,A)},_getDistance:function(n,o,u){return n.latLngToLayerPoint(o).distanceTo(n.latLngToLayerPoint(u))}};const b=R,k=L.Class.extend({includes:[b,te],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0},setOptions:function(n){L.Util.setOptions(this,n),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(n){var o=this,u=new L.Icon.Default;u.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=u,this._map=n,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(function(p){o[p]=new L.PM.Draw[p](o._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(n){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.options.pathOptions=o?s()(this.options.pathOptions,n):n},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(n,o){if(!n)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[n].enable(o)},disable:function(){var n=this;this.shapes.forEach(function(o){n[o].disable()})},addControls:function(){var n=this;this.shapes.forEach(function(o){n[o].addButton()})},getActiveShape:function(){var n,o=this;return this.shapes.forEach(function(u){o[u]._enabled&&(n=u)}),n},_setGlobalDrawMode:function(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();var n=L.PM.Utils.findLayers(this._map);this._enabled?n.forEach(function(o){L.PM.Utils.disablePopup(o)}):n.forEach(function(o){L.PM.Utils.enablePopup(o)})},createNewDrawInstance:function(n,o){var u=this._getShapeFromBtnName(o);if(this[n])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[u])throw new TypeError("There is no class L.PM.Draw.".concat(u));return this[n]=new L.PM.Draw[u](this._map),this[n].toolbarButtonName=n,this[n]._shape=n,this.shapes.push(n),this[o]&&this[n].setOptions(this[o].options),this[n].setOptions(this[n].options),this[n]},_getShapeFromBtnName:function(n){var o={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return o[n]?o[n]:this[n]?this[n]._shape:n},_finishLayer:function(n){n.pm&&(n.pm.setOptions(this.options),n.pm._shape=this._shape,n.pm._map=this._map),this._addDrawnLayerProp(n)},_addDrawnLayerProp:function(n){n._drawnByGeoman=!0},_setPane:function(n,o){o==="layerPane"?n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":o==="vertexPane"?n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":o==="markerPane"&&(n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}});k.Marker=k.extend({initialize:function(n){this._map=n,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(n){var o=this;L.Util.setOptions(this,n),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Q("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(u){o.isRelevantMarker(u)&&u.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var n=this;this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(o){n.isRelevantMarker(o)&&o.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(n){this.enabled()?this.disable():this.enable(n)},isRelevantMarker:function(n){return n instanceof L.Marker&&n.pm&&!n._pmTempLayer&&!n.pm._initTextMarker},_syncHintMarker:function(n){if(this._hintMarker.setLatLng(n.latlng),this.options.snappable){var o=n;o.target=this._hintMarker,this._handleSnapping(o)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(n){if(n.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);var o=this._hintMarker.getLatLng(),u=new L.Marker(o,this.options.markerStyle);this._setPane(u,"markerPane"),this._finishLayer(u),u.pm||(u.options.draggable=!1),u.addTo(this._map.pm._getContainingLayer()),u.pm&&this.options.markerEditable?u.pm.enable():u.dragging&&u.dragging.disable(),this._fireCreate(u),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var n,o;(n=this.options.markerStyle)!==null&&n!==void 0&&n.icon&&((o=this._hintMarker)===null||o===void 0||o.setIcon(this.options.markerStyle.icon))}});var P=63710088e-1,j={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*P,kilometers:6371.0088,kilometres:6371.0088,meters:P,metres:P,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:P/1852,radians:1,yards:6967335223679999e-9};function F(n,o,u){u===void 0&&(u={});var p={type:"Feature"};return(u.id===0||u.id)&&(p.id=u.id),u.bbox&&(p.bbox=u.bbox),p.properties=o||{},p.geometry=n,p}function V(n,o,u){if(u===void 0&&(u={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!je(n[0])||!je(n[1]))throw new Error("coordinates must contain numbers");return F({type:"Point",coordinates:n},o,u)}function X(n,o,u){if(u===void 0&&(u={}),n.length<2)throw new Error("coordinates must be an array of two or more positions");return F({type:"LineString",coordinates:n},o,u)}function G(n,o){o===void 0&&(o={});var u={type:"FeatureCollection"};return o.id&&(u.id=o.id),o.bbox&&(u.bbox=o.bbox),u.features=n,u}function ie(n,o){o===void 0&&(o="kilometers");var u=j[o];if(!u)throw new Error(o+" units is invalid");return n*u}function me(n,o){o===void 0&&(o="kilometers");var u=j[o];if(!u)throw new Error(o+" units is invalid");return n/u}function _e(n){return 180*(n%(2*Math.PI))/Math.PI}function Le(n){return n%360*Math.PI/180}function je(n){return!isNaN(n)&&n!==null&&!Array.isArray(n)}function Fe(n){var o,u,p={type:"FeatureCollection",features:[]};if((u=n.type==="Feature"?n.geometry:n).type==="LineString")o=[u.coordinates];else if(u.type==="MultiLineString")o=u.coordinates;else if(u.type==="MultiPolygon")o=[].concat.apply([],u.coordinates);else{if(u.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");o=u.coordinates}return o.forEach(function(m){o.forEach(function(O){for(var A=0;A<m.length-1;A++)for(var z=A;z<O.length-1;z++)if(!(m===O&&(Math.abs(A-z)===1||A===0&&z===m.length-2&&m[A][0]===m[m.length-1][0]&&m[A][1]===m[m.length-1][1]))){var N=He(m[A][0],m[A][1],m[A+1][0],m[A+1][1],O[z][0],O[z][1],O[z+1][0],O[z+1][1]);N&&p.features.push(V([N[0],N[1]]))}})}),p}function He(n,o,u,p,m,O,A,z){var N,$,W,oe,ne={x:null,y:null,onLine1:!1,onLine2:!1};return(N=(z-O)*(u-n)-(A-m)*(p-o))===0?ne.x!==null&&ne.y!==null&&ne:(oe=(u-n)*($=o-O)-(p-o)*(W=n-m),$=((A-m)*$-(z-O)*W)/N,W=oe/N,ne.x=n+$*(u-n),ne.y=o+$*(p-o),$>=0&&$<=1&&(ne.onLine1=!0),W>=0&&W<=1&&(ne.onLine2=!0),!(!ne.onLine1||!ne.onLine2)&&[ne.x,ne.y])}function it(n,o){var u=Object.keys(n);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(n);o&&(p=p.filter(function(m){return Object.getOwnPropertyDescriptor(n,m).enumerable})),u.push.apply(u,p)}return u}function lt(n){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?it(Object(u),!0).forEach(function(p){ht(n,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(u)):it(Object(u)).forEach(function(p){Object.defineProperty(n,p,Object.getOwnPropertyDescriptor(u,p))})}return n}function ht(n,o,u){return o in n?Object.defineProperty(n,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[o]=u,n}function gt(n,o){var u=Object.keys(n);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(n);o&&(p=p.filter(function(m){return Object.getOwnPropertyDescriptor(n,m).enumerable})),u.push.apply(u,p)}return u}function ut(n){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?gt(Object(u),!0).forEach(function(p){Kt(n,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(u)):gt(Object(u)).forEach(function(p){Object.defineProperty(n,p,Object.getOwnPropertyDescriptor(u,p))})}return n}function Kt(n,o,u){return o in n?Object.defineProperty(n,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[o]=u,n}function mt(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if(n.type==="Feature"&&n.geometry!==null&&n.geometry.type==="Point")return n.geometry.coordinates;if(n.type==="Point")return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Ze(n){if(Array.isArray(n))return n;if(n.type==="Feature"){if(n.geometry!==null)return n.geometry.coordinates}else if(n.coordinates)return n.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function q(n){return n.type==="Feature"?n.geometry:n}function ue(n,o){return n.type==="FeatureCollection"?"FeatureCollection":n.type==="GeometryCollection"?"GeometryCollection":n.type==="Feature"&&n.geometry!==null?n.geometry.type:n.type}function ve(n,o,u){if(n!==null)for(var p,m,O,A,z,N,$,W,oe=0,ne=0,he=n.type,be=he==="FeatureCollection",Be=he==="Feature",Ne=be?n.features.length:1,Qe=0;Qe<Ne;Qe++){z=(W=!!($=be?n.features[Qe].geometry:Be?n.geometry:n)&&$.type==="GeometryCollection")?$.geometries.length:1;for(var Je=0;Je<z;Je++){var dt=0,Zt=0;if((A=W?$.geometries[Je]:$)!==null){N=A.coordinates;var $t=A.type;switch(oe=!u||$t!=="Polygon"&&$t!=="MultiPolygon"?0:1,$t){case null:break;case"Point":if(o(N,ne,Qe,dt,Zt)===!1)return!1;ne++,dt++;break;case"LineString":case"MultiPoint":for(p=0;p<N.length;p++){if(o(N[p],ne,Qe,dt,Zt)===!1)return!1;ne++,$t==="MultiPoint"&&dt++}$t==="LineString"&&dt++;break;case"Polygon":case"MultiLineString":for(p=0;p<N.length;p++){for(m=0;m<N[p].length-oe;m++){if(o(N[p][m],ne,Qe,dt,Zt)===!1)return!1;ne++}$t==="MultiLineString"&&dt++,$t==="Polygon"&&Zt++}$t==="Polygon"&&dt++;break;case"MultiPolygon":for(p=0;p<N.length;p++){for(Zt=0,m=0;m<N[p].length;m++){for(O=0;O<N[p][m].length-oe;O++){if(o(N[p][m][O],ne,Qe,dt,Zt)===!1)return!1;ne++}Zt++}dt++}break;case"GeometryCollection":for(p=0;p<A.geometries.length;p++)if(ve(A.geometries[p],o,u)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Oe(n,o){if(n.type==="Feature")o(n,0);else if(n.type==="FeatureCollection")for(var u=0;u<n.features.length&&o(n.features[u],u)!==!1;u++);}function rt(n,o){var u,p,m,O,A,z,N,$,W,oe,ne=0,he=n.type==="FeatureCollection",be=n.type==="Feature",Be=he?n.features.length:1;for(u=0;u<Be;u++){for(z=he?n.features[u].geometry:be?n.geometry:n,$=he?n.features[u].properties:be?n.properties:{},W=he?n.features[u].bbox:be?n.bbox:void 0,oe=he?n.features[u].id:be?n.id:void 0,A=(N=!!z&&z.type==="GeometryCollection")?z.geometries.length:1,m=0;m<A;m++)if((O=N?z.geometries[m]:z)!==null)switch(O.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(o(O,ne,$,W,oe)===!1)return!1;break;case"GeometryCollection":for(p=0;p<O.geometries.length;p++)if(o(O.geometries[p],ne,$,W,oe)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(o(null,ne,$,W,oe)===!1)return!1;ne++}}function ct(n,o){rt(n,function(u,p,m,O,A){var z,N=u===null?null:u.type;switch(N){case null:case"Point":case"LineString":case"Polygon":return o(F(u,m,{bbox:O,id:A}),p,0)!==!1&&void 0}switch(N){case"MultiPoint":z="Point";break;case"MultiLineString":z="LineString";break;case"MultiPolygon":z="Polygon"}for(var $=0;$<u.coordinates.length;$++){var W=u.coordinates[$];if(o(F({type:z,coordinates:W},m),p,$)===!1)return!1}})}k.Line=k.extend({initialize:function(n){this._map=n,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(n){L.Util.setOptions(this,n),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],lt(lt({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Q("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(n){this.enabled()?this.disable():this.enable(n)},_syncHintLine:function(){var n=this._layer.getLatLngs();if(n.length>0){var o=n[n.length-1];this._hintline.setLatLngs([o,this._hintMarker.getLatLng()])}},_syncHintMarker:function(n){if(this._hintMarker.setLatLng(n.latlng),this.options.snappable){var o=n;o.target=this._hintMarker,this._handleSnapping(o)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var u=this._layer._defaultShape().slice();u.push(this._hintMarker.getLatLng()),this._change(u)},hasSelfIntersection:function(){return Fe(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(n,o){var u=L.polyline(this._layer.getLatLngs());n&&(o||(o=this._hintMarker.getLatLng()),u.addLatLng(o));var p=Fe(u.toGeoJSON(15));this._doesSelfIntersect=p.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(p,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex:function(n){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,n.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);var o=this._hintMarker.getLatLng(),u=this._layer.getLatLngs(),p=u[u.length-1];if(o.equals(u[0])||u.length>0&&o.equals(p))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:o,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(o);var m=this._createMarker(o);this._setTooltipText(),this._setHintLineAfterNewVertex(o),this._fireVertexAdded(m,void 0,o,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(n)}}},_setHintLineAfterNewVertex:function(n){this._hintline.setLatLngs([n,n])},_removeLastVertex:function(){var n=this._markers;if(n.length<=1)this.disable();else{var o=this._layer.getLatLngs(),u=n[n.length-1],p=L.PM.Utils.findDeepMarkerIndex(n,u).indexPath;n.pop(),this._layerGroup.removeLayer(u);var m=n[n.length-1],O=o.indexOf(m.getLatLng());o=o.slice(0,O+1),this._layer.setLatLngs(o),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(u,p,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var n=this._layer.getLatLngs();if(!(n.length<=1)){var o=L.polyline(n,this.options.pathOptions);this._setPane(o,"layerPane"),this._finishLayer(o),o.addTo(this._map.pm._getContainingLayer()),this._fireCreate(o),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(n){var o=new L.Marker(n,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(o,"vertexPane"),o._pmTempLayer=!0,this._layerGroup.addLayer(o),this._markers.push(o),o.on("click",this._finishShape,this),o},_setTooltipText:function(){var n="";n=Q(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(n)},_change:function(n){this._fireChange(n,"Draw")},setStyle:function(){var n,o;(n=this._layer)===null||n===void 0||n.setStyle(this.options.templineStyle),(o=this._hintline)===null||o===void 0||o.setStyle(this.options.hintlineStyle)}}),k.Polygon=k.Line.extend({initialize:function(n){this._map=n,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(n){L.PM.Draw.Line.prototype.enable.call(this,n),this._layer.pm._shape="Polygon"},_createMarker:function(n){var o=new L.Marker(n,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(o,"vertexPane"),o._pmTempLayer=!0,this._layerGroup.addLayer(o),this._markers.push(o),this._layer.getLatLngs().flat().length===1?(o.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(o)-1,this.options.snappable&&this._cleanupSnapping()):o.on("click",function(){return 1}),o},_setTooltipText:function(){var n="";n=Q(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(n)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var n=this._layer.getLatLngs();if(!(n.length<=2)){var o=L.polygon(n,this.options.pathOptions);this._setPane(o,"layerPane"),this._finishLayer(o),o.addTo(this._map.pm._getContainingLayer()),this._fireCreate(o),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),k.Rectangle=k.extend({initialize:function(n){this._map=n,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(n){if(L.Util.setOptions(this,n),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Q("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var o=0;o<2;o+=1){var u=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(u,"vertexPane"),u._pmTempLayer=!0,this._layerGroup.addLayer(u),this._styleMarkers.push(u)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(n){this.enabled()?this.disable():this.enable(n)},_placeStartingMarkers:function(n){this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);var o=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(o),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(u){L.DomUtil.addClass(u._icon,"visible"),u.setLatLng(o)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Q("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var n=this._startMarker.getLatLng();n&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([n,n]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(n){if(this._hintMarker.setLatLng(n.latlng),this.options.snappable){var o=n;o.target=this._hintMarker,this._handleSnapping(o)}var u=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(u,"Draw")},_syncRectangleSize:function(){var n=this,o=xe(this._startMarker.getLatLng(),this._map),u=xe(this._hintMarker.getLatLng(),this._map),p=L.PM.Utils._getRotatedRectangle(o,u,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(p),this.options.cursorMarker&&this._styleMarkers){var m=[];p.forEach(function(O){O.equals(o,1e-8)||O.equals(u,1e-8)||m.push(O)}),m.forEach(function(O,A){try{n._styleMarkers[A].setLatLng(O)}catch{}})}},_findCorners:function(){var n=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(n[0],n[2],this.options.rectangleAngle||0,this._map)},_finishShape:function(n){this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);var o=this._hintMarker.getLatLng(),u=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var p=L.rectangle([u,o],this.options.pathOptions);if(this.options.rectangleAngle){var m=L.PM.Utils._getRotatedRectangle(u,o,this.options.rectangleAngle||0,this._map);p.setLatLngs(m),p.pm&&p.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(p,"layerPane"),this._finishLayer(p),p.addTo(this._map.pm._getContainingLayer()),this._fireCreate(p),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var n;(n=this._layer)===null||n===void 0||n.setStyle(this.options.pathOptions)}}),k.CircleMarker=k.extend({initialize:function(n){this._map=n,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable:function(n){if(L.Util.setOptions(this,n),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){var o={};L.extend(o,this.options.templineStyle),o.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),o),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Q("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),ut({radius:this._defaultRadius},this.options.templineStyle)),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Q("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable:function(){var n=this;!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(function(o){n.isRelevantMarker(o)&&o.pm.enable()}),this._layer.bringToBack()},disable:function(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable:function(){var n=this;this._map.eachLayer(function(o){n.isRelevantMarker(o)&&o.pm.disable()})},enabled:function(){return this._enabled},toggle:function(n){this.enabled()?this.disable():this.enable(n)},_placeCenterMarker:function(n){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);var o=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(o),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var n=this._centerMarker.getLatLng();n&&(this._layer.setLatLng(n),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Q("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var n=this._centerMarker.getLatLng(),o=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([n,o])},_syncCircleRadius:function(){var n=this._centerMarker.getLatLng(),o=this._hintMarker.getLatLng(),u=this._distanceCalculation(n,o);this.options[this._minRadiusOption]&&u<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&u>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(u)},_syncHintMarker:function(n){if(this._hintMarker.setLatLng(n.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var o=n;o.target=this._hintMarker,this._handleSnapping(o)}this._handleHintMarkerSnapping();var u=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(u,"Draw")},isRelevantMarker:function(n){return n instanceof L.CircleMarker&&!(n instanceof L.Circle)&&n.pm&&!n._pmTempLayer},_createMarker:function(n){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&n.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);var o=this._hintMarker.getLatLng(),u=new this._BaseCircleClass(o,ut({radius:this._defaultRadius},this.options.pathOptions));this._setPane(u,"layerPane"),this._finishLayer(u),u.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(u),this._fireCreate(u),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_extendingCreateMarker:function(n){n.pm&&this.options.markerEditable&&n.pm.enable()},_finishShape:function(n){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);var o=this._centerMarker.getLatLng(),u=this._defaultRadius;if(this.options[this._editableOption]){var p=this._hintMarker.getLatLng();u=this._distanceCalculation(o,p),this.options[this._minRadiusOption]&&u<this.options[this._minRadiusOption]?u=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&u>this.options[this._maxRadiusOption]&&(u=this.options[this._maxRadiusOption])}var m=ut(ut({},this.options.pathOptions),{},{radius:u}),O=new this._BaseCircleClass(o,m);this._setPane(O,"layerPane"),this._finishLayer(O),O.addTo(this._map.pm._getContainingLayer()),O.pm&&O.pm._updateHiddenPolyCircle(),this._fireCreate(O),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var n=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return n;var o=this._centerMarker.getLatLng(),u=this._distanceCalculation(o,n);this.options[this._minRadiusOption]&&u<this.options[this._minRadiusOption]?n=We(this._map,o,n,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&u>this.options[this._maxRadiusOption]&&(n=We(this._map,o,n,this._getMaxDistanceInMeter()))}return n},_getMinDistanceInMeter:function(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter:function(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping:function(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){var n=this._centerMarker.getLatLng(),o=this._hintMarker.getLatLng(),u=this._distanceCalculation(n,o);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&u<this.options[this._minRadiusOption]||this.options[this._maxRadiusOption]&&u>this.options[this._maxRadiusOption])&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle:function(){var n,o,u={};L.extend(u,this.options.templineStyle),this.options[this._editableOption]&&(u.radius=0),(n=this._layer)===null||n===void 0||n.setStyle(u),(o=this._hintline)===null||o===void 0||o.setStyle(this.options.hintlineStyle)},_distanceCalculation:function(n,o){return this._map.project(n).distanceTo(this._map.project(o))}}),k.Circle=k.CircleMarker.extend({initialize:function(n){this._map=n,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._defaultRadius=100},_extendingEnable:function(){},_extendingDisable:function(){},_extendingCreateMarker:function(){},isRelevantMarker:function(){},_getMinDistanceInMeter:function(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter:function(){return this.options[this._maxRadiusOption]},_distanceCalculation:function(n,o){return this._map.distance(n,o)}});const Dt=function(n){if(!n)throw new Error("geojson is required");var o=[];return ct(n,function(u){(function(p,m){var O=[],A=p.geometry;if(A!==null){switch(A.type){case"Polygon":O=Ze(A);break;case"LineString":O=[Ze(A)]}O.forEach(function(z){var N=function($,W){var oe=[];return $.reduce(function(ne,he){var be,Be,Ne,Qe,Je,dt,Zt=X([ne,he],W);return Zt.bbox=(Be=he,Ne=(be=ne)[0],Qe=be[1],Je=Be[0],dt=Be[1],[Ne<Je?Ne:Je,Qe<dt?Qe:dt,Ne>Je?Ne:Je,Qe>dt?Qe:dt]),oe.push(Zt),he}),oe}(z,p.properties);N.forEach(function($){$.id=m.length,m.push($)})})}})(u,o)}),G(o)};var Ft=r(1787);function zt(n,o){var u=Ze(n),p=Ze(o);if(u.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(p.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var m=u[0][0],O=u[0][1],A=u[1][0],z=u[1][1],N=p[0][0],$=p[0][1],W=p[1][0],oe=p[1][1],ne=(oe-$)*(A-m)-(W-N)*(z-O),he=(W-N)*(O-$)-(oe-$)*(m-N),be=(A-m)*(O-$)-(z-O)*(m-N);if(ne===0)return null;var Be=he/ne,Ne=be/ne;return Be>=0&&Be<=1&&Ne>=0&&Ne<=1?V([m+Be*(A-m),O+Be*(z-O)]):null}const Xt=function(n,o){var u={},p=[];if(n.type==="LineString"&&(n=F(n)),o.type==="LineString"&&(o=F(o)),n.type==="Feature"&&o.type==="Feature"&&n.geometry!==null&&o.geometry!==null&&n.geometry.type==="LineString"&&o.geometry.type==="LineString"&&n.geometry.coordinates.length===2&&o.geometry.coordinates.length===2){var m=zt(n,o);return m&&p.push(m),G(p)}var O=Ft();return O.load(Dt(o)),Oe(Dt(n),function(A){Oe(O.search(A),function(z){var N=zt(A,z);if(N){var $=Ze(N).join(",");u[$]||(u[$]=!0,p.push(N))}})}),G(p)},Tn=function(n,o,u){u===void 0&&(u={});var p=mt(n),m=mt(o),O=Le(m[1]-p[1]),A=Le(m[0]-p[0]),z=Le(p[1]),N=Le(m[1]),$=Math.pow(Math.sin(O/2),2)+Math.pow(Math.sin(A/2),2)*Math.cos(z)*Math.cos(N);return ie(2*Math.atan2(Math.sqrt($),Math.sqrt(1-$)),u.units)},jt=function(n){var o=n[0],u=n[1],p=n[2],m=n[3];if(Tn(n.slice(0,2),[p,u])>=Tn(n.slice(0,2),[o,m])){var O=(u+m)/2;return[o,O-(p-o)/2,p,O+(p-o)/2]}var A=(o+p)/2;return[A-(m-u)/2,u,A+(m-u)/2,m]};function sn(n){var o=[1/0,1/0,-1/0,-1/0];return ve(n,function(u){o[0]>u[0]&&(o[0]=u[0]),o[1]>u[1]&&(o[1]=u[1]),o[2]<u[0]&&(o[2]=u[0]),o[3]<u[1]&&(o[3]=u[1])}),o}sn.default=sn;const wr=sn,yc=function(n,o){o===void 0&&(o={});var u=o.precision,p=o.coordinates,m=o.mutate;if(u=u==null||isNaN(u)?6:u,p=p==null||isNaN(p)?3:p,!n)throw new Error("<geojson> is required");if(typeof u!="number")throw new Error("<precision> must be a number");if(typeof p!="number")throw new Error("<coordinates> must be a number");m!==!1&&m!==void 0||(n=JSON.parse(JSON.stringify(n)));var O=Math.pow(10,u);return ve(n,function(A){(function(z,N,$){z.length>$&&z.splice($,z.length);for(var W=0;W<z.length;W++)z[W]=Math.round(z[W]*N)/N})(A,O,p)}),n};function Ma(n,o,u){if(u===void 0&&(u={}),u.final===!0)return function(oe,ne){var he=Ma(ne,oe);return he=(he+180)%360}(n,o);var p=mt(n),m=mt(o),O=Le(p[0]),A=Le(m[0]),z=Le(p[1]),N=Le(m[1]),$=Math.sin(A-O)*Math.cos(N),W=Math.cos(z)*Math.sin(N)-Math.sin(z)*Math.cos(N)*Math.cos(A-O);return _e(Math.atan2($,W))}function Ea(n,o,u,p){p===void 0&&(p={});var m=mt(n),O=Le(m[0]),A=Le(m[1]),z=Le(u),N=me(o,p.units),$=Math.asin(Math.sin(A)*Math.cos(N)+Math.cos(A)*Math.sin(N)*Math.cos(z));return V([_e(O+Math.atan2(Math.sin(z)*Math.sin(N)*Math.cos(A),Math.cos(N)-Math.sin(A)*Math.sin($))),_e($)],p.properties)}const bc=function(n,o,u){u===void 0&&(u={});var p=V([1/0,1/0],{dist:1/0}),m=0;return ct(n,function(O){for(var A=Ze(O),z=0;z<A.length-1;z++){var N=V(A[z]);N.properties.dist=Tn(o,N,u);var $=V(A[z+1]);$.properties.dist=Tn(o,$,u);var W=Tn(N,$,u),oe=Math.max(N.properties.dist,$.properties.dist),ne=Ma(N,$),he=Ea(o,oe,ne+90,u),be=Ea(o,oe,ne-90,u),Be=Xt(X([he.geometry.coordinates,be.geometry.coordinates]),X([N.geometry.coordinates,$.geometry.coordinates])),Ne=null;Be.features.length>0&&((Ne=Be.features[0]).properties.dist=Tn(o,Ne,u),Ne.properties.location=m+Tn(N,Ne,u)),N.properties.dist<p.properties.dist&&((p=N).properties.index=z,p.properties.location=m),$.properties.dist<p.properties.dist&&((p=$).properties.index=z+1,p.properties.location=m+W),Ne&&Ne.properties.dist<p.properties.dist&&((p=Ne).properties.index=z),m+=W}}),p};function Ca(n,o){var u=[],p=Ft();return ct(o,function(m){if(u.forEach(function(z,N){z.id=N}),u.length){var O=p.search(m);if(O.features.length){var A=Sa(m,O);u=u.filter(function(z){return z.id!==A.id}),p.remove(A),Oe(eo(A,m),function(z){u.push(z),p.insert(z)})}}else(u=eo(n,m).features).forEach(function(z){z.bbox||(z.bbox=jt(wr(z)))}),p.load(G(u))}),G(u)}function eo(n,o){var u=[],p=Ze(n)[0],m=Ze(n)[n.geometry.coordinates.length-1];if(to(p,mt(o))||to(m,mt(o)))return G([n]);var O=Ft(),A=Dt(n);O.load(A);var z=O.search(o);if(!z.features.length)return G([n]);var N=Sa(o,z),$=function(W,oe,ne){var he=ne;return Oe(W,function(be,Be){he=Be===0&&ne===void 0?be:oe(he,be,Be)}),he}(A,function(W,oe,ne){var he=Ze(oe)[1],be=mt(o);return ne===N.id?(W.push(be),u.push(X(W)),to(be,he)?[be]:[be,he]):(W.push(he),W)},[p]);return $.length>1&&u.push(X($)),G(u)}function Sa(n,o){if(!o.features.length)throw new Error("lines must contain features");if(o.features.length===1)return o.features[0];var u,p=1/0;return Oe(o,function(m){var O=bc(m,n).properties.dist;O<p&&(u=m,p=O)}),u}function to(n,o){return n[0]===o[0]&&n[1]===o[1]}const _c=function(n,o){if(!n)throw new Error("line is required");if(!o)throw new Error("splitter is required");var u=ue(n),p=ue(o);if(u!=="LineString")throw new Error("line must be LineString");if(p==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(p==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var m=yc(o,{precision:7});switch(p){case"Point":return eo(n,m);case"MultiPoint":return Ca(n,m);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Ca(n,Xt(n,m))}};function Xr(n,o,u){if(u===void 0&&(u={}),!n)throw new Error("point is required");if(!o)throw new Error("polygon is required");var p=mt(n),m=q(o),O=m.type,A=o.bbox,z=m.coordinates;if(A&&function(ne,he){return he[0]<=ne[0]&&he[1]<=ne[1]&&he[2]>=ne[0]&&he[3]>=ne[1]}(p,A)===!1)return!1;O==="Polygon"&&(z=[z]);for(var N=!1,$=0;$<z.length&&!N;$++)if(xa(p,z[$][0],u.ignoreBoundary)){for(var W=!1,oe=1;oe<z[$].length&&!W;)xa(p,z[$][oe],!u.ignoreBoundary)&&(W=!0),oe++;W||(N=!0)}return N}function xa(n,o,u){var p=!1;o[0][0]===o[o.length-1][0]&&o[0][1]===o[o.length-1][1]&&(o=o.slice(0,o.length-1));for(var m=0,O=o.length-1;m<o.length;O=m++){var A=o[m][0],z=o[m][1],N=o[O][0],$=o[O][1];if(n[1]*(A-N)+z*(N-n[0])+$*(n[0]-A)==0&&(A-n[0])*(N-n[0])<=0&&(z-n[1])*($-n[1])<=0)return!u;z>n[1]!=$>n[1]&&n[0]<(N-A)*(n[1]-z)/($-z)+A&&(p=!p)}return p}function Lc(n,o,u,p,m){var O=u[0],A=u[1],z=n[0],N=n[1],$=o[0],W=o[1],oe=$-z,ne=W-N,he=(u[0]-z)*ne-(u[1]-N)*oe;if(m!==null){if(Math.abs(he)>m)return!1}else if(he!==0)return!1;return p?p==="start"?Math.abs(oe)>=Math.abs(ne)?oe>0?z<O&&O<=$:$<=O&&O<z:ne>0?N<A&&A<=W:W<=A&&A<N:p==="end"?Math.abs(oe)>=Math.abs(ne)?oe>0?z<=O&&O<$:$<O&&O<=z:ne>0?N<=A&&A<W:W<A&&A<=N:p==="both"&&(Math.abs(oe)>=Math.abs(ne)?oe>0?z<O&&O<$:$<O&&O<z:ne>0?N<A&&A<W:W<A&&A<N):Math.abs(oe)>=Math.abs(ne)?oe>0?z<=O&&O<=$:$<=O&&O<=z:ne>0?N<=A&&A<=W:W<=A&&A<=N}const Mr=function(n,o,u){u===void 0&&(u={});for(var p=mt(n),m=Ze(o),O=0;O<m.length-1;O++){var A=!1;if(u.ignoreEndVertices&&(O===0&&(A="start"),O===m.length-2&&(A="end"),O===0&&O+1===m.length-1&&(A="both")),Lc(m[O],m[O+1],p,A,typeof u.epsilon>"u"?null:u.epsilon))return!0}return!1};function kc(n,o){var u=q(n),p=q(o),m=u.type,O=p.type,A=u.coordinates,z=p.coordinates;switch(m){case"Point":if(O==="Point")return no(A,z);throw new Error("feature2 "+O+" geometry not supported");case"MultiPoint":switch(O){case"Point":return function(N,$){var W,oe=!1;for(W=0;W<N.coordinates.length;W++)if(no(N.coordinates[W],$.coordinates)){oe=!0;break}return oe}(u,p);case"MultiPoint":return function(N,$){for(var W=0,oe=$.coordinates;W<oe.length;W++){for(var ne=oe[W],he=!1,be=0,Be=N.coordinates;be<Be.length;be++)if(no(ne,Be[be])){he=!0;break}if(!he)return!1}return!0}(u,p);default:throw new Error("feature2 "+O+" geometry not supported")}case"LineString":switch(O){case"Point":return Mr(p,u,{ignoreEndVertices:!0});case"LineString":return function(N,$){for(var W=!1,oe=0,ne=$.coordinates;oe<ne.length;oe++){var he=ne[oe];if(Mr({type:"Point",coordinates:he},N,{ignoreEndVertices:!0})&&(W=!0),!Mr({type:"Point",coordinates:he},N,{ignoreEndVertices:!1}))return!1}return W}(u,p);case"MultiPoint":return function(N,$){for(var W=!1,oe=0,ne=$.coordinates;oe<ne.length;oe++){var he=ne[oe];if(Mr(he,N,{ignoreEndVertices:!0})&&(W=!0),!Mr(he,N))return!1}return!!W}(u,p);default:throw new Error("feature2 "+O+" geometry not supported")}case"Polygon":switch(O){case"Point":return Xr(p,u,{ignoreBoundary:!0});case"LineString":return function(N,$){var W=!1,oe=0,ne=wr(N),he=wr($);if(!Oa(ne,he))return!1;for(;oe<$.coordinates.length-1;oe++)if(Xr({type:"Point",coordinates:wc($.coordinates[oe],$.coordinates[oe+1])},N,{ignoreBoundary:!0})){W=!0;break}return W}(u,p);case"Polygon":return function(N,$){if(N.type==="Feature"&&N.geometry===null||$.type==="Feature"&&$.geometry===null)return!1;var W=wr(N),oe=wr($);if(!Oa(W,oe))return!1;for(var ne=q($).coordinates,he=0,be=ne;he<be.length;he++)for(var Be=0,Ne=be[he];Be<Ne.length;Be++)if(!Xr(Ne[Be],N))return!1;return!0}(u,p);case"MultiPoint":return function(N,$){for(var W=0,oe=$.coordinates;W<oe.length;W++)if(!Xr(oe[W],N,{ignoreBoundary:!0}))return!1;return!0}(u,p);default:throw new Error("feature2 "+O+" geometry not supported")}default:throw new Error("feature1 "+m+" geometry not supported")}}function Oa(n,o){return!(n[0]>o[0])&&!(n[2]<o[2])&&!(n[1]>o[1])&&!(n[3]<o[3])}function no(n,o){return n[0]===o[0]&&n[1]===o[1]}function wc(n,o){return[(n[0]+o[0])/2,(n[1]+o[1])/2]}var Mc=r(2676),Pa=r.n(Mc);function Zr(n){var o={type:"Feature"};return o.geometry=n,o}function Qr(n){return n.type==="Feature"?n.geometry:n}function Ta(n){return n&&n.geometry&&n.geometry.coordinates?n.geometry.coordinates:n}function Ra(n){return Zr({type:"Polygon",coordinates:n})}function Ba(n){return Zr({type:"MultiPolygon",coordinates:n})}function Ia(n){return Array.isArray(n)?1+Ia(n[0]):-1}function Ec(n){n instanceof L.Polyline&&(n=n.toGeoJSON(15));var o=Ta(n),u=Ia(o),p=[];return u>1?o.forEach(function(m){p.push(function(O){return Zr({type:"LineString",coordinates:O})}(m))}):p.push(n),p}function Cc(n){var o=[];return n.eachLayer(function(u){o.push(Ta(u.toGeoJSON(15)))}),function(u){return Zr({type:"MultiLineString",coordinates:u})}(o)}function Sc(n,o){return function(u){if(Array.isArray(u))return u}(n)||function(u,p){var m=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(m!=null){var O,A,z=[],N=!0,$=!1;try{for(m=m.call(u);!(N=(O=m.next()).done)&&(z.push(O.value),!p||z.length!==p);N=!0);}catch(W){$=!0,A=W}finally{try{N||m.return==null||m.return()}finally{if($)throw A}}return z}}(n,o)||function(u,p){if(u){if(typeof u=="string")return Da(u,p);var m=Object.prototype.toString.call(u).slice(8,-1);if(m==="Object"&&u.constructor&&(m=u.constructor.name),m==="Map"||m==="Set")return Array.from(u);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Da(u,p)}}(n,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Da(n,o){(o==null||o>n.length)&&(o=n.length);for(var u=0,p=new Array(o);u<o;u++)p[u]=n[u];return p}function xc(n){return function(o){if(Array.isArray(o))return ro(o)}(n)||function(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}(n)||function(o,u){if(o){if(typeof o=="string")return ro(o,u);var p=Object.prototype.toString.call(o).slice(8,-1);if(p==="Object"&&o.constructor&&(p=o.constructor.name),p==="Map"||p==="Set")return Array.from(o);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return ro(o,u)}}(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ro(n,o){(o==null||o>n.length)&&(o=n.length);for(var u=0,p=new Array(o);u<o;u++)p[u]=n[u];return p}k.Cut=k.Polygon.extend({initialize:function(n){this._map=n,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var n=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var o=this._layer.getLatLngs();if(!(o.length<=2)){var u=L.polygon(o,this.options.pathOptions);u._latlngInfos=this._layer._latlngInfo,this.cut(u),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(p){var m=p.layer,O=p.originalLayer;n._fireCut(O,m,O),n._fireCut(n._map,m,O),O.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(n){var o=this,u=this._map._layers,p=n._latlngInfos||[];Object.keys(u).map(function(m){return u[m]}).filter(function(m){return m.pm}).filter(function(m){return!m._pmTempLayer}).filter(function(m){return!L.PM.optIn&&!m.options.pmIgnore||L.PM.optIn&&m.options.pmIgnore===!1}).filter(function(m){return m instanceof L.Polyline}).filter(function(m){return m!==n}).filter(function(m){return m.pm.options.allowCutting}).filter(function(m){return!(o.options.layersToCut&&L.Util.isArray(o.options.layersToCut)&&o.options.layersToCut.length>0)||o.options.layersToCut.indexOf(m)>-1}).filter(function(m){return!o._layerGroup.hasLayer(m)}).filter(function(m){try{var O=!!Xt(n.toGeoJSON(15),m.toGeoJSON(15)).features.length>0;return O||m instanceof L.Polyline&&!(m instanceof L.Polygon)?O:(A=n.toGeoJSON(15),z=m.toGeoJSON(15),N=Qr(A),$=Qr(z),!((W=Pa().intersection(N.coordinates,$.coordinates)).length===0||!(W.length===1?Ra(W[0]):Ba(W))))}catch{return m instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}var A,z,N,$,W}).forEach(function(m){var O;if(m instanceof L.Polygon){var A=(O=L.polygon(m.getLatLngs())).getLatLngs();p.forEach(function(ne){if(ne&&ne.snapInfo){var he=ne.latlng,be=o._calcClosestLayer(he,[O]);if(be&&be.segment&&be.distance<o.options.snapDistance){var Be=be.segment;if(Be&&Be.length===2){var Ne=L.PM.Utils._getIndexFromSegment(A,Be),Qe=Ne.indexPath,Je=Ne.parentPath,dt=Ne.newIndex;(Qe.length>1?J()(A,Je):A).splice(dt,0,he)}}}})}else O=m;var z=o._cutLayer(n,O),N=L.geoJSON(z,m.options);if(N.getLayers().length===1){var $=N.getLayers();N=Sc($,1)[0]}o._setPane(N,"layerPane");var W=N.addTo(o._map.pm._getContainingLayer());if(W.pm.enable(m.pm.options),W.pm.disable(),m._pmTempLayer=!0,n._pmTempLayer=!0,m.remove(),m.removeFrom(o._map.pm._getContainingLayer()),n.remove(),n.removeFrom(o._map.pm._getContainingLayer()),W.getLayers&&W.getLayers().length===0&&o._map.pm.removeLayer({target:W}),W instanceof L.LayerGroup&&W.eachLayer(function(ne){o._addDrawnLayerProp(ne)}),o._addDrawnLayerProp(W),o.options.layersToCut&&L.Util.isArray(o.options.layersToCut)&&o.options.layersToCut.length>0){var oe=o.options.layersToCut.indexOf(m);oe>-1&&o.options.layersToCut.splice(oe,1)}o._editedLayers.push({layer:W,originalLayer:m})})},_cutLayer:function(n,o){var u,p,m,O,A,z,N=L.geoJSON();if(o instanceof L.Polygon)p=o.toGeoJSON(15),m=n.toGeoJSON(15),O=Qr(p),A=Qr(m),u=(z=Pa().difference(O.coordinates,A.coordinates)).length===0?null:z.length===1?Ra(z[0]):Ba(z);else{var $=Ec(o);$.forEach(function(W){var oe=_c(W,n.toGeoJSON(15));(oe&&oe.features.length>0?L.geoJSON(oe):L.geoJSON(W)).getLayers().forEach(function(ne){kc(n.toGeoJSON(15),ne.toGeoJSON(15))||ne.addTo(N)})}),u=$.length>1?Cc(N):N.toGeoJSON(15)}return u},_change:L.Util.falseFn}),k.Text=k.extend({initialize:function(n){this._map=n,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(n){L.Util.setOptions(this,n),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Q("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(n){this.enabled()?this.disable():this.enable(n)},_syncHintMarker:function(n){if(this._hintMarker.setLatLng(n.latlng),this.options.snappable){var o=n;o.target=this._hintMarker,this._handleSnapping(o)}},_createMarker:function(n){var o;if(n.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);var u=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(o=this.options.textOptions)!==null&&o!==void 0&&o.className){var p,m=this.options.textOptions.className.split(" ");(p=this.textArea.classList).add.apply(p,xc(m))}var O=this._createTextIcon(this.textArea),A=new L.Marker(u,{textMarker:!0,_textMarkerOverPM:!0,icon:O});if(this._setPane(A,"markerPane"),this._finishLayer(A),A.pm||(A.options.draggable=!1),A.addTo(this._map.pm._getContainingLayer()),A.pm){var z,N,$,W,oe;A.pm.textArea=this.textArea,L.setOptions(A.pm,{removeIfEmpty:(z=(N=this.options.textOptions)===null||N===void 0?void 0:N.removeIfEmpty)===null||z===void 0||z});var ne=($=(W=this.options.textOptions)===null||W===void 0?void 0:W.focusAfterDraw)===null||$===void 0||$;A.pm._createTextMarker(ne),(oe=this.options.textOptions)!==null&&oe!==void 0&&oe.text&&A.pm.setText(this.options.textOptions.text)}this._fireCreate(A),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var n=document.createElement("textarea");return n.readOnly=!0,n.classList.add("pm-textarea","pm-disabled"),n},_createTextIcon:function(n){return L.divIcon({className:"pm-text-marker",html:n})}});const Oc={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,De(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var n=this._getDOMElem();n&&(De(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(n)):L.DomEvent.on(n,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,De(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var n=this._getDOMElem();n&&(De(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(n)):L.DomEvent.off(n,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(n){var o=n.touches?n.touches[0]:n,u={originalEvent:o,target:this._layer};return u.containerPoint=this._map.mouseEventToContainerPoint(o),u.latlng=this._map.containerPointToLatLng(u.containerPoint),this._dragMixinOnMouseDown(u),!1},_simulateMouseMoveEvent:function(n){var o=n.touches?n.touches[0]:n,u={originalEvent:o,target:this._layer};return u.containerPoint=this._map.mouseEventToContainerPoint(o),u.latlng=this._map.containerPointToLatLng(u.containerPoint),this._dragMixinOnMouseMove(u),!1},_simulateMouseUpEvent:function(n){var o={originalEvent:n.touches?n.touches[0]:n,target:this._layer};return n.type.indexOf("touch")===-1&&(o.containerPoint=this._map.mouseEventToContainerPoint(n),o.latlng=this._map.containerPointToLatLng(o.containerPoint)),this._dragMixinOnMouseUp(o),!1},_dragMixinOnMouseDown:function(n){if(!(n.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(n);var o=n._fromLayerSync,u=this._syncLayers("_dragMixinOnMouseDown",n);if(this._layer instanceof L.Marker&&(!this.options.snappable||o||u?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker){var p="resizeableCircleMarker";this._layer instanceof L.Circle&&(p="resizableCircle"),!this.options.snappable||o||u?this._layer.pm.options[p]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options[p]||this._initSnappableMarkersDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=n.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(n){this._overwriteEventIfItComesFromMarker(n);var o=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",n),this._dragging||(this._dragging=!0,L.DomUtil.addClass(o,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=n.latlng),this._onLayerDrag(n),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(n){var o=this,u=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",n),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(function(){o._dragging=!1,u&&L.DomUtil.removeClass(u,"leaflet-pm-dragging"),o._fireDragEnd(),o._fireEdit(),o._layerEdited=!0},10),!0)},_onLayerDrag:function(n){var o=n.latlng,u=o.lat-this._tempDragCoord.lat,p=o.lng-this._tempDragCoord.lng,m=function W(oe){return oe.map(function(ne){if(Array.isArray(ne))return W(ne);var he={lat:ne.lat+u,lng:ne.lng+p};return(ne.alt||ne.alt===0)&&(he.alt=ne.alt),he})};if(this._layer instanceof L.Circle&&this._layer.options.resizableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){var O=m([this._layer.getLatLng()]);this._layer.setLatLng(O[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var A=this._layer.getLatLng();this._layer._snapped&&(A=this._layer._orgLatLng);var z=m([A]);this._layer.setLatLng(z[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var N=m([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(N),this._fireChange(this._layer.getBounds(),"Edit")}else{var $=m(this._layer.getLatLngs());this._layer.setLatLngs($),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=o,n.layer=this._layer,this._fireDrag(n)},addDraggingClass:function(){var n=this._getDOMElem();n&&L.DomUtil.addClass(n,"leaflet-pm-draggable")},removeDraggingClass:function(){var n=this._getDOMElem();n&&L.DomUtil.removeClass(n,"leaflet-pm-draggable")},_getDOMElem:function(){var n=null;return this._layer._path?n=this._layer._path:this._layer._renderer&&this._layer._renderer._container?n=this._layer._renderer._container:this._layer._image?n=this._layer._image:this._layer._icon&&(n=this._layer._icon),n},_overwriteEventIfItComesFromMarker:function(n){n.target.getLatLng&&(!n.target._radius||n.target._radius<=10)&&(n.containerPoint=this._map.mouseEventToContainerPoint(n.originalEvent),n.latlng=this._map.containerPointToLatLng(n.containerPoint))},_syncLayers:function(n,o){var u=this;if(this.enabled())return!1;if(!o._fromLayerSync&&this._layer===o.target&&this.options.syncLayersOnDrag){o._fromLayerSync=!0;var p=[];if(L.Util.isArray(this.options.syncLayersOnDrag))p=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(function(A){A instanceof L.LayerGroup&&(p=p.concat(A.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(var m in this._parentLayerGroup){var O=this._parentLayerGroup[m];O.pm&&(p=O.pm.getLayers(!0))}return L.Util.isArray(p)&&p.length>0&&(p=p.filter(function(A){return!!A.pm}).filter(function(A){return!!A.pm.options.draggable})).forEach(function(A){A!==u._layer&&A.pm[n]&&(A._snapped=!1,A.pm[n](o))}),p.length>0}return!1},_stopDOMImageDrag:function(n){return n.preventDefault(),!1}};function Aa(n,o,u){var p=u.getMaxZoom();if(p===1/0&&(p=u.getZoom()),L.Util.isArray(n)){var m=[];return n.forEach(function(O){m.push(Aa(O,o,u))}),m}return n instanceof L.LatLng?function(O,A,z,N){return z.unproject(A.transform(z.project(O,N)),N)}(n,o,u,p):null}function tr(n,o){o instanceof L.Layer&&(o=o.getLatLng());var u=n.getMaxZoom();return u===1/0&&(u=n.getZoom()),n.project(o,u)}function ei(n,o){var u=n.getMaxZoom();return u===1/0&&(u=n.getZoom()),n.unproject(o,u)}var Pc={_onRotateStart:function(n){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=tr(this._map,this._rotationOriginLatLng),this._rotationStartPoint=tr(this._map,n.target.getLatLng()),this._initialRotateLatLng=Te(this._layer),this._startAngle=this.getAngle();var o=Te(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,o),this._fireRotationStart(this._map,o)},_onRotate:function(n){var o=tr(this._map,n.target.getLatLng()),u=this._rotationStartPoint,p=this._rotationOriginPoint,m=Math.atan2(o.y-p.y,o.x-p.x)-Math.atan2(u.y-p.y,u.x-p.x);this._layer.setLatLngs(this._rotateLayer(m,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var O=this;(function $(W){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(ne>-1&&oe.push(ne),L.Util.isArray(W[0]))W.forEach(function(be,Be){return $(be,oe.slice(),Be)});else{var he=J()(O._markers,oe);W.forEach(function(be,Be){he[Be].setLatLng(be)})}})(this._layer.getLatLngs());var A=Te(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(m,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var z=180*m/Math.PI,N=(z=z<0?z+360:z)+this._startAngle;this._setAngle(N),this._rotationLayer.pm._setAngle(N),this._fireRotation(this._rotationLayer,z,A),this._fireRotation(this._map,z,A),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var n=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var o=Te(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=Te(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,n,o),this._fireRotationEnd(this._map,n,o),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(n,o,u,p,m){var O=tr(m,u);return this._matrix=p.clone().rotate(n,O).flip(),Aa(o,this._matrix,m)},_setAngle:function(n){n=n<0?n+360:n,this._angle=n%360},_getRotationCenter:function(){if(this._rotationCenter)return this._rotationCenter;var n=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),o=n.getCenter();return n.removeFrom(this._layer._map),o},enableRotate:function(){this.options.allowRotation?(this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(qe(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0),this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=Te(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(n){var o=this.getAngle(),u=this._layer.getLatLngs(),p=n*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(p,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+n),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(p,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var m=this.getAngle()-o;m=m<0?m+360:m,this._startAngle=o,this._fireRotation(this._layer,m,u,this._layer),this._fireRotation(this._map||this._layer._map,m,u,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(n){var o=n-this.getAngle();this.rotateLayer(o)},getAngle:function(){return this._angle||0},setInitAngle:function(n){this._setAngle(n)},getRotationCenter:function(){return this._getRotationCenter()},setRotationCenter:function(n){this._rotationCenter=n,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(n)}};const Tc=Pc,Ot=L.Class.extend({includes:[Oc,b,Tc,te],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizableCircle:!0},setOptions:function(n){L.Util.setOptions(this,n)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(n,o){o==="layerPane"?n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":o==="vertexPane"?n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":o==="markerPane"&&(n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(n,o){var u=o.target,p={layer:this._layer,marker:u,event:o},m="";return n==="move"?m="moveVertexValidation":n==="add"?m="addVertexValidation":n==="remove"&&(m="removeVertexValidation"),this.options[m]&&typeof this.options[m]=="function"&&!this.options[m](p)?(n==="move"&&(u._cancelDragEventChain=u.getLatLng()),!1):(u._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(n){return!n._cancelDragEventChain||(n._latlng=n._cancelDragEventChain,n.update(),!1)},_vertexValidationDragEnd:function(n){return!n._cancelDragEventChain||(n._cancelDragEventChain=null,!1)}});function ti(n){return function(o){if(Array.isArray(o))return io(o)}(n)||function(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}(n)||function(o,u){if(o){if(typeof o=="string")return io(o,u);var p=Object.prototype.toString.call(o).slice(8,-1);if(p==="Object"&&o.constructor&&(p=o.constructor.name),p==="Map"||p==="Set")return Array.from(o);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return io(o,u)}}(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function io(n,o){(o==null||o>n.length)&&(o=n.length);for(var u=0,p=new Array(o);u<o;u++)p[u]=n[u];return p}Ot.LayerGroup=L.Class.extend({initialize:function(n){var o=this;this._layerGroup=n,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(function(u){return o._initLayer(u)}),this._layerGroup.on("layeradd",L.Util.throttle(function(u){if(!u.layer._pmTempLayer){o._layers=o.getLayers();var p=o._layers.filter(function(m){return!m.pm._parentLayerGroup||!(o._layerGroup._leaflet_id in m.pm._parentLayerGroup)});p.forEach(function(m){o._initLayer(m)}),p.length>0&&o._getMap()&&o._getMap().pm.globalEditModeEnabled()&&o.enabled()&&o.enable(o.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(u){o._removeLayerFromGroup(u.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(u){u.target._pmTempLayer||(o._layers=o.getLayers())},100,this),this)},enable:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];o.length===0&&(this._layers=this.getLayers()),this._options=n,this._layers.forEach(function(u){u instanceof L.LayerGroup?o.indexOf(u._leaflet_id)===-1&&(o.push(u._leaflet_id),u.pm.enable(n,o)):u.pm.enable(n)})},disable:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.length===0&&(this._layers=this.getLayers()),this._layers.forEach(function(o){o instanceof L.LayerGroup?n.indexOf(o._leaflet_id)===-1&&(n.push(o._leaflet_id),o.pm.disable(n)):o.pm.disable()})},enabled:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.length===0&&(this._layers=this.getLayers());var o=this._layers.find(function(u){return u instanceof L.LayerGroup?n.indexOf(u._leaflet_id)===-1&&(n.push(u._leaflet_id),u.pm.enabled(n)):u.pm.enabled()});return!!o},toggleEdit:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];o.length===0&&(this._layers=this.getLayers()),this._options=n,this._layers.forEach(function(u){u instanceof L.LayerGroup?o.indexOf(u._leaflet_id)===-1&&(o.push(u._leaflet_id),u.pm.toggleEdit(n,o)):u.pm.toggleEdit(n)})},_initLayer:function(n){var o=L.Util.stamp(this._layerGroup);n.pm._parentLayerGroup||(n.pm._parentLayerGroup={}),n.pm._parentLayerGroup[o]=this._layerGroup},_removeLayerFromGroup:function(n){if(n.pm&&n.pm._layerGroup){var o=L.Util.stamp(this._layerGroup);delete n.pm._layerGroup[o]}},dragging:function(){if(this._layers=this.getLayers(),this._layers){var n=this._layers.find(function(o){return o.pm.dragging()});return!!n}return!1},getOptions:function(){return this.options},_getMap:function(){var n;return this._map||((n=this._layers.find(function(o){return!!o._map}))===null||n===void 0?void 0:n._map)||null},getLayers:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],m=[];return n?this._layerGroup.getLayers().forEach(function(O){m.push(O),O instanceof L.LayerGroup&&p.indexOf(O._leaflet_id)===-1&&(p.push(O._leaflet_id),m=m.concat(O.pm.getLayers(!0,!0,!0,p)))}):m=this._layerGroup.getLayers(),u&&(m=m.filter(function(O){return!(O instanceof L.LayerGroup)})),o&&(m=(m=(m=m.filter(function(O){return!!O.pm})).filter(function(O){return!O._pmTempLayer})).filter(function(O){return!L.PM.optIn&&!O.options.pmIgnore||L.PM.optIn&&O.options.pmIgnore===!1})),m},setOptions:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];o.length===0&&(this._layers=this.getLayers()),this.options=n,this._layers.forEach(function(u){u.pm&&(u instanceof L.LayerGroup?o.indexOf(u._leaflet_id)===-1&&(o.push(u._leaflet_id),u.pm.setOptions(n,o)):u.pm.setOptions(n))})}}),Ot.Marker=Ot.extend({_shape:"Marker",initialize:function(n){this._layer=n,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0};L.Util.setOptions(this,n),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(n){this.enabled()?this.disable():this.enable(n)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(n){var o=n.target;o.remove(),this._fireRemove(o),this._fireRemove(this._map,o)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var n=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,n.off("pm:drag",this._handleSnapping,this),n.on("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.on("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this),n.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var n=this._layer;n.off("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this)}});const Rc={filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var n=[].concat(ti(this._markerGroup.getLayers()),ti(this.markerCache));this.markerCache=n.filter(function(o,u,p){return p.indexOf(o)===u})},renderLimits:function(n){var o=this;this.markerCache.forEach(function(u){n.includes(u)?o._markerGroup.addLayer(u):o._markerGroup.removeLayer(u)})},applyLimitFilters:function(n){var o=n.latlng,u=o===void 0?{lat:0,lng:0}:o;if(!this._preventRenderMarkers){var p=ti(this._filterClosestMarkers(u));this.renderLimits(p)}},_filterClosestMarkers:function(n){var o=ti(this.markerCache),u=this.options.limitMarkersToCount;return u===-1?o:(o.sort(function(p,m){return p._latlng.distanceTo(n)-m._latlng.distanceTo(n)}),o.filter(function(p,m){return!(u>-1)||m<u}))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(n){this._preventRenderMarkers=!!n}};function Bc(n,o){return function(u){if(Array.isArray(u))return u}(n)||function(u,p){var m=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(m!=null){var O,A,z=[],N=!0,$=!1;try{for(m=m.call(u);!(N=(O=m.next()).done)&&(z.push(O.value),!p||z.length!==p);N=!0);}catch(W){$=!0,A=W}finally{try{N||m.return==null||m.return()}finally{if($)throw A}}return z}}(n,o)||function(u,p){if(u){if(typeof u=="string")return Na(u,p);var m=Object.prototype.toString.call(u).slice(8,-1);if(m==="Object"&&u.constructor&&(m=u.constructor.name),m==="Map"||m==="Set")return Array.from(u);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return Na(u,p)}}(n,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Na(n,o){(o==null||o>n.length)&&(o=n.length);for(var u=0,p=new Array(o);u<o;u++)p[u]=n[u];return p}function Ic(n){return function(o){if(Array.isArray(o))return oo(o)}(n)||function(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}(n)||function(o,u){if(o){if(typeof o=="string")return oo(o,u);var p=Object.prototype.toString.call(o).slice(8,-1);if(p==="Object"&&o.constructor&&(p=o.constructor.name),p==="Map"||p==="Set")return Array.from(o);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return oo(o,u)}}(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function oo(n,o){(o==null||o>n.length)&&(o=n.length);for(var u=0,p=new Array(o);u<o;u++)p[u]=n[u];return p}Ot.Line=Ot.extend({includes:[Rc],_shape:"Line",initialize:function(n){this._layer=n,this._enabled=!1},enable:function(n){L.Util.setOptions(this,n),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var n=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(n,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(n){return this.enabled()?this.disable():this.enable(n),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var n=this,o=this._map,u=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function p(m){if(Array.isArray(m[0]))return m.map(p,n);var O=m.map(n._createMarker,n);return n.options.hideMiddleMarkers!==!0&&m.map(function(A,z){var N=n.isPolygon()?(z+1)%m.length:z+1;return n._createMiddleMarker(O[z],O[N])}),O}(u),this.filterMarkerGroup(),o.addLayer(this._markerGroup)},_createMarker:function(n){var o=new L.Marker(n,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(o,"vertexPane"),o._pmTempLayer=!0,this.options.rotate?(o.on("dragstart",this._onRotateStart,this),o.on("drag",this._onRotate,this),o.on("dragend",this._onRotateEnd,this)):(o.on("click",this._onVertexClick,this),o.on("dragstart",this._onMarkerDragStart,this),o.on("move",this._onMarkerDrag,this),o.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||o.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(o),o},_createMiddleMarker:function(n,o){if(!n||!o)return!1;var u=L.PM.Utils.calcMiddleLatLng(this._map,n.getLatLng(),o.getLatLng()),p=this._createMarker(u),m=L.divIcon({className:"marker-icon marker-icon-middle"});return p.setIcon(m),p.leftM=n,p.rightM=o,n._middleMarkerNext=p,o._middleMarkerPrev=p,p.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),p.on("movestart",this._onMiddleMarkerMoveStart,this),p},_onMiddleMarkerClick:function(n){var o=n.target;if(this._vertexValidation("add",n)){var u=L.divIcon({className:"marker-icon"});o.setIcon(u),this._addMarker(o,o.leftM,o.rightM)}},_onMiddleMarkerMoveStart:function(n){var o=n.target;o.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",n)?(o._dragging=!0,this._addMarker(o,o.leftM,o.rightM)):o.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(n){var o=n.target;this._vertexValidationDrag(o)},_onMiddleMarkerMoveEnd:function(n){var o=n.target;if(o.off("move",this._onMiddleMarkerMovePrevent,this),o.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(o)){var u=L.divIcon({className:"marker-icon"});o.setIcon(u),setTimeout(function(){delete o._dragging},100)}},_addMarker:function(n,o,u){n.off("movestart",this._onMiddleMarkerMoveStart,this),n.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var p=n.getLatLng(),m=this._layer._latlngs;delete n.leftM,delete n.rightM;var O=L.PM.Utils.findDeepMarkerIndex(this._markers,o),A=O.indexPath,z=O.index,N=O.parentPath,$=A.length>1?J()(m,N):m,W=A.length>1?J()(this._markers,N):this._markers;$.splice(z+1,0,p),W.splice(z+1,0,n),this._layer.setLatLngs(m),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(o,n),this._createMiddleMarker(n,u)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(n,L.PM.Utils.findDeepMarkerIndex(this._markers,n).indexPath,p),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return Fe(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(n){var o,u,p=this._layer;if(o=!this.options.allowSelfIntersection&&(u=Fe(this._layer.toGeoJSON(15))).features.length>0){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return o;n?this._flashLayer():(p.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(u)}else p.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return o},_flashLayer:function(){var n=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(function(){n._layer.setStyle({color:n.cachedColor}),n.isRed=!1},200)},_updateDisabledMarkerStyle:function(n,o){var u=this;n.forEach(function(p){Array.isArray(p)?u._updateDisabledMarkerStyle(p,o):p._icon&&(o&&!u._checkMarkerAllowedToDrag(p)?L.DomUtil.addClass(p._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(p._icon,"vertexmarker-disabled"))})},_removeMarker:function(n){var o=n.target;if(this._vertexValidation("remove",n)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=Te(this._layer,this._layer.getLatLngs()));var u=this._layer.getLatLngs(),p=L.PM.Utils.findDeepMarkerIndex(this._markers,o),m=p.indexPath,O=p.index,A=p.parentPath;if(m){var z=m.length>1?J()(u,A):u,N=m.length>1?J()(this._markers,A):this._markers;if(this.options.removeLayerBelowMinVertexCount||!(z.length<=2||this.isPolygon()&&z.length<=3)){z.splice(O,1),this._layer.setLatLngs(u),this.isPolygon()&&z.length<=2&&z.splice(0,z.length);var $=!1;if(z.length<=1&&(z.splice(0,z.length),A.length>1&&m.length>1&&(u=we(u)),this._layer.setLatLngs(u),this._initMarkers(),$=!0),de(u)||this._layer.remove(),u=we(u),this._layer.setLatLngs(u),this._markers=we(this._markers),!$&&(N=m.length>1?J()(this._markers,A):this._markers,o._middleMarkerPrev&&this._markerGroup.removeLayer(o._middleMarkerPrev),o._middleMarkerNext&&this._markerGroup.removeLayer(o._middleMarkerNext),this._markerGroup.removeLayer(o),N)){var W,oe;if(this.isPolygon()?(W=(O+1)%N.length,oe=(O+(N.length-1))%N.length):(oe=O-1<0?void 0:O-1,W=O+1>=N.length?void 0:O+1),W!==oe){var ne=N[oe],he=N[W];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(ne,he)}N.splice(O,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(o,m),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(n){var o=this._layer.getLatLngs(),u=n.getLatLng(),p=L.PM.Utils.findDeepMarkerIndex(this._markers,n),m=p.indexPath,O=p.index,A=p.parentPath;(m.length>1?J()(o,A):o).splice(O,1,u),this._layer.setLatLngs(o)},_getNeighborMarkers:function(n){var o=L.PM.Utils.findDeepMarkerIndex(this._markers,n),u=o.indexPath,p=o.index,m=o.parentPath,O=u.length>1?J()(this._markers,m):this._markers,A=(p+1)%O.length;return{prevMarker:O[(p+(O.length-1))%O.length],nextMarker:O[A]}},_checkMarkerAllowedToDrag:function(n){var o=this._getNeighborMarkers(n),u=o.prevMarker,p=o.nextMarker,m=L.polyline([u.getLatLng(),n.getLatLng()]),O=L.polyline([n.getLatLng(),p.getLatLng()]),A=Xt(this._layer.toGeoJSON(15),m.toGeoJSON(15)).features.length,z=Xt(this._layer.toGeoJSON(15),O.toGeoJSON(15)).features.length;return n.getLatLng()===this._markers[0][0].getLatLng()?z+=1:n.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(A+=1),!(A<=2&&z<=2)},_onMarkerDragStart:function(n){var o=n.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",n)){var u=L.PM.Utils.findDeepMarkerIndex(this._markers,o).indexPath;this._fireMarkerDragStart(n,u),this.options.allowSelfIntersection||(this._coordsBeforeEdit=Te(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(o):this._markerAllowedToDrag=null}},_onMarkerDrag:function(n){var o=n.target;if(this._vertexValidationDrag(o)){var u=L.PM.Utils.findDeepMarkerIndex(this._markers,o),p=u.indexPath,m=u.index,O=u.parentPath;if(p){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(o);var A=p.length>1?J()(this._markers,O):this._markers,z=(m+1)%A.length,N=(m+(A.length-1))%A.length,$=o.getLatLng(),W=A[N].getLatLng(),oe=A[z].getLatLng();if(o._middleMarkerNext){var ne=L.PM.Utils.calcMiddleLatLng(this._map,$,oe);o._middleMarkerNext.setLatLng(ne)}if(o._middleMarkerPrev){var he=L.PM.Utils.calcMiddleLatLng(this._map,$,W);o._middleMarkerPrev.setLatLng(he)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(n,p),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(n){var o=n.target;if(this._vertexValidationDragEnd(o)){var u=L.PM.Utils.findDeepMarkerIndex(this._markers,o).indexPath,p=this.hasSelfIntersection();p&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(p=!1);var m=!this.options.allowSelfIntersection&&p;if(this._fireMarkerDragEnd(n,u,m),m)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(n,u);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(n){var o=n.target;if(!o._dragging){var u=L.PM.Utils.findDeepMarkerIndex(this._markers,o).indexPath;this._fireVertexClick(n,u)}}}),Ot.Polygon=Ot.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(n){var o=this._getNeighborMarkers(n),u=o.prevMarker,p=o.nextMarker,m=L.polyline([u.getLatLng(),n.getLatLng()]),O=L.polyline([n.getLatLng(),p.getLatLng()]),A=Xt(this._layer.toGeoJSON(15),m.toGeoJSON(15)).features.length,z=Xt(this._layer.toGeoJSON(15),O.toGeoJSON(15)).features.length;return!(A<=2&&z<=2)}}),Ot.Rectangle=Ot.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var n=this,o=this._map,u=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,o.addLayer(this._markerGroup),this._markers=[],this._markers[0]=u.map(this._createMarker,this);var p=Bc(this._markers,1);this._cornerMarkers=p[0],this._layer.getLatLngs()[0].forEach(function(m,O){var A=n._cornerMarkers.find(function(z){return z._index===O});A&&A.setLatLng(m)})},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(n,o){var u=new L.Marker(n,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(u,"vertexPane"),u._origLatLng=n,u._index=o,u._pmTempLayer=!0,u.on("click",this._onVertexClick,this),this._markerGroup.addLayer(u),u},_addMarkerEvents:function(){var n=this;this._markers[0].forEach(function(o){o.on("dragstart",n._onMarkerDragStart,n),o.on("drag",n._onMarkerDrag,n),o.on("dragend",n._onMarkerDragEnd,n),n.options.preventMarkerRemoval||o.on("contextmenu",n._removeMarker,n)})},_removeMarker:function(){return null},_onMarkerDragStart:function(n){if(this._vertexValidation("move",n)){var o=n.target,u=this._cornerMarkers;o._oppositeCornerLatLng=u.find(function(p){return p._index===(o._index+2)%4}).getLatLng(),o._snapped=!1,this._fireMarkerDragStart(n)}},_onMarkerDrag:function(n){var o=n.target;this._vertexValidationDrag(o)&&o._index!==void 0&&(this._adjustRectangleForMarkerMove(o),this._fireMarkerDrag(n),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(n){var o=n.target;this._vertexValidationDragEnd(o)&&(this._cornerMarkers.forEach(function(u){delete u._oppositeCornerLatLng}),this._fireMarkerDragEnd(n),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(n){L.extend(n._origLatLng,n._latlng);var o=L.PM.Utils._getRotatedRectangle(n.getLatLng(),n._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(o),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var n=this,o=this._layer.getLatLngs()[0];o&&o.length!==4&&o.length>0?(o.forEach(function(u,p){n._cornerMarkers[p].setLatLng(u)}),this._cornerMarkers.slice(o.length).forEach(function(u){u.setLatLng(o[0])})):o&&o.length?this._cornerMarkers.forEach(function(u){u.setLatLng(o[u._index])}):console.error("The layer has no LatLngs")},_findCorners:function(){this._angle===void 0&&this.setInitAngle(qe(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);var n=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(n[0],n[2],this.getAngle(),this._map||this)}}),Ot.CircleMarker=Ot.extend({_shape:"CircleMarker",initialize:function(n){this._layer=n,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,n),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},_extendingEnable:function(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable:function(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this.options[this._editableOption]?(this._helperLayers&&this._helperLayers.clearLayers(),this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable:function(){this._layer.off("contextmenu",this._removeMarker,this)},enabled:function(){return this._enabled},toggleEdit:function(n){this.enabled()?this.disable():this.enable(n)},applyOptions:function(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions:function(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var n=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(n);var o=this._layer.getLatLng(),u=this._layer._radius,p=this._getLatLngOnCircle(o,u);this._centerMarker=this._createCenterMarker(o),this._outerMarker=this._createOuterMarker(p),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(n,o){var u=this._map.project(n),p=L.point(u.x+o,u.y);return this._map.unproject(p)},_createHintLine:function(n,o){var u=n.getLatLng(),p=o.getLatLng();this._hintline=L.polyline([u,p],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(n){var o=this._createMarker(n);return this.options.draggable?L.DomUtil.addClass(o._icon,"leaflet-pm-draggable"):o.dragging.disable(),o},_createOuterMarker:function(n){var o=this._createMarker(n);return o.on("drag",this._resizeCircle,this),o},_createMarker:function(n){var o=new L.Marker(n,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(o,"vertexPane"),o._origLatLng=n,o._pmTempLayer=!0,o.on("dragstart",this._onMarkerDragStart,this),o.on("drag",this._onMarkerDrag,this),o.on("dragend",this._onMarkerDragEnd,this),o.on("click",this._onVertexClick,this),this._helperLayers.addLayer(o),o},_moveCircle:function(n){if(!n.target._cancelDragEventChain){var o=this._centerMarker.getLatLng();this._layer.setLatLng(o);var u=this._layer._radius,p=this._getLatLngOnCircle(o,u);this._outerMarker._latlng=p,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncMarkers:function(){var n=this._layer.getLatLng(),o=this._layer._radius,u=this._getLatLngOnCircle(n,o);this._outerMarker.setLatLng(u),this._centerMarker.setLatLng(n),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var n=this._centerMarker.getLatLng(),o=this._outerMarker.getLatLng(),u=this._distanceCalculation(n,o);this.options[this._minRadiusOption]&&u<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&u>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(u),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var n=this._centerMarker.getLatLng(),o=this._outerMarker.getLatLng();this._hintline.setLatLngs([n,o])},_removeMarker:function(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(n){this._vertexValidation("move",n)&&this._fireMarkerDragStart(n)},_onMarkerDrag:function(n){var o=n.target;o instanceof L.Marker&&!this._vertexValidationDrag(o)||this._fireMarkerDrag(n)},_onMarkerDragEnd:function(n){this._extedingMarkerDragEnd();var o=n.target;this._vertexValidationDragEnd(o)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(n))},_extedingMarkerDragEnd:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag:function(){var n=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,n.off("pm:drag",this._handleSnapping,this),n.on("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.on("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this),n.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var n=this._layer;n.off("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var n=this._layer._map||this._map;if(n){var o=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),n,this._layer.getLatLng()),u=L.circle(this._layer.getLatLng(),this._layer.options);u.setRadius(o);var p=n&&n.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(u,200,!p).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(u,200,!p),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var n=this._centerMarker.getLatLng(),o=this._outerMarker.getLatLng(),u=this._distanceCalculation(n,o);return this.options[this._minRadiusOption]&&u<this.options[this._minRadiusOption]?o=We(this._map,n,o,this._getMinDistanceInMeter(n)):this.options[this._maxRadiusOption]&&u>this.options[this._maxRadiusOption]&&(o=We(this._map,n,o,this._getMaxDistanceInMeter(n))),o},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var n=this._centerMarker.getLatLng(),o=this._outerMarker.getLatLng(),u=this._distanceCalculation(n,o);(this.options[this._minRadiusOption]&&u<this.options[this._minRadiusOption]||this.options[this._maxRadiusOption]&&u>this.options[this._maxRadiusOption])&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation:function(n,o){return this._map.project(n).distanceTo(this._map.project(o))},_getMinDistanceInMeter:function(n){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,n)},_getMaxDistanceInMeter:function(n){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,n)},_onVertexClick:function(n){n.target._dragging||this._fireVertexClick(n,void 0)}}),Ot.Circle=Ot.CircleMarker.extend({_shape:"Circle",initialize:function(n){this._layer=n,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._updateHiddenPolyCircle()},enable:function(n){L.PM.Edit.CircleMarker.prototype.enable.call(this,n||{})},_extendingEnable:function(){},_extendingDisable:function(){this._layer.off("remove",this.disable,this);var n=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(n,"leaflet-pm-draggable")},_extendingApplyOptions:function(){},_syncMarkers:function(){},_removeMarker:function(){},_onDragStart:function(){},_extedingMarkerDragEnd:function(){},_updateHiddenPolyCircle:function(){var n=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!n).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!n),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation:function(n,o){return this._map.distance(n,o)},_getMinDistanceInMeter:function(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter:function(){return this.options[this._maxRadiusOption]},_onVertexClick:function(n){n.target._dragging||this._fireVertexClick(n,void 0)}}),Ot.ImageOverlay=Ot.extend({_shape:"ImageOverlay",initialize:function(n){this._layer=n,this._enabled=!1},toggleEdit:function(n){this.enabled()?this.disable():this.enable(n)},enabled:function(){return this._enabled},enable:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,n),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var n=this._layer.getBounds();return[n.getNorthWest(),n.getNorthEast(),n.getSouthEast(),n.getSouthWest()]}}),Ot.Text=Ot.extend({_shape:"Text",initialize:function(n){this._layer=n,this._enabled=!1},enable:function(n){L.Util.setOptions(this,n),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var n=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),n.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(n){this.enabled()?this.disable():this.enable(n)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var n=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,n.off("pm:drag",this._handleSnapping,this),n.on("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.on("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this),n.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var n=this._layer;n.off("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var n=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,o=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(n,"px"),this.textArea.style.width="".concat(o,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var n=this;this._disableOnBlurActive=!0,setTimeout(function(){n.enabled()&&L.DomEvent.on(document,"click",n._documentClick,n)},100)},_documentClick:function(n){n.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this._hasFocus;this._hasFocus=n.type==="focus",!o!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(n){this.textArea.value=n,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var n,o=this.options.className.split(" ");(n=this.textArea.classList).add.apply(n,Ic(o))}var u=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(u),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),n===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(n){n.preventDefault()}});var ao=function(n,o,u,p,m,O){this._matrix=[n,o,u,p,m,O]};ao.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},ao.prototype={transform:function(n){return this._transform(n.clone())},_transform:function(n){var o=this._matrix,u=n.x,p=n.y;return n.x=o[0]*u+o[1]*p+o[4],n.y=o[2]*u+o[3]*p+o[5],n},untransform:function(n){var o=this._matrix;return new L.Point((n.x/o[0]-o[4])/o[0],(n.y/o[2]-o[5])/o[2])},clone:function(){var n=this._matrix;return new L.PM.Matrix(n[0],n[1],n[2],n[3],n[4],n[5])},translate:function(n){return n===void 0?new L.Point(this._matrix[4],this._matrix[5]):(typeof n=="number"?(o=n,u=n):(o=n.x,u=n.y),this._add(1,0,0,1,o,u));var o,u},scale:function(n,o){return n===void 0?new L.Point(this._matrix[0],this._matrix[3]):(o=o||L.point(0,0),typeof n=="number"?(u=n,p=n):(u=n.x,p=n.y),this._add(u,0,0,p,o.x,o.y)._add(1,0,0,1,-o.x,-o.y));var u,p},rotate:function(n,o){var u=Math.cos(n),p=Math.sin(n);return o=o||new L.Point(0,0),this._add(u,p,-p,u,o.x,o.y)._add(1,0,0,1,-o.x,-o.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(n,o,u,p,m,O){var A,z=[[],[],[]],N=this._matrix,$=[[N[0],N[2],N[4]],[N[1],N[3],N[5]],[0,0,1]],W=[[n,u,m],[o,p,O],[0,0,1]];n&&n instanceof L.PM.Matrix&&(W=[[(N=n._matrix)[0],N[2],N[4]],[N[1],N[3],N[5]],[0,0,1]]);for(var oe=0;oe<3;oe+=1)for(var ne=0;ne<3;ne+=1){A=0;for(var he=0;he<3;he+=1)A+=$[oe][he]*W[he][ne];z[oe][ne]=A}return this._matrix=[z[0][0],z[1][0],z[0][1],z[1][1],z[0][2],z[1][2]],this}};const Dc=ao;var Ac={calcMiddleLatLng:function(n,o,u){var p=n.project(o),m=n.project(u);return n.unproject(p._add(m)._divideBy(2))},findLayers:function(n){var o=[];return n.eachLayer(function(u){(u instanceof L.Polyline||u instanceof L.Marker||u instanceof L.Circle||u instanceof L.CircleMarker||u instanceof L.ImageOverlay)&&o.push(u)}),o=(o=(o=o.filter(function(u){return!!u.pm})).filter(function(u){return!u._pmTempLayer})).filter(function(u){return!L.PM.optIn&&!u.options.pmIgnore||L.PM.optIn&&u.options.pmIgnore===!1})},circleToPolygon:function(n){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],p=n.getLatLng(),m=n.getRadius(),O=Ee(p,m,o,0,u),A=[],z=0;z<O.length;z+=1){var N=[O[z].lat,O[z].lng];A.push(N)}return L.polygon(A,n.options)},disablePopup:function(n){n.getPopup()&&(n._tempPopupCopy=n.getPopup(),n.unbindPopup())},enablePopup:function(n){n._tempPopupCopy&&(n.bindPopup(n._tempPopupCopy),delete n._tempPopupCopy)},_fireEvent:function(n,o,u){var p=arguments.length>3&&arguments[3]!==void 0&&arguments[3];n.fire(o,u,p);var m=this.getAllParentGroups(n),O=m.groups;O.forEach(function(A){A.fire(o,u,p)})},getAllParentGroups:function(n){var o=[],u=[];return!n._pmLastGroupFetch||!n._pmLastGroupFetch.time||new Date().getTime()-n._pmLastGroupFetch.time>1e3?(function p(m){for(var O in m._eventParents)if(o.indexOf(O)===-1){o.push(O);var A=m._eventParents[O];u.push(A),p(A)}}(n),n._pmLastGroupFetch={time:new Date().getTime(),groups:u,groupIds:o},{groupIds:o,groups:u}):{groups:n._pmLastGroupFetch.groups,groupIds:n._pmLastGroupFetch.groupIds}},createGeodesicPolygon:Ee,getTranslation:Q,findDeepCoordIndex:function(n,o){var u,p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],m=function A(z){return function(N,$){var W=z.concat($);if(p){if(N.lat&&N.lat===o.lat&&N.lng===o.lng)return u=W,!0}else if(N.lat&&L.latLng(N).equals(o))return u=W,!0;return Array.isArray(N)&&N.some(A(W))}};n.some(m([]));var O={};return u&&(O={indexPath:u,index:u[u.length-1],parentPath:u.slice(0,u.length-1)}),O},findDeepMarkerIndex:function(n,o){var u;n.some(function m(O){return function(A,z){var N=O.concat(z);return A._leaflet_id===o._leaflet_id?(u=N,!0):Array.isArray(A)&&A.some(m(N))}}([]));var p={};return u&&(p={indexPath:u,index:u[u.length-1],parentPath:u.slice(0,u.length-1)}),p},_getIndexFromSegment:function(n,o){if(o&&o.length===2){var u=this.findDeepCoordIndex(n,o[0]),p=this.findDeepCoordIndex(n,o[1]),m=Math.max(u.index,p.index);return u.index!==0&&p.index!==0||m===1||(m+=1),{indexA:u,indexB:p,newIndex:m,indexPath:u.indexPath,parentPath:u.parentPath}}return null},_getRotatedRectangle:function(n,o,u,p){var m=tr(p,n),O=tr(p,o),A=u*Math.PI/180,z=Math.cos(A),N=Math.sin(A),$=(O.x-m.x)*z+(O.y-m.y)*N,W=(O.y-m.y)*z-(O.x-m.x)*N,oe=$*z+m.x,ne=$*N+m.y,he=-W*N+m.x,be=W*z+m.y;return[ei(p,m),ei(p,{x:oe,y:ne}),ei(p,O),ei(p,{x:he,y:be})]},pxRadiusToMeterRadius:function(n,o,u){var p=o.project(u),m=L.point(p.x+n,p.y);return o.distance(o.unproject(m),u)}};const Nc=Ac;L.PM=L.PM||{version:"2.15.0",Map:wt,Toolbar:ze,Draw:k,Edit:Ot,Utils:Nc,Matrix:Dc,activeLang:"en",optIn:!1,initialize:function(n){this.addInitHooks(n)},setOptIn:function(n){this.optIn=!!n},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(n){var o=this;n instanceof L.LayerGroup&&n.eachLayer(function(u){o.reInitLayer(u)}),n.pm||L.PM.optIn&&n.options.pmIgnore!==!1||n.options.pmIgnore||(n instanceof L.Map?n.pm=new L.PM.Map(n):n instanceof L.Marker?n.options.textMarker?(n.pm=new L.PM.Edit.Text(n),n.pm._initTextMarker(),n.pm._createTextMarker(!1)):n.pm=new L.PM.Edit.Marker(n):n instanceof L.Circle?n.pm=new L.PM.Edit.Circle(n):n instanceof L.CircleMarker?n.pm=new L.PM.Edit.CircleMarker(n):n instanceof L.Rectangle?n.pm=new L.PM.Edit.Rectangle(n):n instanceof L.Polygon?n.pm=new L.PM.Edit.Polygon(n):n instanceof L.Polyline?n.pm=new L.PM.Edit.Line(n):n instanceof L.LayerGroup?n.pm=new L.PM.Edit.LayerGroup(n):n instanceof L.ImageOverlay&&(n.pm=new L.PM.Edit.ImageOverlay(n)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick:function(n){for(var o,u,p=this._map.mouseEventToLayerPoint(n),m=this._drawFirst;m;m=m.next)(o=m.layer).options.interactive&&o._containsPoint(p)&&(n.type!=="click"&&n.type!=="preclick"||!this._map._draggableMoved(o))&&(u=o);u&&(L.DomEvent.fakeStop(n),this._fireEvent([u],n))}}),L.PM.initialize()})()})();const Pb=Pe("div",{id:"leaflet",class:"w-screen h-screen"},null,-1),Tb=Re({__name:"DrawLine",emits:["elevatorAdd"],setup(e,{expose:t,emit:r}){const i=r;xt(()=>{l(),h(),g()});let s;const a=En();function l(){s=a.init("leaflet")}const c=new yd,d=new bd,f=new _d;Ld.on("floorChange",v=>{c.updateDataList(),d.updateDataList(),f.updateDataList(),h()});function h(){c.showBeforeData(),d.showBeforeData(),f.showBeforeData()}function g(){s.pm.addControls({position:"topleft",drawCircleMarker:!1,rotateMode:!1,drawRectangle:!1,drawPolygon:!1,drawCircle:!1,drawText:!1,cutPolygon:!1,dragMode:!1}),s.pm.setGlobalOptions({snapDistance:15,continueDrawing:!0,snapMiddle:!0,allowSelfIntersectionEdit:!0,pathOptions:kd}),wd(s),s.pm.setLang("zh"),s.on("pm:create",v=>{switch(v.shape){case"Line":c.onCreate(v);break;case"Marker":d.onCreate(v);break;case Xa:y=v,i("elevatorAdd",v);break}}),s.on("pm:remove",v=>{switch(v.shape){case"Line":c.onRemove(v);break;case"Marker":d.onRemove(v);break;case Xa:f.onRemove(v);break}})}let w;function x(v){w&&w.remove(),v!=null&&v.length&&(w=hn.polyline(v,{color:"red",weight:5}).addTo(s),s.fitBounds(w.getBounds()))}function _(){w&&w.remove()}let y=null;function C(){f.onCreate(y)}return t({drawLine:x,clearPolyline:_,saveElevator:C}),(v,S)=>{const D=Ob;return se(),Se(At,null,[Pb,ye(D,{class:"fixed z-999 bottom-220px right-20px"})],64)}}});function Vu(e){const t=e*17%256,r=e*29%256,i=e*13%256;return`rgb(${t},${r},${i})`}function Rb(e){e??(e=Wi(xr()));const t=En(),r=e.filter(i=>[i.start.z,i.end.z].includes(t.floorHeight()));for(const[i,s]of r.entries())hn.polyline([s.start,s.end],{color:Vu(i*40),weight:5}).addTo(t.map)}const el=100;class Uu{constructor(t,r){ot(this,"parent",null);ot(this,"cost",null);ot(this,"toEndDistance",null);ot(this,"id");ot(this,"point");ot(this,"children");this.id=t.id,this.children=t.children,this.point=t.point,this.toEndDistance=gi(this.point,r)}}var Ri,Gu,Bi,Hu;class Bb{constructor(){nr(this,Ri);nr(this,Bi);ot(this,"nodes",[]);ot(this,"openNode");ot(this,"closeList",[]);ot(this,"path",[]);ot(this,"startPoint");ot(this,"endPoint")}navigate(t,r,i){this.startPoint=r,this.endPoint=i,this.openNode=null,this.closeList=[],this.path=[];const s=Wi(JSON.parse(JSON.stringify(t)),r,i);if(!s)return;const a=Ku(s);qu(a,r,i);const l=a.map(c=>new Uu(c,i));this.nodes=l,l[0].cost=0,this.openNode=l[0],this.foundRoute()}foundRoute(){if(this.openNode){const t=this.openNode,r=this.nodes.filter(s=>!this.closeList.includes(s)&&t.children.some(a=>a.id===s.id));for(const s of r){const a=t.children.findIndex(c=>c.id===s.id),l=t.cost+t.children[a].distance;(s.cost===null||l<s.cost)&&(s.cost=l,s.parent=t)}this.closeList.push(t),this.openNode=null;const i=qn(this,Ri,Gu).call(this);if(i)return i}}}Ri=new WeakSet,Gu=function(){const t=this.nodes.filter(i=>!this.closeList.includes(i));if(!t.length)return;const r=t.reduce((i,s)=>{if(i.cost===null)return s;const a=s.cost+s.toEndDistance,l=i.cost+i.toEndDistance;return s.cost&&a<l?s:i},t[0]);if(Un(r.point,this.endPoint)){const i=qn(this,Bi,Hu).call(this,r);return this.path=i,console.log(i),i}this.openNode=r,this.foundRoute()},Bi=new WeakSet,Hu=function(t){const r=[t.point];let i=t;for(;i.parent;)r.push(i.parent.point),i=i.parent;return r.reverse(),r};function Wi(e,t,r){const i=[];for(const f of e)for(let h=0;h<f.length-1;h++){const g=f[h],w=f[h+1];i.push({start:g,end:w})}const s=new Map;function a(f,h){const g=s.get(f);if(!g){s.set(f,[h]);return}g.some(w=>Un(w,h))||[f.start,f.end].some(w=>Un(w,h))||g.push(h)}const l=i.filter(f=>f.start.z===f.end.z);for(const f of l){const h=[...l.filter(w=>w.start.z===f.start.z)],g=l.indexOf(f);h.splice(g,1);for(const w of h){if(Md(f,w))continue;const x=Ed({x:f.start.lat,y:f.start.lng},{x:f.end.lat,y:f.end.lng},{x:w.start.lat,y:w.start.lng},{x:w.end.lat,y:w.end.lng});x&&(a(f,{...x,z:f.start.z}),a(w,{...x,z:f.start.z}))}}for(const[f,h]of s.entries()){h.sort((x,_)=>{const y=gi(x,f.start),C=gi(_,f.start);return y-C});const g=[f.start,...h,f.end],w=[];for(let x=0;x<g.length-1;x++){const _=g[x],y=g[x+1];w.push({start:_,end:y})}i.splice(i.indexOf(f),1,...w)}function c(){const f=[];let h=i.filter(C=>C.start.z===C.end.z);const g=h.filter(C=>C.start.z===t.z);if(!g.length)return mn.error(""),!1;for(const C of g){const v=Za({x:t.lat,y:t.lng},{x:C.start.lat,y:C.start.lng},{x:C.end.lat,y:C.end.lng});v.point.z=t.z,f.push({...v,segment:C})}let w=f.filter(C=>C.distance<=el);if(!w.length)return mn.error(""),!1;w.some(C=>C.isVertical)&&(w=w.filter(C=>C.isVertical));for(const C of w){const v=C.segment,S=i.indexOf(v);console.log(S),i.splice(S,1,{start:v.start,end:C.point},{start:C.point,end:v.end}),i.unshift({start:t,end:C.point})}const x=[];h=i.filter(C=>C.start.z===C.end.z);const _=h.filter(C=>C.start.z===r.z);if(!_.length)return mn.error(""),!1;for(const C of _){const v=Za({x:r.lat,y:r.lng},{x:C.start.lat,y:C.start.lng},{x:C.end.lat,y:C.end.lng});v.point.z=r.z,x.push({...v,segment:C})}let y=x.filter(C=>C.distance<=el);if(!y.length)return mn.error(""),!1;y.some(C=>C.isVertical)&&(y=y.filter(C=>C.isVertical));for(const C of y){const v=C.segment;i.splice(i.indexOf(v),1,{start:v.start,end:C.point},{start:C.point,end:v.end}),i.push({start:C.point,end:r})}return!0}let d=!0;t&&r&&(d=c());for(const f of i)f.distance=gi(f.start,f.end);return d?i:!1}function Ku(e){for(const r of e)r.start.id=`${r.start.lat}-${r.start.lng}-${r.start.z}`,r.end.id=`${r.end.lat}-${r.end.lng}-${r.end.z}`;const t=[];for(const r of e){const i=r.start,s=r.end,a=r.distance,l=t.find(d=>d.id===i.id);if(l)l.children.find(f=>Un(f.id,s))||l.children.push({id:s.id,type:1,distance:a});else{const d={lat:i.lat,lng:i.lng,z:i.z};t.push({point:d,children:[{id:s.id,type:1,distance:a}],id:i.id})}const c=t.find(d=>d.id===s.id);if(c)c.children.find(f=>Un(f.id,i))||c.children.push({id:i.id,type:1,distance:a});else{const d={lat:s.lat,lng:s.lng,z:s.z};t.push({point:d,children:[{id:i.id,type:1,distance:a}],id:s.id})}}return t}function qu(e,t,r){function i(){return e.findIndex(a=>a.children.length===1&&!Un(a.point,t)&&!Un(a.point,r))}let s=i();for(;s>-1;){const a=e[s];e.splice(s,1),e.filter(l=>l.children.some(c=>c.id===a.id)).forEach(l=>{const c=l.children.findIndex(d=>d.id===a.id);l.children.splice(c,1)}),s=i()}}let lr;function Ib(){return lr}const Db={autoClose:!1,closeOnClick:!1};var Vr,Ao,Ii,Wu,Di,Ju;class Ab{constructor(){nr(this,Vr);nr(this,Ii);nr(this,Di);ot(this,"nodes",[]);ot(this,"openNode");ot(this,"closeList",[]);ot(this,"path",[]);ot(this,"intersectMarkers",[]);ot(this,"lines",[]);ot(this,"popups",[]);ot(this,"startPoint");ot(this,"endPoint");ot(this,"foundRoute",function*(){if(yield,this.openNode){qn(this,Vr,Ao).call(this);const t=this.openNode,r=this.nodes.filter(d=>!this.closeList.includes(d)&&t.children.some(f=>f.id===d.id)),i=En(),s=this.nodes.findIndex(d=>d.id===t.id),a=this.intersectMarkers[s];a.closePopup();const l=a.getElement();l.classList.remove("ripple"),l.style.backgroundColor="#53e553",yield;for(const d of r){const f=t.children.findIndex(g=>g.id===d.id),h=t.cost+t.children[f].distance;if(this.lines.push(hn.polyline([t.point,d.point],{color:"red",weight:5}).addTo(i.map)),d.cost===null||h<d.cost){d.cost=h,d.parent=t;const g=this.nodes.findIndex(C=>C.id===d.id),w=this.intersectMarkers[g];w.closePopup();const x=w.getElement(),_=d.cost+d.toEndDistance,y=w.bindPopup(`${d.cost}${d.toEndDistance}${_}${s}`,Db);this.popups.push(y),y.openPopup(),x.style.backgroundColor="pink"}yield}l.style.backgroundColor="#ccc",this.closeList.push(t),this.openNode=null;const c=qn(this,Ii,Wu).call(this);if(c)return c}})}navigate(t,r,i){this.startPoint=r,this.endPoint=i,this.openNode=null,this.closeList=[],this.path=[];const s=Wi(JSON.parse(JSON.stringify(t)),r,i);if(!s)return;const a=Ku(s),l=En(),c=dr(l.map);qu(a,r,i);const d=a.map(h=>new Uu(h,i)),f=s.filter(h=>[h.start.z,h.end.z].includes(l.floorHeight()));for(const[h,g]of f.entries()){const w=hn.polyline([g.start,g.end],{color:Vu(h*40),weight:5}).addTo(c),x=hn.divIcon({className:"line-icon",html:`${g.distance}`,iconSize:[30,30]});hn.marker(w.getCenter(),{icon:x}).addTo(c)}for(const[h,g]of d.entries()){const w=hn.divIcon({className:"my-div-icon",html:`${h}`,iconSize:[30,30],popupAnchor:[0,-20]}),x=hn.marker(g.point,{icon:w}).addTo(c);g.point.z!==l.floorHeight()&&x.setOpacity(0),this.intersectMarkers.push(x)}this.nodes=d,d[0].cost=0,this.openNode=d[0],lr=this.foundRoute.call(this),lr.next(),lr.next()}}Vr=new WeakSet,Ao=function(){for(const t of this.lines)t.remove();this.lines=[]},Ii=new WeakSet,Wu=function(){const t=this.nodes.filter(l=>!this.closeList.includes(l));if(!t.length)return;const r=t.reduce((l,c)=>{if(l.cost===null)return c;const d=c.cost+c.toEndDistance,f=l.cost+l.toEndDistance;return c.cost&&d<f?c:l},t[0]),i=this.nodes.findIndex(l=>l.id===r.id),s=this.intersectMarkers[i],a=s.getElement();if(Un(r.point,this.endPoint)){console.log(JSON.parse(JSON.stringify(this.nodes)));const l=qn(this,Di,Ju).call(this,r);this.path=l,a.style.backgroundColor="#53e553",this.popups.forEach(f=>f.closePopup()),qn(this,Vr,Ao).call(this);const c=En(),d=dr(c.map);return hn.polyline(l,{color:"red",weight:5}).addTo(d),l}a.classList.add("ripple"),s.closePopup(),s.openPopup(),En(),this.openNode=r,lr=this.foundRoute.call(this),lr.next()},Di=new WeakSet,Ju=function(t){const r=[t.point];let i=t;for(;i.parent;)r.push(i.parent.point),i=i.parent;return r.reverse(),r};function Yu(e,t){return function(){return e.apply(t,arguments)}}const{toString:Nb}=Object.prototype,{getPrototypeOf:ya}=Object,Ji=(e=>t=>{const r=Nb.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kn=e=>(e=e.toLowerCase(),t=>Ji(t)===e),Yi=e=>t=>typeof t===e,{isArray:kr}=Array,$r=Yi("undefined");function zb(e){return e!==null&&!$r(e)&&e.constructor!==null&&!$r(e.constructor)&&tn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Xu=kn("ArrayBuffer");function jb(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Xu(e.buffer),t}const Fb=Yi("string"),tn=Yi("function"),Zu=Yi("number"),Xi=e=>e!==null&&typeof e=="object",$b=e=>e===!0||e===!1,bi=e=>{if(Ji(e)!=="object")return!1;const t=ya(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Vb=kn("Date"),Ub=kn("File"),Gb=kn("Blob"),Hb=kn("FileList"),Kb=e=>Xi(e)&&tn(e.pipe),qb=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||tn(e.append)&&((t=Ji(e))==="formdata"||t==="object"&&tn(e.toString)&&e.toString()==="[object FormData]"))},Wb=kn("URLSearchParams"),Jb=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jr(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let i,s;if(typeof e!="object"&&(e=[e]),kr(e))for(i=0,s=e.length;i<s;i++)t.call(null,e[i],i,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),l=a.length;let c;for(i=0;i<l;i++)c=a[i],t.call(null,e[c],c,e)}}function Qu(e,t){t=t.toLowerCase();const r=Object.keys(e);let i=r.length,s;for(;i-- >0;)if(s=r[i],t===s.toLowerCase())return s;return null}const ec=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tc=e=>!$r(e)&&e!==ec;function No(){const{caseless:e}=tc(this)&&this||{},t={},r=(i,s)=>{const a=e&&Qu(t,s)||s;bi(t[a])&&bi(i)?t[a]=No(t[a],i):bi(i)?t[a]=No({},i):kr(i)?t[a]=i.slice():t[a]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Jr(arguments[i],r);return t}const Yb=(e,t,r,{allOwnKeys:i}={})=>(Jr(t,(s,a)=>{r&&tn(s)?e[a]=Yu(s,r):e[a]=s},{allOwnKeys:i}),e),Xb=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Zb=(e,t,r,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Qb=(e,t,r,i)=>{let s,a,l;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)l=s[a],(!i||i(l,e,t))&&!c[l]&&(t[l]=e[l],c[l]=!0);e=r!==!1&&ya(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},e_=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const i=e.indexOf(t,r);return i!==-1&&i===r},t_=e=>{if(!e)return null;if(kr(e))return e;let t=e.length;if(!Zu(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},n_=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ya(Uint8Array)),r_=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=i.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},i_=(e,t)=>{let r;const i=[];for(;(r=e.exec(t))!==null;)i.push(r);return i},o_=kn("HTMLFormElement"),a_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,i,s){return i.toUpperCase()+s}),tl=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),s_=kn("RegExp"),nc=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),i={};Jr(r,(s,a)=>{let l;(l=t(s,a,e))!==!1&&(i[a]=l||s)}),Object.defineProperties(e,i)},l_=e=>{nc(e,(t,r)=>{if(tn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const i=e[r];if(tn(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},u_=(e,t)=>{const r={},i=s=>{s.forEach(a=>{r[a]=!0})};return kr(e)?i(e):i(String(e).split(t)),r},c_=()=>{},d_=(e,t)=>(e=+e,Number.isFinite(e)?e:t),ko="abcdefghijklmnopqrstuvwxyz",nl="0123456789",rc={DIGIT:nl,ALPHA:ko,ALPHA_DIGIT:ko+ko.toUpperCase()+nl},f_=(e=16,t=rc.ALPHA_DIGIT)=>{let r="";const{length:i}=t;for(;e--;)r+=t[Math.random()*i|0];return r};function p_(e){return!!(e&&tn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const h_=e=>{const t=new Array(10),r=(i,s)=>{if(Xi(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[s]=i;const a=kr(i)?[]:{};return Jr(i,(l,c)=>{const d=r(l,s+1);!$r(d)&&(a[c]=d)}),t[s]=void 0,a}}return i};return r(e,0)},g_=kn("AsyncFunction"),m_=e=>e&&(Xi(e)||tn(e))&&tn(e.then)&&tn(e.catch),le={isArray:kr,isArrayBuffer:Xu,isBuffer:zb,isFormData:qb,isArrayBufferView:jb,isString:Fb,isNumber:Zu,isBoolean:$b,isObject:Xi,isPlainObject:bi,isUndefined:$r,isDate:Vb,isFile:Ub,isBlob:Gb,isRegExp:s_,isFunction:tn,isStream:Kb,isURLSearchParams:Wb,isTypedArray:n_,isFileList:Hb,forEach:Jr,merge:No,extend:Yb,trim:Jb,stripBOM:Xb,inherits:Zb,toFlatObject:Qb,kindOf:Ji,kindOfTest:kn,endsWith:e_,toArray:t_,forEachEntry:r_,matchAll:i_,isHTMLForm:o_,hasOwnProperty:tl,hasOwnProp:tl,reduceDescriptors:nc,freezeMethods:l_,toObjectSet:u_,toCamelCase:a_,noop:c_,toFiniteNumber:d_,findKey:Qu,global:ec,isContextDefined:tc,ALPHABET:rc,generateString:f_,isSpecCompliantForm:p_,toJSONObject:h_,isAsyncFn:g_,isThenable:m_};function Ve(e,t,r,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),i&&(this.request=i),s&&(this.response=s)}le.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:le.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ic=Ve.prototype,oc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{oc[e]={value:e}});Object.defineProperties(Ve,oc);Object.defineProperty(ic,"isAxiosError",{value:!0});Ve.from=(e,t,r,i,s,a)=>{const l=Object.create(ic);return le.toFlatObject(e,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),Ve.call(l,e.message,t,r,i,s),l.cause=e,l.name=e.name,a&&Object.assign(l,a),l};const v_=null;function zo(e){return le.isPlainObject(e)||le.isArray(e)}function ac(e){return le.endsWith(e,"[]")?e.slice(0,-2):e}function rl(e,t,r){return e?e.concat(t).map(function(s,a){return s=ac(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function y_(e){return le.isArray(e)&&!e.some(zo)}const b_=le.toFlatObject(le,{},null,function(t){return/^is[A-Z]/.test(t)});function Zi(e,t,r){if(!le.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=le.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,C){return!le.isUndefined(C[y])});const i=r.metaTokens,s=r.visitor||h,a=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&le.isSpecCompliantForm(t);if(!le.isFunction(s))throw new TypeError("visitor must be a function");function f(_){if(_===null)return"";if(le.isDate(_))return _.toISOString();if(!d&&le.isBlob(_))throw new Ve("Blob is not supported. Use a Buffer instead.");return le.isArrayBuffer(_)||le.isTypedArray(_)?d&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function h(_,y,C){let v=_;if(_&&!C&&typeof _=="object"){if(le.endsWith(y,"{}"))y=i?y:y.slice(0,-2),_=JSON.stringify(_);else if(le.isArray(_)&&y_(_)||(le.isFileList(_)||le.endsWith(y,"[]"))&&(v=le.toArray(_)))return y=ac(y),v.forEach(function(D,E){!(le.isUndefined(D)||D===null)&&t.append(l===!0?rl([y],E,a):l===null?y:y+"[]",f(D))}),!1}return zo(_)?!0:(t.append(rl(C,y,a),f(_)),!1)}const g=[],w=Object.assign(b_,{defaultVisitor:h,convertValue:f,isVisitable:zo});function x(_,y){if(!le.isUndefined(_)){if(g.indexOf(_)!==-1)throw Error("Circular reference detected in "+y.join("."));g.push(_),le.forEach(_,function(v,S){(!(le.isUndefined(v)||v===null)&&s.call(t,v,le.isString(S)?S.trim():S,y,w))===!0&&x(v,y?y.concat(S):[S])}),g.pop()}}if(!le.isObject(e))throw new TypeError("data must be an object");return x(e),t}function il(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function ba(e,t){this._pairs=[],e&&Zi(e,this,t)}const sc=ba.prototype;sc.append=function(t,r){this._pairs.push([t,r])};sc.toString=function(t){const r=t?function(i){return t.call(this,i,il)}:il;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function __(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lc(e,t,r){if(!t)return e;const i=r&&r.encode||__,s=r&&r.serialize;let a;if(s?a=s(t,r):a=le.isURLSearchParams(t)?t.toString():new ba(t,r).toString(i),a){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class L_{constructor(){this.handlers=[]}use(t,r,i){return this.handlers.push({fulfilled:t,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){le.forEach(this.handlers,function(i){i!==null&&t(i)})}}const ol=L_,uc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},k_=typeof URLSearchParams<"u"?URLSearchParams:ba,w_=typeof FormData<"u"?FormData:null,M_=typeof Blob<"u"?Blob:null,E_={isBrowser:!0,classes:{URLSearchParams:k_,FormData:w_,Blob:M_},protocols:["http","https","file","blob","url","data"]},cc=typeof window<"u"&&typeof document<"u",C_=(e=>cc&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),S_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",x_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:cc,hasStandardBrowserEnv:C_,hasStandardBrowserWebWorkerEnv:S_},Symbol.toStringTag,{value:"Module"})),vn={...x_,...E_};function O_(e,t){return Zi(e,new vn.classes.URLSearchParams,Object.assign({visitor:function(r,i,s,a){return vn.isNode&&le.isBuffer(r)?(this.append(i,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function P_(e){return le.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function T_(e){const t={},r=Object.keys(e);let i;const s=r.length;let a;for(i=0;i<s;i++)a=r[i],t[a]=e[a];return t}function dc(e){function t(r,i,s,a){let l=r[a++];const c=Number.isFinite(+l),d=a>=r.length;return l=!l&&le.isArray(s)?s.length:l,d?(le.hasOwnProp(s,l)?s[l]=[s[l],i]:s[l]=i,!c):((!s[l]||!le.isObject(s[l]))&&(s[l]=[]),t(r,i,s[l],a)&&le.isArray(s[l])&&(s[l]=T_(s[l])),!c)}if(le.isFormData(e)&&le.isFunction(e.entries)){const r={};return le.forEachEntry(e,(i,s)=>{t(P_(i),s,r,0)}),r}return null}function R_(e,t,r){if(le.isString(e))try{return(t||JSON.parse)(e),le.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(e)}const _a={transitional:uc,adapter:["xhr","http"],transformRequest:[function(t,r){const i=r.getContentType()||"",s=i.indexOf("application/json")>-1,a=le.isObject(t);if(a&&le.isHTMLForm(t)&&(t=new FormData(t)),le.isFormData(t))return s&&s?JSON.stringify(dc(t)):t;if(le.isArrayBuffer(t)||le.isBuffer(t)||le.isStream(t)||le.isFile(t)||le.isBlob(t))return t;if(le.isArrayBufferView(t))return t.buffer;if(le.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return O_(t,this.formSerializer).toString();if((c=le.isFileList(t))||i.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Zi(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),R_(t)):t}],transformResponse:[function(t){const r=this.transitional||_a.transitional,i=r&&r.forcedJSONParsing,s=this.responseType==="json";if(t&&le.isString(t)&&(i&&!this.responseType||s)){const l=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(l)throw c.name==="SyntaxError"?Ve.from(c,Ve.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vn.classes.FormData,Blob:vn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};le.forEach(["delete","get","head","post","put","patch"],e=>{_a.headers[e]={}});const La=_a,B_=le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),I_=e=>{const t={};let r,i,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),r=l.substring(0,s).trim().toLowerCase(),i=l.substring(s+1).trim(),!(!r||t[r]&&B_[r])&&(r==="set-cookie"?t[r]?t[r].push(i):t[r]=[i]:t[r]=t[r]?t[r]+", "+i:i)}),t},al=Symbol("internals");function Sr(e){return e&&String(e).trim().toLowerCase()}function _i(e){return e===!1||e==null?e:le.isArray(e)?e.map(_i):String(e)}function D_(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=r.exec(e);)t[i[1]]=i[2];return t}const A_=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function wo(e,t,r,i,s){if(le.isFunction(i))return i.call(this,t,r);if(s&&(t=r),!!le.isString(t)){if(le.isString(i))return t.indexOf(i)!==-1;if(le.isRegExp(i))return i.test(t)}}function N_(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,i)=>r.toUpperCase()+i)}function z_(e,t){const r=le.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+r,{value:function(s,a,l){return this[i].call(this,t,s,a,l)},configurable:!0})})}class Qi{constructor(t){t&&this.set(t)}set(t,r,i){const s=this;function a(c,d,f){const h=Sr(d);if(!h)throw new Error("header name must be a non-empty string");const g=le.findKey(s,h);(!g||s[g]===void 0||f===!0||f===void 0&&s[g]!==!1)&&(s[g||d]=_i(c))}const l=(c,d)=>le.forEach(c,(f,h)=>a(f,h,d));return le.isPlainObject(t)||t instanceof this.constructor?l(t,r):le.isString(t)&&(t=t.trim())&&!A_(t)?l(I_(t),r):t!=null&&a(r,t,i),this}get(t,r){if(t=Sr(t),t){const i=le.findKey(this,t);if(i){const s=this[i];if(!r)return s;if(r===!0)return D_(s);if(le.isFunction(r))return r.call(this,s,i);if(le.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Sr(t),t){const i=le.findKey(this,t);return!!(i&&this[i]!==void 0&&(!r||wo(this,this[i],i,r)))}return!1}delete(t,r){const i=this;let s=!1;function a(l){if(l=Sr(l),l){const c=le.findKey(i,l);c&&(!r||wo(i,i[c],c,r))&&(delete i[c],s=!0)}}return le.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let i=r.length,s=!1;for(;i--;){const a=r[i];(!t||wo(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,i={};return le.forEach(this,(s,a)=>{const l=le.findKey(i,a);if(l){r[l]=_i(s),delete r[a];return}const c=t?N_(a):String(a).trim();c!==a&&delete r[a],r[c]=_i(s),i[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return le.forEach(this,(i,s)=>{i!=null&&i!==!1&&(r[s]=t&&le.isArray(i)?i.join(", "):i)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const i=new this(t);return r.forEach(s=>i.set(s)),i}static accessor(t){const i=(this[al]=this[al]={accessors:{}}).accessors,s=this.prototype;function a(l){const c=Sr(l);i[c]||(z_(s,l),i[c]=!0)}return le.isArray(t)?t.forEach(a):a(t),this}}Qi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);le.reduceDescriptors(Qi.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[r]=i}}});le.freezeMethods(Qi);const xn=Qi;function Mo(e,t){const r=this||La,i=t||r,s=xn.from(i.headers);let a=i.data;return le.forEach(e,function(c){a=c.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function fc(e){return!!(e&&e.__CANCEL__)}function Yr(e,t,r){Ve.call(this,e??"canceled",Ve.ERR_CANCELED,t,r),this.name="CanceledError"}le.inherits(Yr,Ve,{__CANCEL__:!0});function j_(e,t,r){const i=r.config.validateStatus;!r.status||!i||i(r.status)?e(r):t(new Ve("Request failed with status code "+r.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const F_=vn.hasStandardBrowserEnv?{write(e,t,r,i,s,a){const l=[e+"="+encodeURIComponent(t)];le.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),le.isString(i)&&l.push("path="+i),le.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $_(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function V_(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function pc(e,t){return e&&!$_(t)?V_(e,t):t}const U_=vn.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let i;function s(a){let l=a;return t&&(r.setAttribute("href",l),l=r.href),r.setAttribute("href",l),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(l){const c=le.isString(l)?s(l):l;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}();function G_(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function H_(e,t){e=e||10;const r=new Array(e),i=new Array(e);let s=0,a=0,l;return t=t!==void 0?t:1e3,function(d){const f=Date.now(),h=i[a];l||(l=f),r[s]=d,i[s]=f;let g=a,w=0;for(;g!==s;)w+=r[g++],g=g%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),f-l<t)return;const x=h&&f-h;return x?Math.round(w*1e3/x):void 0}}function sl(e,t){let r=0;const i=H_(50,250);return s=>{const a=s.loaded,l=s.lengthComputable?s.total:void 0,c=a-r,d=i(c),f=a<=l;r=a;const h={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&f?(l-a)/d:void 0,event:s};h[t?"download":"upload"]=!0,e(h)}}const K_=typeof XMLHttpRequest<"u",q_=K_&&function(e){return new Promise(function(r,i){let s=e.data;const a=xn.from(e.headers).normalize();let{responseType:l,withXSRFToken:c}=e,d;function f(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}let h;if(le.isFormData(s)){if(vn.hasStandardBrowserEnv||vn.hasStandardBrowserWebWorkerEnv)a.setContentType(!1);else if((h=a.getContentType())!==!1){const[y,...C]=h?h.split(";").map(v=>v.trim()).filter(Boolean):[];a.setContentType([y||"multipart/form-data",...C].join("; "))}}let g=new XMLHttpRequest;if(e.auth){const y=e.auth.username||"",C=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(y+":"+C))}const w=pc(e.baseURL,e.url);g.open(e.method.toUpperCase(),lc(w,e.params,e.paramsSerializer),!0),g.timeout=e.timeout;function x(){if(!g)return;const y=xn.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),v={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:y,config:e,request:g};j_(function(D){r(D),f()},function(D){i(D),f()},v),g=null}if("onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(x)},g.onabort=function(){g&&(i(new Ve("Request aborted",Ve.ECONNABORTED,e,g)),g=null)},g.onerror=function(){i(new Ve("Network Error",Ve.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let C=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const v=e.transitional||uc;e.timeoutErrorMessage&&(C=e.timeoutErrorMessage),i(new Ve(C,v.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,e,g)),g=null},vn.hasStandardBrowserEnv&&(c&&le.isFunction(c)&&(c=c(e)),c||c!==!1&&U_(w))){const y=e.xsrfHeaderName&&e.xsrfCookieName&&F_.read(e.xsrfCookieName);y&&a.set(e.xsrfHeaderName,y)}s===void 0&&a.setContentType(null),"setRequestHeader"in g&&le.forEach(a.toJSON(),function(C,v){g.setRequestHeader(v,C)}),le.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),l&&l!=="json"&&(g.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&g.addEventListener("progress",sl(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",sl(e.onUploadProgress)),(e.cancelToken||e.signal)&&(d=y=>{g&&(i(!y||y.type?new Yr(null,e,g):y),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d)));const _=G_(w);if(_&&vn.protocols.indexOf(_)===-1){i(new Ve("Unsupported protocol "+_+":",Ve.ERR_BAD_REQUEST,e));return}g.send(s||null)})},jo={http:v_,xhr:q_};le.forEach(jo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ll=e=>`- ${e}`,W_=e=>le.isFunction(e)||e===null||e===!1,hc={getAdapter:e=>{e=le.isArray(e)?e:[e];const{length:t}=e;let r,i;const s={};for(let a=0;a<t;a++){r=e[a];let l;if(i=r,!W_(r)&&(i=jo[(l=String(r)).toLowerCase()],i===void 0))throw new Ve(`Unknown adapter '${l}'`);if(i)break;s[l||"#"+a]=i}if(!i){const a=Object.entries(s).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=t?a.length>1?`since :
`+a.map(ll).join(`
`):" "+ll(a[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:jo};function Eo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Yr(null,e)}function ul(e){return Eo(e),e.headers=xn.from(e.headers),e.data=Mo.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),hc.getAdapter(e.adapter||La.adapter)(e).then(function(i){return Eo(e),i.data=Mo.call(e,e.transformResponse,i),i.headers=xn.from(i.headers),i},function(i){return fc(i)||(Eo(e),i&&i.response&&(i.response.data=Mo.call(e,e.transformResponse,i.response),i.response.headers=xn.from(i.response.headers))),Promise.reject(i)})}const cl=e=>e instanceof xn?e.toJSON():e;function br(e,t){t=t||{};const r={};function i(f,h,g){return le.isPlainObject(f)&&le.isPlainObject(h)?le.merge.call({caseless:g},f,h):le.isPlainObject(h)?le.merge({},h):le.isArray(h)?h.slice():h}function s(f,h,g){if(le.isUndefined(h)){if(!le.isUndefined(f))return i(void 0,f,g)}else return i(f,h,g)}function a(f,h){if(!le.isUndefined(h))return i(void 0,h)}function l(f,h){if(le.isUndefined(h)){if(!le.isUndefined(f))return i(void 0,f)}else return i(void 0,h)}function c(f,h,g){if(g in t)return i(f,h);if(g in e)return i(void 0,f)}const d={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(f,h)=>s(cl(f),cl(h),!0)};return le.forEach(Object.keys(Object.assign({},e,t)),function(h){const g=d[h]||s,w=g(e[h],t[h],h);le.isUndefined(w)&&g!==c||(r[h]=w)}),r}const gc="1.6.2",ka={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ka[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const dl={};ka.transitional=function(t,r,i){function s(a,l){return"[Axios v"+gc+"] Transitional option '"+a+"'"+l+(i?". "+i:"")}return(a,l,c)=>{if(t===!1)throw new Ve(s(l," has been removed"+(r?" in "+r:"")),Ve.ERR_DEPRECATED);return r&&!dl[l]&&(dl[l]=!0,console.warn(s(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,l,c):!0}};function J_(e,t,r){if(typeof e!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let s=i.length;for(;s-- >0;){const a=i[s],l=t[a];if(l){const c=e[a],d=c===void 0||l(c,a,e);if(d!==!0)throw new Ve("option "+a+" must be "+d,Ve.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ve("Unknown option "+a,Ve.ERR_BAD_OPTION)}}const Fo={assertOptions:J_,validators:ka},In=Fo.validators;class Ti{constructor(t){this.defaults=t,this.interceptors={request:new ol,response:new ol}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=br(this.defaults,r);const{transitional:i,paramsSerializer:s,headers:a}=r;i!==void 0&&Fo.assertOptions(i,{silentJSONParsing:In.transitional(In.boolean),forcedJSONParsing:In.transitional(In.boolean),clarifyTimeoutError:In.transitional(In.boolean)},!1),s!=null&&(le.isFunction(s)?r.paramsSerializer={serialize:s}:Fo.assertOptions(s,{encode:In.function,serialize:In.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=a&&le.merge(a.common,a[r.method]);a&&le.forEach(["delete","get","head","post","put","patch","common"],_=>{delete a[_]}),r.headers=xn.concat(l,a);const c=[];let d=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(d=d&&y.synchronous,c.unshift(y.fulfilled,y.rejected))});const f=[];this.interceptors.response.forEach(function(y){f.push(y.fulfilled,y.rejected)});let h,g=0,w;if(!d){const _=[ul.bind(this),void 0];for(_.unshift.apply(_,c),_.push.apply(_,f),w=_.length,h=Promise.resolve(r);g<w;)h=h.then(_[g++],_[g++]);return h}w=c.length;let x=r;for(g=0;g<w;){const _=c[g++],y=c[g++];try{x=_(x)}catch(C){y.call(this,C);break}}try{h=ul.call(this,x)}catch(_){return Promise.reject(_)}for(g=0,w=f.length;g<w;)h=h.then(f[g++],f[g++]);return h}getUri(t){t=br(this.defaults,t);const r=pc(t.baseURL,t.url);return lc(r,t.params,t.paramsSerializer)}}le.forEach(["delete","get","head","options"],function(t){Ti.prototype[t]=function(r,i){return this.request(br(i||{},{method:t,url:r,data:(i||{}).data}))}});le.forEach(["post","put","patch"],function(t){function r(i){return function(a,l,c){return this.request(br(c||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Ti.prototype[t]=r(),Ti.prototype[t+"Form"]=r(!0)});const Li=Ti;class wa{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const i=this;this.promise.then(s=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](s);i._listeners=null}),this.promise.then=s=>{let a;const l=new Promise(c=>{i.subscribe(c),a=c}).then(s);return l.cancel=function(){i.unsubscribe(a)},l},t(function(a,l,c){i.reason||(i.reason=new Yr(a,l,c),r(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new wa(function(s){t=s}),cancel:t}}}const Y_=wa;function X_(e){return function(r){return e.apply(null,r)}}function Z_(e){return le.isObject(e)&&e.isAxiosError===!0}const $o={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($o).forEach(([e,t])=>{$o[t]=e});const Q_=$o;function mc(e){const t=new Li(e),r=Yu(Li.prototype.request,t);return le.extend(r,Li.prototype,t,{allOwnKeys:!0}),le.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return mc(br(e,s))},r}const kt=mc(La);kt.Axios=Li;kt.CanceledError=Yr;kt.CancelToken=Y_;kt.isCancel=fc;kt.VERSION=gc;kt.toFormData=Zi;kt.AxiosError=Ve;kt.Cancel=kt.CanceledError;kt.all=function(t){return Promise.all(t)};kt.spread=X_;kt.isAxiosError=Z_;kt.mergeConfig=br;kt.AxiosHeaders=xn;kt.formToJSON=e=>dc(le.isHTMLForm(e)?new FormData(e):e);kt.getAdapter=hc.getAdapter;kt.HttpStatusCode=Q_;kt.default=kt;const e0=kt,t0=e=>e.includes("Request failed with status code")?e.replace("Request failed with status code"," :"):e.includes("timeout of")?" 20000ms":e,vc=e0.create({baseURL:"/api",timeout:2e4});vc.interceptors.request.use(e=>e,e=>(console.log(e),Promise.reject(e)));let fl=!1;vc.interceptors.response.use(e=>{const t=e.data;return t.code&&t.code!==200?(mn({message:t.message||"!",grouping:!0,type:"error",duration:5*1e3}),t.code===10002&&!fl&&my.confirm("!","",{confirmButtonText:"",cancelButtonText:"",type:"warning"}).then(()=>{}).catch(r=>{console.log(r)}).finally(()=>{fl=!1}),t.code===99999?(console.log(`%c [${e.config.url}]`,"color: red;"),t):Promise.reject(`[${e.config.url}]`||"")):t},e=>(console.log(`err${e}`),mn({message:t0(e.message),grouping:!0,type:"error",duration:5*1e3}),Promise.reject(e)));const n0=Re({__name:"Index",setup(e){const t=pe({radius:100,point:""}),r={radius:[{required:!0,message:"",trigger:"blur"}],point:[{required:!0,message:"",trigger:"blur"}]},i=En(),s=pe(!1),a=dn();let l;function c(){a.value.validate(d=>{if(d){l==null||l.remove();const f=new Function(`return ${t.value.point}`)();l=hn.circle([f.lat,f.lng],{radius:t.value.radius}).addTo(i.map),s.value=!1}})}return(d,f)=>{const h=da,g=Wr,w=Ml,x=mv,_=Lu;return se(),Se(At,null,[ye(h,Cn({type:"primary"},d.$attrs,{onClick:f[0]||(f[0]=y=>s.value=!0)}),{default:fe(()=>[vt("")]),_:1},16),ye(_,{modelValue:M(s),"onUpdate:modelValue":f[4]||(f[4]=y=>zn(s)?s.value=y:null),width:"30vw"},{footer:fe(()=>[ye(h,{type:"primary",onClick:c},{default:fe(()=>[vt("")]),_:1}),ye(h,{onClick:f[3]||(f[3]=y=>s.value=!1)},{default:fe(()=>[vt("")]),_:1})]),default:fe(()=>[ye(M(mi),{ref_key:"formRef",ref:a,model:M(t),rules:r},{default:fe(()=>[ye(w,{label:"",prop:"point"},{default:fe(()=>[ye(g,{modelValue:M(t).point,"onUpdate:modelValue":f[1]||(f[1]=y=>M(t).point=y),placeholder:""},null,8,["modelValue"])]),_:1}),ye(w,{label:"",prop:"radius"},{default:fe(()=>[ye(x,{modelValue:M(t).radius,"onUpdate:modelValue":f[2]||(f[2]=y=>M(t).radius=y)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}}),r0={class:"fixed top-20px right-20px px-12px py-6px flex items-center z-999"},i0={class:"fixed top-20px left-120px px-12px py-6px flex items-center z-999"},o0={class:"max-h-80vh overflow-y-scroll"},a0=Pe("span",{class:"mt-16px text-#bbb"},"  [ { lat: 1534, lng: 260, z: 0 }, { lat: 1539, lng: 569, z: 250 }, { lat: 1346, lng: 575, z: 250 } ] ",-1),c0=Re({__name:"Home",setup(e){const t=pe();Xs.registerLanguage("json",cb);const r=dn(),i=pe(!1),s=pe(),a=new Bb;function l(){c.value="",s.value=xr(),d()}const c=pe("");function d(){var Te,xe;i.value=!0,!((xe=(Te=r.value)==null?void 0:Te.dataset)!=null&&xe.highlighted)&&Ke(()=>{Xs.highlightAll()})}function f(){c.value="",s.value=Wi(xr()),d()}function h(){localStorage.setItem(co,""),Y.push("/navigate")}const g=bb({source:s});function w(){g.copy(JSON.stringify(s.value,null,2)),mn.success({message:"",grouping:!0})}const x=pe(!1),_=pe({path:""}),y={path:[{required:!0,message:"",trigger:"blur"}]};function C(){x.value=!0}const v=dn();function S(){v.value.validate(Te=>{if(Te){const xe=new Function(`return ${_.value.path}`)();localStorage.setItem(co,JSON.stringify(xe)),Y.push("/navigate")}})}function D(Te){return new Function(`return ${Te}`)()}const E=pe(!1),T=pe({start:"",end:""}),B={start:[{required:!0,message:"",trigger:"blur"}],end:[{required:!0,message:"",trigger:"blur"}]};function I(){E.value=!0}const H=dn(),ee=pe(!1),Y=Fd(),re=En();function te(){H.value.validate(Te=>{if(Te){const xe=performance.now();if(a.navigate(xr(),D(T.value.start),D(T.value.end)),console.log(a.path),console.log("",performance.now()-xe),localStorage.setItem(co,JSON.stringify(a.path)),a.path.length===1){mn.error({message:"",grouping:!0});return}a.path.length&&Y.push("/navigate")}})}const{showNextButton:K}=Tl(re),ae=new Ab;function J(){H.value.validate(Te=>{if(Te&&(E.value=!1,K.value=!0,ae.navigate(xr(),D(T.value.start),D(T.value.end)),ae.path.length===1)){mn.error({message:"",grouping:!0});return}})}function ce(){Ib().next()}let U=null;const Q=pe(!1),de=pe([]),we=Z(()=>de.value.filter(Te=>!Te.list.some(xe=>xe.z===re.floorHeight()))),ke=pe({name:"",group:""});function Ee(Te){const xe=Te.layer.getLatLng();U={lat:xe.lat,lng:xe.lng,z:re.floorHeight()},de.value=JSON.parse(localStorage.getItem(fo))||[],ke.value={name:"",group:""},Q.value=!0}function qe(){ke.value.group=null}function We(){ke.value.name=null}function $e(){if(ke.value.name){const Te={name:ke.value.name,list:[U]};de.value.push(Te),localStorage.setItem(fo,JSON.stringify(de.value))}else if(ke.value.group)de.value.find(xe=>xe.name===ke.value.group).list.push(U),localStorage.setItem(fo,JSON.stringify(de.value));else{mn.error({message:"",grouping:!0});return}t.value.saveElevator(),Q.value=!1}return(Te,xe)=>{const De=da,wt=Lu,st=Wr,Ye=Ml,Mt=Av,pt=Dv,Ue=Vv;return se(),Se(At,null,[ye(Tb,{ref_key:"drawLineRef",ref:t,onElevatorAdd:Ee},null,512),Pe("div",r0,[ye(De,{type:"primary",onClick:l},{default:fe(()=>[vt("")]),_:1}),ye(De,{type:"primary",onClick:f},{default:fe(()=>[vt("")]),_:1}),ye(De,{type:"primary",onClick:xe[0]||(xe[0]=ze=>M(Rb)())},{default:fe(()=>[vt("")]),_:1}),ye(De,{type:"primary",onClick:h},{default:fe(()=>[vt("3D")]),_:1}),ye(n0,{class:"mr-12px"}),ye(De,{type:"primary",onClick:C},{default:fe(()=>[vt("")]),_:1}),ye(De,{type:"primary",onClick:I},{default:fe(()=>[vt("")]),_:1})]),Pe("div",i0,[M(K)?(se(),Me(De,{key:0,plain:"",type:"primary",onClick:ce},{default:fe(()=>[vt("")]),_:1})):Ce("",!0)]),ye(wt,{modelValue:M(i),"onUpdate:modelValue":xe[1]||(xe[1]=ze=>zn(i)?i.value=ze:null),"align-center":"",title:M(c),"destroy-on-close":""},{default:fe(()=>[ye(De,{type:"primary",onClick:w},{default:fe(()=>[vt("")]),_:1}),Pe("pre",o0,[vt("      "),Pe("code",{ref_key:"codeRef",ref:r,style:{"font-family":"'Cascadia Code','Consolas',serif"}},at(M(s)),513),vt(`
    `)])]),_:1},8,["modelValue","title"]),ye(wt,{modelValue:M(E),"onUpdate:modelValue":xe[4]||(xe[4]=ze=>zn(E)?E.value=ze:null),width:"20vw","align-center":"",title:"","destroy-on-close":""},{footer:fe(()=>[Lt((se(),Me(De,{type:"primary",onClick:J},{default:fe(()=>[vt("")]),_:1})),[[Ue,M(ee),void 0,{fullscreen:!0,lock:!0}]]),Lt((se(),Me(De,{type:"primary",onClick:te},{default:fe(()=>[vt("")]),_:1})),[[Ue,M(ee),void 0,{fullscreen:!0,lock:!0}]])]),default:fe(()=>[ye(M(mi),{ref_key:"formRef2",ref:H,model:M(T),rules:B},{default:fe(()=>[ye(Ye,{label:"",prop:"start"},{default:fe(()=>[ye(st,{modelValue:M(T).start,"onUpdate:modelValue":xe[2]||(xe[2]=ze=>M(T).start=ze),placeholder:""},null,8,["modelValue"])]),_:1}),ye(Ye,{label:"",prop:"end"},{default:fe(()=>[ye(st,{modelValue:M(T).end,"onUpdate:modelValue":xe[3]||(xe[3]=ze=>M(T).end=ze),placeholder:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),ye(wt,{modelValue:M(x),"onUpdate:modelValue":xe[6]||(xe[6]=ze=>zn(x)?x.value=ze:null),title:"","destroy-on-close":""},{footer:fe(()=>[ye(De,{type:"primary",onClick:S},{default:fe(()=>[vt("")]),_:1})]),default:fe(()=>[ye(M(mi),{ref_key:"formRef",ref:v,model:M(_),rules:y},{default:fe(()=>[ye(Ye,{prop:"path"},{default:fe(()=>[ye(st,{modelValue:M(_).path,"onUpdate:modelValue":xe[5]||(xe[5]=ze=>M(_).path=ze)},null,8,["modelValue"])]),_:1}),a0]),_:1},8,["model"])]),_:1},8,["modelValue"]),ye(wt,{modelValue:M(Q),"onUpdate:modelValue":xe[9]||(xe[9]=ze=>zn(Q)?Q.value=ze:null),title:"",width:"30vw"},{footer:fe(()=>[ye(De,{type:"primary",onClick:$e},{default:fe(()=>[vt("")]),_:1})]),default:fe(()=>[ye(M(mi),{model:M(ke)},{default:fe(()=>[ye(Ye,{label:"",prop:"name"},{default:fe(()=>[ye(st,{modelValue:M(ke).name,"onUpdate:modelValue":xe[7]||(xe[7]=ze=>M(ke).name=ze),placeholder:"",onChange:qe},null,8,["modelValue"])]),_:1}),ye(Ye,{label:"",prop:"group"},{default:fe(()=>[ye(pt,{modelValue:M(ke).group,"onUpdate:modelValue":xe[8]||(xe[8]=ze=>M(ke).group=ze),onChange:We},{default:fe(()=>[(se(!0),Se(At,null,Or(M(we),ze=>(se(),Me(Mt,{key:ze.name,label:ze.name,value:ze.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}});export{c0 as default};
